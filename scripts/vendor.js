function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(T,e){"use strict";var t=[],E=T.document,n=Object.getPrototypeOf,a=t.slice,m=t.concat,l=t.push,o=t.indexOf,i={},r=i.toString,g=i.hasOwnProperty,s=g.toString,c=s.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},w=function(e){return null!=e&&e===e.window},u={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,i){var n,o,r=(i=i||E).createElement("script");if(r.text=e,t)for(n in u)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&r.setAttribute(n,o);i.head.appendChild(r).parentNode.removeChild(r)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[r.call(e)]||"object":typeof e}var d="3.4.1",C=function(e,t){return new C.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function p(e){var t=!!e&&"length"in e&&e.length,i=b(e);return!y(e)&&!w(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:d,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(i){return this.pushStack(C.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(c&&n&&(C.isPlainObject(n)||(o=Array.isArray(n)))?(i=s[t],r=o&&!Array.isArray(i)?[]:o||C.isPlainObject(i)?i:{},o=!1,s[t]=C.extend(c,r,n)):void 0!==n&&(s[t]=n));return s},C.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==r.call(e))&&(!(t=n(e))||"function"==typeof(i=g.call(t,"constructor")&&t.constructor)&&s.call(i)===c)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){x(e,{nonce:t&&t.nonce})},each:function(e,t){var i,n=0;if(p(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(p(Object(e))?C.merge(i,"string"==typeof e?[e]:e):l.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:o.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,s=!i;o<r;o++)!t(e[o],o)!==s&&n.push(e[o]);return n},map:function(e,t,i){var n,o,r=0,s=[];if(p(e))for(n=e.length;r<n;r++)null!=(o=t(e[r],r,i))&&s.push(o);else for(r in e)null!=(o=t(e[r],r,i))&&s.push(o);return m.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var f=function(i){var e,p,x,r,o,f,d,m,b,l,c,S,T,s,E,g,a,u,v,C="sizzle"+1*new Date,y=i.document,_=0,n=0,h=le(),w=le(),P=le(),k=le(),I=function(e,t){return e===t&&(c=!0),0},A={}.hasOwnProperty,t=[],R=t.pop,O=t.push,L=t.push,N=t.slice,D=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+z+"*("+H+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+z+"*\\]",j=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(z+"+","g"),$=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),q=new RegExp("^"+z+"*,"+z+"*"),W=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),U=new RegExp(z+"|>"),V=new RegExp(j),G=new RegExp("^"+H+"$"),X={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),ie=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){S()},se=xe(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{L.apply(t=N.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){O.apply(e,N.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ae(t,e,i,n){var o,r,s,a,l,c,u,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return i;if(!n&&((e?e.ownerDocument||e:y)!==T&&S(e),e=e||T,E)){if(11!==h&&(l=J.exec(t)))if(o=l[1]){if(9===h){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(d&&(s=d.getElementById(o))&&v(e,s)&&s.id===o)return i.push(s),i}else{if(l[2])return L.apply(i,e.getElementsByTagName(t)),i;if((o=l[3])&&p.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(o)),i}if(p.qsa&&!k[t+" "]&&(!g||!g.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(u=t,d=e,1===h&&U.test(t)){for((a=e.getAttribute("id"))?a=a.replace(ne,oe):e.setAttribute("id",a=C),r=(c=f(t)).length;r--;)c[r]="#"+a+" "+we(c[r]);u=c.join(","),d=ee.test(t)&&ve(e.parentNode)||e}try{return L.apply(i,d.querySelectorAll(u)),i}catch(e){k(t,!0)}finally{a===C&&e.removeAttribute("id")}}}return m(t.replace($,"$1"),e,i,n)}function le(){var n=[];return function e(t,i){return n.push(t+" ")>x.cacheLength&&delete e[n.shift()],e[t+" "]=i}}function ce(e){return e[C]=!0,e}function ue(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var i=e.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=t}function he(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function pe(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function fe(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ge(s){return ce(function(r){return r=+r,ce(function(e,t){for(var i,n=s([],e.length,r),o=n.length;o--;)e[i=n[o]]&&(e[i]=!(t[i]=e[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=ae.support={},o=ae.isXML=function(e){var t=e.namespaceURI,i=(e.ownerDocument||e).documentElement;return!Z.test(t||i&&i.nodeName||"HTML")},S=ae.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:y;return n!==T&&9===n.nodeType&&n.documentElement&&(s=(T=n).documentElement,E=!o(T),y!==T&&(i=T.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),p.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ue(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=K.test(T.getElementsByClassName),p.getById=ue(function(e){return s.appendChild(e).id=C,!T.getElementsByName||!T.getElementsByName(C).length}),p.getById?(x.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var i=t.getElementById(e);return i?[i]:[]}}):(x.filter.ID=function(e){var i=e.replace(te,ie);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var i,n,o,r=t.getElementById(e);if(r){if((i=r.getAttributeNode("id"))&&i.value===e)return[r];for(o=t.getElementsByName(e),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===e)return[r]}return[]}}),x.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},a=[],g=[],(p.qsa=K.test(T.querySelectorAll))&&(ue(function(e){s.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+z+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+C+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+z+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=K.test(u=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ue(function(e){p.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),a.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),a=a.length&&new RegExp(a.join("|")),t=K.test(s.compareDocumentPosition),v=t||K.test(s.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return c=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===i?e===T||e.ownerDocument===y&&v(y,e)?-1:t===T||t.ownerDocument===y&&v(y,t)?1:l?D(l,e)-D(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return c=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!o||!r)return e===T?-1:t===T?1:o?-1:r?1:l?D(l,e)-D(l,t):0;if(o===r)return he(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?he(s[n],a[n]):s[n]===y?-1:a[n]===y?1:0}),T},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==T&&S(e),p.matchesSelector&&E&&!k[t+" "]&&(!a||!a.test(t))&&(!g||!g.test(t)))try{var i=u.call(e,t);if(i||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){k(t,!0)}return 0<ae(t,T,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!==T&&S(e),v(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==T&&S(e);var i=x.attrHandle[t.toLowerCase()],n=i&&A.call(x.attrHandle,t.toLowerCase())?i(e,t,!E):void 0;return void 0!==n?n:p.attributes||!E?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ae.escape=function(e){return(e+"").replace(ne,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],n=0,o=0;if(c=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(I),c){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return l=null,e},r=ae.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(x=ae.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&V.test(i)&&(t=f(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=h[e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&h(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(e){var t=ae.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===o:"!="===n?t!==o:"^="===n?o&&0===t.indexOf(o):"*="===n?o&&-1<t.indexOf(o):"$="===n?o&&t.slice(-o.length)===o:"~="===n?-1<(" "+t.replace(B," ")+" ").indexOf(o):"|="===n&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),w="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,i){var n,o,r,s,a,l,c=v!==y?"nextSibling":"previousSibling",u=e.parentNode,d=w&&e.nodeName.toLowerCase(),h=!i&&!w,p=!1;if(u){if(v){for(;c;){for(s=e;s=s[c];)if(w?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&h){for(p=(a=(n=(o=(r=(s=u)[C]||(s[C]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===_&&n[1])&&n[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(p=a=0)||l.pop();)if(1===s.nodeType&&++p&&s===e){o[f]=[_,a,p];break}}else if(h&&(p=a=(n=(o=(r=(s=e)[C]||(s[C]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===_&&n[1]),!1===p)for(;(s=++a&&s&&s[c]||(p=a=0)||l.pop())&&((w?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++p||(h&&((o=(r=s[C]||(s[C]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]=[_,p]),s!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,r){var t,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return s[C]?s(r):1<s.length?(t=[e,e,"",r],x.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var i,n=s(e,r),o=n.length;o--;)e[i=D(e,n[o])]=!(t[i]=n[o])}):function(e){return s(e,0,t)}):s}},pseudos:{not:ce(function(e){var n=[],o=[],a=d(e.replace($,"$1"));return a[C]?ce(function(e,t,i,n){for(var o,r=a(e,null,n,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))}):function(e,t,i){return n[0]=e,a(n,null,i,o),n[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<ae(t,e).length}}),contains:ce(function(t){return t=t.replace(te,ie),function(e){return-1<(e.textContent||r(e)).indexOf(t)}}),lang:ce(function(i){return G.test(i||"")||ae.error("unsupported lang: "+i),i=i.replace(te,ie).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,i){return[i<0?i+t:i]}),even:ge(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:ge(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:ge(function(e,t,i){for(var n=i<0?i+t:t<i?t:i;0<=--n;)e.push(n);return e}),gt:ge(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=pe(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=fe(e);function ye(){}function we(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function xe(a,e,t){var l=e.dir,c=e.next,u=c||l,d=t&&"parentNode"===u,h=n++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||d)return a(e,t,i);return!1}:function(e,t,i){var n,o,r,s=[_,h];if(i){for(;e=e[l];)if((1===e.nodeType||d)&&a(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(o=(r=e[C]||(e[C]={}))[e.uniqueID]||(r[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((n=o[u])&&n[0]===_&&n[1]===h)return s[2]=n[2];if((o[u]=s)[2]=a(e,t,i))return!0}return!1}}function be(o){return 1<o.length?function(e,t,i){for(var n=o.length;n--;)if(!o[n](e,t,i))return!1;return!0}:o[0]}function Se(e,t,i,n,o){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(i&&!i(r,n,o)||(s.push(r),c&&t.push(a)));return s}function Te(p,f,m,g,v,e){return g&&!g[C]&&(g=Te(g)),v&&!v[C]&&(v=Te(v,e)),ce(function(e,t,i,n){var o,r,s,a=[],l=[],c=t.length,u=e||function(e,t,i){for(var n=0,o=t.length;n<o;n++)ae(e,t[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!e&&f?u:Se(u,a,p,i,n),h=m?v||(e?p:c||g)?[]:t:d;if(m&&m(d,h,i,n),g)for(o=Se(h,l),g(o,[],i,n),r=o.length;r--;)(s=o[r])&&(h[l[r]]=!(d[l[r]]=s));if(e){if(v||p){if(v){for(o=[],r=h.length;r--;)(s=h[r])&&o.push(d[r]=s);v(null,h=[],o,n)}for(r=h.length;r--;)(s=h[r])&&-1<(o=v?D(e,s):a[r])&&(e[o]=!(t[o]=s))}}else h=Se(h===t?h.splice(c,h.length):h),v?v(null,t,h,n):L.apply(t,h)})}function Ee(e){for(var o,t,i,n=e.length,r=x.relative[e[0].type],s=r||x.relative[" "],a=r?1:0,l=xe(function(e){return e===o},s,!0),c=xe(function(e){return-1<D(o,e)},s,!0),u=[function(e,t,i){var n=!r&&(i||t!==b)||((o=t).nodeType?l(e,t,i):c(e,t,i));return o=null,n}];a<n;a++)if(t=x.relative[e[a].type])u=[xe(be(u),t)];else{if((t=x.filter[e[a].type].apply(null,e[a].matches))[C]){for(i=++a;i<n&&!x.relative[e[i].type];i++);return Te(1<a&&be(u),1<a&&we(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace($,"$1"),t,a<i&&Ee(e.slice(a,i)),i<n&&Ee(e=e.slice(i)),i<n&&we(e))}u.push(t)}return be(u)}return ye.prototype=x.filters=x.pseudos,x.setFilters=new ye,f=ae.tokenize=function(e,t){var i,n,o,r,s,a,l,c=w[e+" "];if(c)return t?0:c.slice(0);for(s=e,a=[],l=x.preFilter;s;){for(r in i&&!(n=q.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(o=[])),i=!1,(n=W.exec(s))&&(i=n.shift(),o.push({value:i,type:n[0].replace($," ")}),s=s.slice(i.length)),x.filter)!(n=X[r].exec(s))||l[r]&&!(n=l[r](n))||(i=n.shift(),o.push({value:i,type:r,matches:n}),s=s.slice(i.length));if(!i)break}return t?s.length:s?ae.error(e):w(e,a).slice(0)},d=ae.compile=function(e,t){var i,g,v,y,w,n,o=[],r=[],s=P[e+" "];if(!s){for(t||(t=f(e)),i=t.length;i--;)(s=Ee(t[i]))[C]?o.push(s):r.push(s);(s=P(e,(g=r,y=0<(v=o).length,w=0<g.length,n=function(e,t,i,n,o){var r,s,a,l=0,c="0",u=e&&[],d=[],h=b,p=e||w&&x.find.TAG("*",o),f=_+=null==h?1:Math.random()||.1,m=p.length;for(o&&(b=t===T||t||o);c!==m&&null!=(r=p[c]);c++){if(w&&r){for(s=0,t||r.ownerDocument===T||(S(r),i=!E);a=g[s++];)if(a(r,t||T,i)){n.push(r);break}o&&(_=f)}y&&((r=!a&&r)&&l--,e&&u.push(r))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,d,t,i);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=R.call(n));d=Se(d)}L.apply(n,d),o&&!e&&0<d.length&&1<l+v.length&&ae.uniqueSort(n)}return o&&(_=f,b=h),u},y?ce(n):n))).selector=e}return s},m=ae.select=function(e,t,i,n){var o,r,s,a,l,c="function"==typeof e&&e,u=!n&&f(e=c.selector||e);if(i=i||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(s=r[0]).type&&9===t.nodeType&&E&&x.relative[r[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(te,ie),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=X.needsContext.test(e)?0:r.length;o--&&(s=r[o],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(te,ie),ee.test(r[0].type)&&ve(t.parentNode)||t))){if(r.splice(o,1),!(e=n.length&&we(r)))return L.apply(i,n),i;break}}return(c||d(e,u))(n,t,!E,i,!t||ee.test(e)&&ve(t.parentNode)||t),i},p.sortStable=C.split("").sort(I).join("")===C,p.detectDuplicates=!!c,S(),p.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(M,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ae}(T);C.find=f,C.expr=f.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=f.uniqueSort,C.text=f.getText,C.isXMLDoc=f.isXML,C.contains=f.contains,C.escapeSelector=f.escape;var S=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(i))break;n.push(e)}return n},_=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},P=C.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,i,n){return y(i)?C.grep(e,function(e,t){return!!i.call(e,t,e)!==n}):i.nodeType?C.grep(e,function(e){return e===i!==n}):"string"!=typeof i?C.grep(e,function(e){return-1<o.call(i,e)!==n}):C.filter(i,e,n)}C.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?C.find.matchesSelector(n,e)?[n]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<n;t++)if(C.contains(o[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)C.find(e,o[t],i);return 1<n?C.uniqueSort(i):i},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&P.test(e)?C(e):e||[],!1).length}});var R,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||R,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:O.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),I.test(n[1])&&C.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=E.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==i.ready?i.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,R=C(E);var L=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,o=this.length,r=[],s="string"!=typeof e&&C(e);if(!P.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&C.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,i){return S(e,"parentNode",i)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,i){return S(e,"nextSibling",i)},prevUntil:function(e,t,i){return S(e,"previousSibling",i)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(k(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(n,o){C.fn[n]=function(e,t){var i=C.map(this,o,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=C.filter(t,i)),1<this.length&&(N[n]||C.uniqueSort(i),L.test(n)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function z(e){return e}function H(e){throw e}function F(e,t,i,n){var o;try{e&&y(o=e.promise)?o.call(e).done(t).fail(i):e&&y(o=e.then)?o.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}C.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},C.each(e.match(M)||[],function(e,t){i[t]=!0}),i):C.extend({},n);var o,t,r,s,a=[],l=[],c=-1,u=function(){for(s=s||n.once,r=o=!0;l.length;c=-1)for(t=l.shift();++c<a.length;)!1===a[c].apply(t[0],t[1])&&n.stopOnFalse&&(c=a.length,t=!1);n.memory||(t=!1),o=!1,s&&(a=t?[]:"")},d={add:function(){return a&&(t&&!o&&(c=a.length-1,l.push(t)),function i(e){C.each(e,function(e,t){y(t)?n.unique&&d.has(t)||a.push(t):t&&t.length&&"string"!==b(t)&&i(t)})}(arguments),t&&!o&&u()),this},remove:function(){return C.each(arguments,function(e,t){for(var i;-1<(i=C.inArray(t,a,i));)a.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<C.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=t="",this},disabled:function(){return!a},lock:function(){return s=l=[],t||o||(a=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},C.extend({Deferred:function(e){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var o=arguments;return C.Deferred(function(n){C.each(r,function(e,t){var i=y(o[t[4]])&&o[t[4]];a[t[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),o=null}).promise()},then:function(t,i,n){var l=0;function c(o,r,s,a){return function(){var i=this,n=arguments,e=function(){var e,t;if(!(o<l)){if((e=s.apply(i,n))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?a?t.call(e,c(l,r,z,a),c(l,r,H,a)):(l++,t.call(e,c(l,r,z,a),c(l,r,H,a),c(l,r,z,r.notifyWith))):(s!==z&&(i=void 0,n=[e]),(a||r.resolveWith)(i,n))}},t=a?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=o+1&&(s!==H&&(i=void 0,n=[e]),r.rejectWith(i,n))}};o?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),T.setTimeout(t))}}return C.Deferred(function(e){r[0][3].add(c(0,e,y(n)?n:z,e.notifyWith)),r[1][3].add(c(0,e,y(t)?t:z)),r[2][3].add(c(0,e,y(i)?i:H))}).promise()},promise:function(e){return null!=e?C.extend(e,s):s}},a={};return C.each(r,function(e,t){var i=t[2],n=t[5];s[t[1]]=i.add,n&&i.add(function(){o=n},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=i.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var i=arguments.length,t=i,n=Array(t),o=a.call(arguments),r=C.Deferred(),s=function(t){return function(e){n[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--i||r.resolveWith(n,o)}};if(i<=1&&(F(e,r.done(s(t)).resolve,r.reject,!i),"pending"===r.state()||y(o[t]&&o[t].then)))return r.then();for(;t--;)F(o[t],s(t),r.reject);return r.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&j.test(e.name)&&T.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){T.setTimeout(function(){throw e})};var B=C.Deferred();function $(){E.removeEventListener("DOMContentLoaded",$),T.removeEventListener("load",$),C.ready()}C.fn.ready=function(e){return B.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||B.resolveWith(E,[C])}}),C.ready.then=B.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?T.setTimeout(C.ready):(E.addEventListener("DOMContentLoaded",$),T.addEventListener("load",$));var q=function(e,t,i,n,o,r,s){var a=0,l=e.length,c=null==i;if("object"===b(i))for(a in o=!0,i)q(e,t,a,i[a],!0,r,s);else if(void 0!==n&&(o=!0,y(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(C(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return o?e:c?t.call(e):l?t(e[0],i):r},W=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(W,"ms-").replace(U,V)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=C.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[G(t)]=i;else for(n in t)o[G(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(G):(t=G(t))in n?[t]:t.match(M)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||C.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Y=new Z,Q=new Z,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function ee(e,t,i){var n,o;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(o=i)||"false"!==o&&("null"===o?null:o===+o+""?+o:K.test(o)?JSON.parse(o):o)}catch(e){}Q.set(e,t,i)}else i=void 0;return i}C.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,i){return Q.access(e,t,i)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,i){return Y.access(e,t,i)},_removeData:function(e,t){Y.remove(e,t)}}),C.fn.extend({data:function(i,e){var t,n,o,r=this[0],s=r&&r.attributes;if(void 0===i){if(this.length&&(o=Q.get(r),1===r.nodeType&&!Y.get(r,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(n=s[t].name).indexOf("data-")&&(n=G(n.slice(5)),ee(r,n,o[n]));Y.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof i?this.each(function(){Q.set(this,i)}):q(this,function(e){var t;if(r&&void 0===e)return void 0!==(t=Q.get(r,i))?t:void 0!==(t=ee(r,i))?t:void 0;this.each(function(){Q.set(this,i,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),C.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Y.get(e,t),i&&(!n||Array.isArray(i)?n=Y.access(e,t,C.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=C.queue(e,t),n=i.length,o=i.shift(),r=C._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,function(){C.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Y.get(e,i)||Y.access(e,i,{empty:C.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",i])})})}}),C.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===i?this:this.each(function(){var e=C.queue(this,t,i);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=C.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=Y.get(r[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],oe=E.documentElement,re=function(e){return C.contains(e.ownerDocument,e)},se={composed:!0};oe.getRootNode&&(re=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===C.css(e,"display")},le=function(e,t,i,n){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=i.apply(e,n||[]),t)e.style[r]=s[r];return o};function ce(e,t,i,n){var o,r,s=20,a=n?function(){return n.cur()}:function(){return C.css(e,t,"")},l=a(),c=i&&i[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&ie.exec(C.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)C.style(e,t,u+c),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),u/=r;u*=2,C.style(e,t,u+c),i=i||[]}return i&&(u=+u||+l||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=o)),o}var ue={};function de(e,t){for(var i,n,o,r,s,a,l,c=[],u=0,d=e.length;u<d;u++)(n=e[u]).style&&(i=n.style.display,t?("none"===i&&(c[u]=Y.get(n,"display")||null,c[u]||(n.style.display="")),""===n.style.display&&ae(n)&&(c[u]=(l=s=r=void 0,s=(o=n).ownerDocument,a=o.nodeName,(l=ue[a])||(r=s.body.appendChild(s.createElement(a)),l=C.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),ue[a]=l)))):"none"!==i&&(c[u]="none",Y.set(n,"display",i)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}C.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?C(this).show():C(this).hide()})}});var he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?C.merge([e],i):i}function ve(e,t){for(var i=0,n=e.length;i<n;i++)Y.set(e[i],"globalEval",!t||Y.get(t[i],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ye,we,xe=/<|&#?\w+;/;function be(e,t,i,n,o){for(var r,s,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===b(r))C.merge(h,r.nodeType?[r]:r);else if(xe.test(r)){for(s=s||d.appendChild(t.createElement("div")),a=(pe.exec(r)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+C.htmlPrefilter(r)+l[2],u=l[0];u--;)s=s.lastChild;C.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",p=0;r=h[p++];)if(n&&-1<C.inArray(r,n))o&&o.push(r);else if(c=re(r),s=ge(d.appendChild(r),"script"),c&&ve(s),i)for(u=0;r=s[u++];)fe.test(r.type||"")&&i.push(r);return d}ye=E.createDocumentFragment().appendChild(E.createElement("div")),(we=E.createElement("input")).setAttribute("type","radio"),we.setAttribute("checked","checked"),we.setAttribute("name","t"),ye.appendChild(we),v.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var Se=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function _e(){return!1}function Pe(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,i,n,o,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)ke(e,a,i,n,t[a],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=_e;else if(!o)return e;return 1===r&&(s=o,(o=function(e){return C().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),e.each(function(){C.event.add(this,t,o,n,i)})}function Ie(e,o,r){r?(Y.set(e,o,!1),C.event.add(e,o,{namespace:!1,handler:function(e){var t,i,n=Y.get(this,o);if(1&e.isTrigger&&this[o]){if(n.length)(C.event.special[o]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),Y.set(this,o,n),t=r(this,o),this[o](),n!==(i=Y.get(this,o))||t?Y.set(this,o,!1):i={},n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else n.length&&(Y.set(this,o,{value:C.event.trigger(C.extend(n[0],C.Event.prototype),n.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,o)&&C.event.add(e,o,Ce)}C.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,c,u,d,h,p,f,m,g=Y.get(t);if(g)for(i.handler&&(i=(r=i).handler,o=r.selector),o&&C.find.matchesSelector(oe,o),i.guid||(i.guid=C.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(M)||[""]).length;c--;)p=m=(a=Ee.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=C.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=C.event.special[p]||{},u=C.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),C.event.global[p]=!0)},remove:function(e,t,i,n,o){var r,s,a,l,c,u,d,h,p,f,m,g=Y.hasData(e)&&Y.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(p=m=(a=Ee.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)u=h[r],!o&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||C.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)C.event.remove(e,p+t[c],i,n,!0);C.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,r,s,a=C.event.fix(e),l=new Array(arguments.length),c=(Y.get(this,"events")||{})[a.type]||[],u=C.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=C.event.handlers.call(this,a,c),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(n=((C.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,o,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},i=0;i<l;i++)void 0===s[o=(n=t[i]).selector+" "]&&(s[o]=n.needsContext?-1<C(o,this).index(c):C.find(o,this,null,[c]).length),s[o]&&r.push(n);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&k(t,"input")&&Ie(t,"click",Ce),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&k(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&k(t,"input")&&Y.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Se.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(e,t){C.event.special[e]={setup:function(){return Ie(this,e,Pe),!1},trigger:function(){return Ie(this,e),!0},delegateType:t}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||C.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),C.fn.extend({on:function(e,t,i,n){return ke(this,e,t,i,n)},one:function(e,t,i,n){return ke(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,C(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=_e),this.each(function(){C.event.remove(this,e,i,t)})}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Re=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var i,n,o,r,s,a,l,c;if(1===t.nodeType){if(Y.hasData(e)&&(r=Y.access(e),s=Y.set(t,r),c=r.events))for(o in delete s.handle,s.events={},c)for(i=0,n=c[o].length;i<n;i++)C.event.add(t,o,c[o][i]);Q.hasData(e)&&(a=Q.access(e),l=C.extend({},a),Q.set(t,l))}}function He(i,n,o,r){n=m.apply([],n);var e,t,s,a,l,c,u=0,d=i.length,h=d-1,p=n[0],f=y(p);if(f||1<d&&"string"==typeof p&&!v.checkClone&&Oe.test(p))return i.each(function(e){var t=i.eq(e);f&&(n[0]=p.call(this,e,t.html())),He(t,n,o,r)});if(d&&(t=(e=be(n,i[0].ownerDocument,!1,i,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(a=(s=C.map(ge(e,"script"),De)).length;u<d;u++)l=e,u!==h&&(l=C.clone(l,!0,!0),a&&C.merge(s,ge(l,"script"))),o.call(i[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,C.map(s,Me),u=0;u<a;u++)l=s[u],fe.test(l.type||"")&&!Y.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(Le,""),l,c))}return i}function Fe(e,t,i){for(var n,o=t?C.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||C.cleanData(ge(n)),n.parentNode&&(i&&re(n)&&ve(ge(n,"script")),n.parentNode.removeChild(n));return e}C.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,i){var n,o,r,s,a,l,c,u=e.cloneNode(!0),d=re(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=ge(u),n=0,o=(r=ge(e)).length;n<o;n++)a=r[n],l=s[n],void 0,"input"===(c=l.nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(i)for(r=r||ge(e),s=s||ge(u),n=0,o=r.length;n<o;n++)ze(r[n],s[n]);else ze(e,u);return 0<(s=ge(u,"script")).length&&ve(s,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,i,n,o=C.event.special,r=0;void 0!==(i=e[r]);r++)if(X(i)){if(t=i[Y.expando]){if(t.events)for(n in t.events)o[n]?C.event.remove(i,n):C.removeEvent(i,n,t.handle);i[Y.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return q(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(C.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return He(this,arguments,function(e){var t=this.parentNode;C.inArray(this,i)<0&&(C.cleanData(ge(this)),t&&t.replaceChild(e,this))},i)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){C.fn[e]=function(e){for(var t,i=[],n=C(e),o=n.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),C(n[r])[s](t),l.apply(i,t.get());return this.pushStack(i)}});var je=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=T),t.getComputedStyle(e)},$e=new RegExp(ne.join("|"),"i");function qe(e,t,i){var n,o,r,s,a=e.style;return(i=i||Be(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||re(e)||(s=C.style(e,t)),!v.pixelBoxStyles()&&je.test(s)&&$e.test(t)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(a).appendChild(l);var e=T.getComputedStyle(l);i="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",r=36===t(e.right),n=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),oe.removeChild(a),l=null}}function t(e){return Math.round(parseFloat(e))}var i,n,o,r,s,a=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,C.extend(v,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o}}))}();var Ue=["Webkit","Moz","ms"],Ve=E.createElement("div").style,Ge={};function Xe(e){var t=C.cssProps[e]||Ge[e];return t||(e in Ve?e:Ge[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=Ue.length;i--;)if((e=Ue[i]+t)in Ve)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Je(e,t,i){var n=ie.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function et(e,t,i,n,o,r){var s="width"===t?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=C.css(e,i+ne[s],!0,o)),n?("content"===i&&(l-=C.css(e,"padding"+ne[s],!0,o)),"margin"!==i&&(l-=C.css(e,"border"+ne[s]+"Width",!0,o))):(l+=C.css(e,"padding"+ne[s],!0,o),"padding"!==i?l+=C.css(e,"border"+ne[s]+"Width",!0,o):a+=C.css(e,"border"+ne[s]+"Width",!0,o));return!n&&0<=r&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l}function tt(e,t,i){var n=Be(e),o=(!v.boxSizingReliable()||i)&&"border-box"===C.css(e,"boxSizing",!1,n),r=o,s=qe(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(s)){if(!i)return s;s="auto"}return(!v.boxSizingReliable()&&o||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===C.css(e,"boxSizing",!1,n),(r=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+et(e,t,i||(o?"border":"content"),r,n,s)+"px"}function it(e,t,i,n,o){return new it.prototype.init(e,t,i,n,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=qe(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=G(t),l=Ye.test(t),c=e.style;if(l||(t=Xe(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(e,!1,n))?o:c[t];"string"===(r=typeof i)&&(o=ie.exec(i))&&o[1]&&(i=ce(e,t,o),r="number"),null!=i&&i==i&&("number"!==r||l||(i+=o&&o[3]||(C.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var o,r,s,a=G(t);return Ye.test(t)||(t=Xe(a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,i)),void 0===o&&(o=qe(e,t,n)),"normal"===o&&t in Ke&&(o=Ke[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),C.each(["height","width"],function(e,l){C.cssHooks[l]={get:function(e,t,i){if(t)return!Ze.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,l,i):le(e,Qe,function(){return tt(e,l,i)})},set:function(e,t,i){var n,o=Be(e),r=!v.scrollboxSize()&&"absolute"===o.position,s=(r||i)&&"border-box"===C.css(e,"boxSizing",!1,o),a=i?et(e,l,i,s,o):0;return s&&r&&(a-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-et(e,l,"border",!1,o)-.5)),a&&(n=ie.exec(t))&&"px"!==(n[3]||"px")&&(e.style[l]=t,t=C.css(e,l)),Je(0,t,a)}}}),C.cssHooks.marginLeft=We(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[o+ne[t]+r]=n[t]||n[t-2]||n[0];return i}},"margin"!==o&&(C.cssHooks[o+r].set=Je)}),C.fn.extend({css:function(e,t){return q(this,function(e,t,i){var n,o,r={},s=0;if(Array.isArray(t)){for(n=Be(e),o=t.length;s<o;s++)r[t[s]]=C.css(e,t[s],!1,n);return r}return void 0!==i?C.style(e,t,i):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=it).prototype={constructor:it,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(C.cssNumber[i]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,i=it.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):it.propHooks._default.set(this),this}}).init.prototype=it.prototype,(it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=it.prototype.init,C.fx.step={};var nt,ot,rt,st,at=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ct(){ot&&(!1===E.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(ct):T.setTimeout(ct,C.fx.interval),C.fx.tick())}function ut(){return T.setTimeout(function(){nt=void 0}),nt=Date.now()}function dt(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=ne[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function ht(e,t,i){for(var n,o=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,t,e))return n}function pt(r,e,t){var i,s,n=0,o=pt.prefilters.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=nt||ut(),t=Math.max(0,c.startTime+c.duration-e),i=1-(t/c.duration||0),n=0,o=c.tweens.length;n<o;n++)c.tweens[n].run(i);return a.notifyWith(r,[c,i,t]),i<1&&o?t:(o||a.notifyWith(r,[c,1,0]),a.resolveWith(r,[c]),!1)},c=a.promise({elem:r,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:nt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var i=C.Tween(r,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var t=0,i=e?c.tweens.length:0;if(s)return this;for(s=!0;t<i;t++)c.tweens[t].run(1);return e?(a.notifyWith(r,[c,1,0]),a.resolveWith(r,[c,e])):a.rejectWith(r,[c,e]),this}}),u=c.props;for(!function(e,t){var i,n,o,r,s;for(i in e)if(o=t[n=G(i)],r=e[i],Array.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(s=C.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=o);else t[n]=o}(u,c.opts.specialEasing);n<o;n++)if(i=pt.prefilters[n].call(c,r,u,c.opts))return y(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return C.map(u,ht,c),y(c.opts.start)&&c.opts.start.call(r,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(pt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ce(i.elem,e,ie.exec(t),i),i}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(M);for(var i,n=0,o=e.length;n<o;n++)i=e[n],pt.tweeners[i]=pt.tweeners[i]||[],pt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,o,r,s,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&ae(e),g=Y.get(e,"fxshow");for(n in i.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()})})),t)if(o=t[n],at.test(o)){if(delete t[n],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||C.style(e,n)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Y.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=C.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Y.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&de([e],!0),h.done(function(){for(n in m||de([e]),Y.remove(e,"fxshow"),p)C.style(e,n,p[n])})),l=ht(m?g[n]:0,n,h),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),C.speed=function(e,t,i){var n=e&&"object"==typeof e?C.extend({},e):{complete:i||!i&&t||y(e)&&e,duration:e,easing:i&&t||t&&!y(t)&&t};return C.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in C.fx.speeds?n.duration=C.fx.speeds[n.duration]:n.duration=C.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var o=C.isEmptyObject(t),r=C.speed(e,i,n),s=function(){var e=pt(this,C.extend({},t),r);(o||Y.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(o,e,r){var s=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",i=C.timers,n=Y.get(this);if(t)n[t]&&n[t].stop&&s(n[t]);else for(t in n)n[t]&&n[t].stop&&lt.test(t)&&s(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=o&&i[t].queue!==o||(i[t].anim.stop(r),e=!1,i.splice(t,1));!e&&r||C.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=Y.get(this),i=t[s+"queue"],n=t[s+"queueHooks"],o=C.timers,r=i?i.length:0;for(t.finish=!0,C.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===s&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,n){var o=C.fn[n];C.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(dt(n,!0),e,t,i)}}),C.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){C.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),C.timers=[],C.fx.tick=function(){var e,t=0,i=C.timers;for(nt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||C.fx.stop(),nt=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ot||(ot=!0,ct())},C.fx.stop=function(){ot=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,e){return n=C.fx&&C.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=T.setTimeout(e,n);t.stop=function(){T.clearTimeout(i)}})},rt=E.createElement("input"),st=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",v.checkOn=""!==rt.value,v.optSelected=st.selected,(rt=E.createElement("input")).value="t",rt.type="radio",v.radioValue="t"===rt.value;var ft,mt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return q(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?C.prop(e,t,i):(1===r&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ft:void 0)),void 0!==i?null===i?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=C.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&k(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(M);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),ft={set:function(e,t,i){return!1===t?C.removeAttr(e,i):e.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var s=mt[t]||C.find.attr;mt[t]=function(e,t,i){var n,o,r=t.toLowerCase();return i||(o=mt[r],mt[r]=n,n=null!=s(e,t,i)?r:null,mt[r]=o),n}});var gt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(M)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}C.fn.extend({prop:function(e,t){return q(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,l=0;if(y(t))return this.each(function(e){C(this).addClass(t.call(this,e,wt(this)))});if((e=xt(t)).length)for(;i=this[l++];)if(o=wt(i),n=1===i.nodeType&&" "+yt(o)+" "){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=yt(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,l=0;if(y(t))return this.each(function(e){C(this).removeClass(t.call(this,e,wt(this)))});if(!arguments.length)return this.attr("class","");if((e=xt(t)).length)for(;i=this[l++];)if(o=wt(i),n=1===i.nodeType&&" "+yt(o)+" "){for(s=0;r=e[s++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(a=yt(n))&&i.setAttribute("class",a)}return this},toggleClass:function(o,t){var r=typeof o,s="string"===r||Array.isArray(o);return"boolean"==typeof t&&s?t?this.addClass(o):this.removeClass(o):y(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,wt(this),t),t)}):this.each(function(){var e,t,i,n;if(s)for(t=0,i=C(this),n=xt(o);e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==o&&"boolean"!==r||((e=wt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===o?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+yt(wt(i))+" ").indexOf(t))return!0;return!1}});var bt=/\r/g;C.fn.extend({val:function(i){var n,e,o,t=this[0];return arguments.length?(o=y(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?i.call(this,e,C(this).val()):i)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(bt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:yt(C.text(e))}},select:{get:function(e){var t,i,n,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!k(i.parentNode,"optgroup"))){if(t=C(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=C.makeArray(t),s=o.length;s--;)((n=o[s]).selected=-1<C.inArray(C.valHooks.option.get(n),r))&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},v.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in T;var St=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,i,n){var o,r,s,a,l,c,u,d,h=[i||E],p=g.call(e,"type")?e.type:e,f=g.call(e,"namespace")?e.namespace.split("."):[];if(r=d=s=i=i||E,3!==i.nodeType&&8!==i.nodeType&&!St.test(p+C.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[C.expando]?e:new C.Event(p,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[p]||{},n||!u.trigger||!1!==u.trigger.apply(i,t))){if(!n&&!u.noBubble&&!w(i)){for(a=u.delegateType||p,St.test(a+p)||(r=r.parentNode);r;r=r.parentNode)h.push(r),s=r;s===(i.ownerDocument||E)&&h.push(s.defaultView||s.parentWindow||T)}for(o=0;(r=h[o++])&&!e.isPropagationStopped();)d=r,e.type=1<o?a:u.bindType||p,(c=(Y.get(r,"events")||{})[e.type]&&Y.get(r,"handle"))&&c.apply(r,t),(c=l&&r[l])&&c.apply&&X(r)&&(e.result=c.apply(r,t),!1===e.result&&e.preventDefault());return e.type=p,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),t)||!X(i)||l&&y(i[p])&&!w(i)&&((s=i[l])&&(i[l]=null),C.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Tt),i[p](),e.isPropagationStopped()&&d.removeEventListener(p,Tt),C.event.triggered=void 0,s&&(i[l]=s)),e.result}},simulate:function(e,t,i){var n=C.extend(new C.Event,i,{type:e,isSimulated:!0});C.event.trigger(n,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return C.event.trigger(e,t,i,!0)}}),v.focusin||C.each({focus:"focusin",blur:"focusout"},function(i,n){var o=function(e){C.event.simulate(n,e.target,C.event.fix(e))};C.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=Y.access(e,n);t||e.addEventListener(i,o,!0),Y.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Y.access(e,n)-1;t?Y.access(e,n,t):(e.removeEventListener(i,o,!0),Y.remove(e,n))}}});var Et=T.location,Ct=Date.now(),_t=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Pt=/\[\]$/,kt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Rt(i,e,n,o){var t;if(Array.isArray(e))C.each(e,function(e,t){n||Pt.test(i)?o(i,t):Rt(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,o)});else if(n||"object"!==b(e))o(i,e);else for(t in e)Rt(i+"["+t+"]",e[t],n,o)}C.param=function(e,t){var i,n=[],o=function(e,t){var i=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){o(this.name,this.value)});else for(i in e)Rt(i,e[i],t,o);return n.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&At.test(this.nodeName)&&!It.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var i=C(this).val();return null==i?null:Array.isArray(i)?C.map(i,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:i.replace(kt,"\r\n")}}).get()}});var Ot=/%20/g,Lt=/#.*$/,Nt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,zt=/^\/\//,Ht={},Ft={},jt="*/".concat("*"),Bt=E.createElement("a");function $t(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,o=e.toLowerCase().match(M)||[];if(y(t))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(t)):(r[i]=r[i]||[]).push(t)}}function qt(t,o,r,s){var a={},l=t===Ft;function c(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){var i=t(o,r,s);return"string"!=typeof i||l||a[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),c(i),!1)}),n}return c(o.dataTypes[0])||!a["*"]&&c("*")}function Wt(e,t){var i,n,o=C.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&C.extend(!0,e,n),e}Bt.href=Et.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,C.ajaxSettings),t):Wt(C.ajaxSettings,e)},ajaxPrefilter:$t(Ht),ajaxTransport:$t(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,h,i,p,n,f,m,o,r,g=C.ajaxSetup({},t),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?C(v):C.event,w=C.Deferred(),x=C.Callbacks("once memory"),b=g.statusCode||{},s={},a={},l="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(f){if(!i)for(i={};t=Dt.exec(h);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?h:null},setRequestHeader:function(e,t){return null==f&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==f&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(f)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||l;return u&&u.abort(t),c(0,t),this}};if(w.promise(S),g.url=((e||g.url||Et.href)+"").replace(zt,Et.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(M)||[""],null==g.crossDomain){n=E.createElement("a");try{n.href=g.url,n.href=n.href,g.crossDomain=Bt.protocol+"//"+Bt.host!=n.protocol+"//"+n.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=C.param(g.data,g.traditional)),qt(Ht,g,t,S),f)return S;for(o in(m=C.event&&g.global)&&0==C.active++&&C.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Mt.test(g.type),d=g.url.replace(Lt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Ot,"+")):(r=g.url.slice(d.length),g.data&&(g.processData||"string"==typeof g.data)&&(d+=(_t.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(d=d.replace(Nt,"$1"),r=(_t.test(d)?"&":"?")+"_="+Ct+++r),g.url=d+r),g.ifModified&&(C.lastModified[d]&&S.setRequestHeader("If-Modified-Since",C.lastModified[d]),C.etag[d]&&S.setRequestHeader("If-None-Match",C.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&S.setRequestHeader("Content-Type",g.contentType),S.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+jt+"; q=0.01":""):g.accepts["*"]),g.headers)S.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(v,S,g)||f))return S.abort();if(l="abort",x.add(g.complete),S.done(g.success),S.fail(g.error),u=qt(Ft,g,t,S)){if(S.readyState=1,m&&y.trigger("ajaxSend",[S,g]),f)return S;g.async&&0<g.timeout&&(p=T.setTimeout(function(){S.abort("timeout")},g.timeout));try{f=!1,u.send(s,c)}catch(e){if(f)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,i,n){var o,r,s,a,l,c=t;f||(f=!0,p&&T.clearTimeout(p),u=void 0,h=n||"",S.readyState=0<e?4:0,o=200<=e&&e<300||304===e,i&&(a=function(e,t,i){for(var n,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}(g,S,i)),a=function(e,t,i,n){var o,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(g,a,S,o),o?(g.ifModified&&((l=S.getResponseHeader("Last-Modified"))&&(C.lastModified[d]=l),(l=S.getResponseHeader("etag"))&&(C.etag[d]=l)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=a.state,r=a.data,o=!(s=a.error))):(s=c,!e&&c||(c="error",e<0&&(e=0))),S.status=e,S.statusText=(t||c)+"",o?w.resolveWith(v,[r,c,S]):w.rejectWith(v,[S,c,s]),S.statusCode(b),b=void 0,m&&y.trigger(o?"ajaxSuccess":"ajaxError",[S,g,o?r:s]),x.fireWith(v,[S,c]),m&&(y.trigger("ajaxComplete",[S,g]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return C.get(e,t,i,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,i,n){return y(t)&&(n=n||i,i=t,t=void 0),C.ajax(C.extend({url:e,type:o,dataType:n,data:t,success:i},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e,t){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return y(i)?this.each(function(e){C(this).wrapInner(i.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=y(t);return this.each(function(e){C(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Vt=C.ajaxSettings.xhr();v.cors=!!Vt&&"withCredentials"in Vt,v.ajax=Vt=!!Vt,C.ajaxTransport(function(o){var r,s;if(v.cors||Vt&&!o.crossDomain)return{send:function(e,t){var i,n=o.xhr();if(n.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(i in o.xhrFields)n[i]=o.xhrFields[i];for(i in o.mimeType&&n.overrideMimeType&&n.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);r=function(e){return function(){r&&(r=s=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Ut[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=r(),s=n.onerror=n.ontimeout=r("error"),void 0!==n.onabort?n.onabort=s:n.onreadystatechange=function(){4===n.readyState&&T.setTimeout(function(){r&&s()})},r=r("abort");try{n.send(o.hasContent&&o.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(i){var n,o;if(i.crossDomain||i.scriptAttrs)return{send:function(e,t){n=C("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(e){n.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(n[0])},abort:function(){o&&o()}}});var Gt,Xt=[],Zt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||C.expando+"_"+Ct++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,r,s=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Zt,"$1"+n):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return r||C.error(n+" was not called"),r[0]},e.dataTypes[0]="json",o=T[n],T[n]=function(){r=arguments},i.always(function(){void 0===o?C(T).removeProp(n):T[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(n)),r&&y(o)&&o(r[0]),r=o=void 0}),"script"}),v.createHTMLDocument=((Gt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),C.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(v.createHTMLDocument?((n=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(n)):t=E),r=!i&&[],(o=I.exec(e))?[t.createElement(o[1])]:(o=be([e],t,r),r&&r.length&&C(r).remove(),C.merge([],o.childNodes)));var n,o,r},C.fn.load=function(e,t,i){var n,o,r,s=this,a=e.indexOf(" ");return-1<a&&(n=yt(e.slice(a)),e=e.slice(0,a)),y(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<s.length&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(n?C("<div>").append(C.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,i){var n,o,r,s,a,l,c=C.css(e,"position"),u=C(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),r=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(s=(n=u.position()).top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),y(t)&&(t=t.call(e,i,C.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],o={top:0,left:0};if("fixed"===C.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),o.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-C.css(n,"marginTop",!0),left:t.left-o.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||oe})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;C.fn[t]=function(e){return q(this,function(e,t,i){var n;if(w(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===i)return n?n[o]:e[t];n?n.scrollTo(r?n.pageXOffset:i,r?i:n.pageYOffset):e[t]=i},t,e,arguments.length)}}),C.each(["top","left"],function(e,i){C.cssHooks[i]=We(v.pixelPosition,function(e,t){if(t)return t=qe(e,i),je.test(t)?C(e).position()[i]+"px":t})}),C.each({Height:"height",Width:"width"},function(s,a){C.each({padding:"inner"+s,content:a,"":"outer"+s},function(n,r){C.fn[r]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return q(this,function(e,t,i){var n;return w(e)?0===r.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+s],n["scroll"+s],e.body["offset"+s],n["offset"+s],n["client"+s])):void 0===i?C.css(e,t,o):C.style(e,t,i,o)},a,i?e:void 0,i)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){C.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),C.proxy=function(e,t){var i,n,o;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=a.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,o},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=k,C.isFunction=y,C.isWindow=w,C.camelCase=G,C.type=b,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var Yt=T.jQuery,Qt=T.$;return C.noConflict=function(e){return T.$===C&&(T.$=Qt),e&&T.jQuery===C&&(T.jQuery=Yt),C},e||(T.jQuery=T.$=C),C}),function(r){"use strict";var t='[data-dismiss="alert"]',s=function(e){r(e).on("click",t,this.close)};s.VERSION="3.4.1",s.TRANSITION_DURATION=150,s.prototype.close=function(e){var t=r(this),i=t.attr("data-target");i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),i="#"===i?[]:i;var n=r(document).find(i);function o(){n.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),n.length||(n=t.closest(".alert")),n.trigger(e=r.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),r.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",o).emulateTransitionEnd(s.TRANSITION_DURATION):o())};var e=r.fn.alert;r.fn.alert=function(i){return this.each(function(){var e=r(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new s(this)),"string"==typeof i&&t[i].call(e)})},r.fn.alert.Constructor=s,r.fn.alert.noConflict=function(){return r.fn.alert=e,this},r(document).on("click.bs.alert.data-api",t,s.prototype.close)}(jQuery),function(s){"use strict";var r=function(e,t){this.options=t,this.$body=s(document.body),this.$element=s(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,s.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function a(n,o){return this.each(function(){var e=s(this),t=e.data("bs.modal"),i=s.extend({},r.DEFAULTS,e.data(),"object"==typeof n&&n);t||e.data("bs.modal",t=new r(this,i)),"string"==typeof n?t[n](o):i.show&&t.show(o)})}r.VERSION="3.4.1",r.TRANSITION_DURATION=300,r.BACKDROP_TRANSITION_DURATION=150,r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},r.prototype.show=function(i){var n=this,e=s.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){s(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=s.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),e&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var t=s.Event("shown.bs.modal",{relatedTarget:i});e?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(r.TRANSITION_DURATION):n.$element.trigger("focus").trigger(t)}))},r.prototype.hide=function(e){e&&e.preventDefault(),e=s.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",s.proxy(this.hideModal,this)).emulateTransitionEnd(r.TRANSITION_DURATION):this.hideModal())},r.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",s.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},r.prototype.resize=function(){this.isShown?s(window).on("resize.bs.modal",s.proxy(this.handleUpdate,this)):s(window).off("resize.bs.modal")},r.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(e){var t=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=s.support.transition&&i;if(this.$backdrop=s(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",s.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){t.removeBackdrop(),e&&e()};s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},r.prototype.handleUpdate=function(){this.adjustDialog()},r.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},r.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},r.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},r.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+o),s(this.fixedContent).each(function(e,t){var i=t.style.paddingRight,n=s(t).css("padding-right");s(t).data("padding-right",i).css("padding-right",parseFloat(n)+o+"px")}))},r.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),s(this.fixedContent).each(function(e,t){var i=s(t).data("padding-right");s(t).removeData("padding-right"),t.style.paddingRight=i||""})},r.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=s.fn.modal;s.fn.modal=a,s.fn.modal.Constructor=r,s.fn.modal.noConflict=function(){return s.fn.modal=e,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=s(this),i=t.attr("href"),n=t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,""),o=s(document).find(n),r=o.data("bs.modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},o.data(),t.data());t.is("a")&&e.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),a.call(o,r,this)})}(jQuery),function(m){"use strict";var n=["sanitize","whiteList","sanitizeFn"],s=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],e={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function f(e,t){var i=e.nodeName.toLowerCase();if(-1!==m.inArray(i,t))return-1===m.inArray(i,s)||Boolean(e.nodeValue.match(a)||e.nodeValue.match(l));for(var n=m(t).filter(function(e,t){return t instanceof RegExp}),o=0,r=n.length;o<r;o++)if(i.match(n[o]))return!0;return!1}function o(e,t,i){if(0===e.length)return e;if(i&&"function"==typeof i)return i(e);if(!document.implementation||!document.implementation.createHTMLDocument)return e;var n=document.implementation.createHTMLDocument("sanitization");n.body.innerHTML=e;for(var o=m.map(t,function(e,t){return t}),r=m(n.body).find("*"),s=0,a=r.length;s<a;s++){var l=r[s],c=l.nodeName.toLowerCase();if(-1!==m.inArray(c,o))for(var u=m.map(l.attributes,function(e){return e}),d=[].concat(t["*"]||[],t[c]||[]),h=0,p=u.length;h<p;h++)f(u[h],d)||l.removeAttribute(u[h].nodeName);else l.parentNode.removeChild(l)}return n.body.innerHTML}var g=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};g.VERSION="3.4.1",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:e},g.prototype.init=function(e,t,i){if(this.enabled=!0,this.type=e,this.$element=m(t),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&m(document).find(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),o=n.length;o--;){var r=n[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(e){var t=this.$element.data();for(var i in t)t.hasOwnProperty(i)&&-1!==m.inArray(i,n)&&delete t[i];return(e=m.extend({},this.getDefaults(),t,e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e.sanitize&&(e.template=o(e.template,e.whiteList,e.sanitizeFn)),e},g.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&m.each(this._options,function(e,t){n[e]!=t&&(i[e]=t)}),i},g.prototype.enter=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t)),e instanceof m.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState)t.hoverState="in";else{if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},g.prototype.leave=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t)),e instanceof m.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue()){if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)}},g.prototype.show=function(){var e=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var i=this,n=this.tip(),o=this.getUID(this.type);this.setContent(),n.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?n.appendTo(m(document).find(this.options.container)):n.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=n[0].offsetWidth,u=n[0].offsetHeight;if(a){var d=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>h.bottom?"top":"top"==r&&l.top-u<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,n.removeClass(d).addClass(r)}var p=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(p,r);var f=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};m.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(e,t){var i=this.tip(),n=i[0].offsetWidth,o=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),e.top+=r,e.left+=s,m.offset.setOffset(i[0],m.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),i.addClass("in");var a=i[0].offsetWidth,l=i[0].offsetHeight;"top"==t&&l!=o&&(e.top=e.top+o-l);var c=this.getViewportAdjustedDelta(t,e,a,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(t),d=u?2*c.left-n+a:2*c.top-o+l,h=u?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][h],u)},g.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},g.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=o(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},g.prototype.hide=function(e){var t=this,i=m(this.$tip),n=m.Event("hide.bs."+this.type);function o(){"in"!=t.hoverState&&i.detach(),t.$element&&t.$element.removeAttr("aria-describedby").trigger("hidden.bs."+t.type),e&&e()}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(g.TRANSITION_DURATION):o(),this.hoverState=null,this},g.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],i="BODY"==t.tagName,n=t.getBoundingClientRect();null==n.width&&(n=m.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var o=window.SVGElement&&t instanceof window.SVGElement,r=i?{top:0,left:0}:o?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},n,s,a,r)},g.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},g.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=t.left-r,u=t.left+r+i;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},g.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},g.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(e){var t=this;e&&((t=m(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},g.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})},g.prototype.sanitizeHtml=function(e){return o(e,this.options.whiteList,this.options.sanitizeFn)};var t=m.fn.tooltip;m.fn.tooltip=function(n){return this.each(function(){var e=m(this),t=e.data("bs.tooltip"),i="object"==typeof n&&n;!t&&/destroy|hide/.test(n)||(t||e.data("bs.tooltip",t=new g(this,i)),"string"==typeof n&&t[n]())})},m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=t,this}}(jQuery),function(){var e=this,t=e._,n=Array.prototype,i=Object.prototype,o=Function.prototype,a=n.push,c=n.slice,u=n.concat,h=i.toString,r=i.hasOwnProperty,s=Array.isArray,l=Object.keys,d=o.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.7.0";var f=function(o,r,e){if(void 0===r)return o;switch(null==e?3:e){case 1:return function(e){return o.call(r,e)};case 2:return function(e,t){return o.call(r,e,t)};case 3:return function(e,t,i){return o.call(r,e,t,i)};case 4:return function(e,t,i,n){return o.call(r,e,t,i,n)}}return function(){return o.apply(r,arguments)}};p.iteratee=function(e,t,i){return null==e?p.identity:p.isFunction(e)?f(e,t,i):p.isObject(e)?p.matches(e):p.property(e)},p.each=p.forEach=function(e,t,i){if(null==e)return e;t=f(t,i);var n,o=e.length;if(o===+o)for(n=0;n<o;n++)t(e[n],n,e);else{var r=p.keys(e);for(n=0,o=r.length;n<o;n++)t(e[r[n]],r[n],e)}return e},p.map=p.collect=function(e,t,i){if(null==e)return[];t=p.iteratee(t,i);for(var n,o=e.length!==+e.length&&p.keys(e),r=(o||e).length,s=Array(r),a=0;a<r;a++)n=o?o[a]:a,s[a]=t(e[n],n,e);return s};var m="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var o,r=e.length!==+e.length&&p.keys(e),s=(r||e).length,a=0;if(arguments.length<3){if(!s)throw new TypeError(m);i=e[r?r[a++]:a++]}for(;a<s;a++)i=t(i,e[o=r?r[a]:a],o,e);return i},p.reduceRight=p.foldr=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var o,r=e.length!==+e.length&&p.keys(e),s=(r||e).length;if(arguments.length<3){if(!s)throw new TypeError(m);i=e[r?r[--s]:--s]}for(;s--;)i=t(i,e[o=r?r[s]:s],o,e);return i},p.find=p.detect=function(e,n,t){var o;return n=p.iteratee(n,t),p.some(e,function(e,t,i){if(n(e,t,i))return o=e,!0}),o},p.filter=p.select=function(e,n,t){var o=[];return null==e||(n=p.iteratee(n,t),p.each(e,function(e,t,i){n(e,t,i)&&o.push(e)})),o},p.reject=function(e,t,i){return p.filter(e,p.negate(p.iteratee(t)),i)},p.every=p.all=function(e,t,i){if(null==e)return!0;t=p.iteratee(t,i);var n,o,r=e.length!==+e.length&&p.keys(e),s=(r||e).length;for(n=0;n<s;n++)if(!t(e[o=r?r[n]:n],o,e))return!1;return!0},p.some=p.any=function(e,t,i){if(null==e)return!1;t=p.iteratee(t,i);var n,o,r=e.length!==+e.length&&p.keys(e),s=(r||e).length;for(n=0;n<s;n++)if(t(e[o=r?r[n]:n],o,e))return!0;return!1},p.contains=p.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=p.values(e)),0<=p.indexOf(e,t))},p.invoke=function(e,t){var i=c.call(arguments,2),n=p.isFunction(t);return p.map(e,function(e){return(n?t:e[t]).apply(e,i)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,n,t){var i,o,r=-1/0,s=-1/0;if(null==n&&null!=e)for(var a=0,l=(e=e.length===+e.length?e:p.values(e)).length;a<l;a++)i=e[a],r<i&&(r=i);else n=p.iteratee(n,t),p.each(e,function(e,t,i){o=n(e,t,i),(s<o||o===-1/0&&r===-1/0)&&(r=e,s=o)});return r},p.min=function(e,n,t){var i,o,r=1/0,s=1/0;if(null==n&&null!=e)for(var a=0,l=(e=e.length===+e.length?e:p.values(e)).length;a<l;a++)(i=e[a])<r&&(r=i);else n=p.iteratee(n,t),p.each(e,function(e,t,i){((o=n(e,t,i))<s||o===1/0&&r===1/0)&&(r=e,s=o)});return r},p.shuffle=function(e){for(var t,i=e&&e.length===+e.length?e:p.values(e),n=i.length,o=Array(n),r=0;r<n;r++)(t=p.random(0,r))!==r&&(o[r]=o[t]),o[t]=i[r];return o},p.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,n,t){return n=p.iteratee(n,t),p.pluck(p.map(e,function(e,t,i){return{value:e,index:t,criteria:n(e,t,i)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};var g=function(s){return function(n,o,e){var r={};return o=p.iteratee(o,e),p.each(n,function(e,t){var i=o(e,t,n);s(r,e,i)}),r}};p.groupBy=g(function(e,t,i){p.has(e,i)?e[i].push(t):e[i]=[t]}),p.indexBy=g(function(e,t,i){e[i]=t}),p.countBy=g(function(e,t,i){p.has(e,i)?e[i]++:e[i]=1}),p.sortedIndex=function(e,t,i,n){for(var o=(i=p.iteratee(i,n,1))(t),r=0,s=e.length;r<s;){var a=r+s>>>1;i(e[a])<o?r=a+1:s=a}return r},p.toArray=function(e){return e?p.isArray(e)?c.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,n,t){n=p.iteratee(n,t);var o=[],r=[];return p.each(e,function(e,t,i){(n(e,t,i)?o:r).push(e)}),[o,r]},p.first=p.head=p.take=function(e,t,i){if(null!=e)return null==t||i?e[0]:t<0?[]:c.call(e,0,t)},p.initial=function(e,t,i){return c.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},p.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,i){return c.call(e,null==t||i?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var v=function(e,t,i,n){if(t&&p.every(e,p.isArray))return u.apply(n,e);for(var o=0,r=e.length;o<r;o++){var s=e[o];p.isArray(s)||p.isArguments(s)?t?a.apply(n,s):v(s,t,i,n):i||n.push(s)}return n};p.flatten=function(e,t){return v(e,t,!1,[])},p.without=function(e){return p.difference(e,c.call(arguments,1))},p.uniq=p.unique=function(e,t,i,n){if(null==e)return[];p.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=p.iteratee(i,n));for(var o=[],r=[],s=0,a=e.length;s<a;s++){var l=e[s];if(t)s&&r===l||o.push(l),r=l;else if(i){var c=i(l,s,e);p.indexOf(r,c)<0&&(r.push(c),o.push(l))}else p.indexOf(o,l)<0&&o.push(l)}return o},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],i=arguments.length,n=0,o=e.length;n<o;n++){var r=e[n];if(!p.contains(t,r)){for(var s=1;s<i&&p.contains(arguments[s],r);s++);s===i&&t.push(r)}}return t},p.difference=function(e){var t=v(c.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,i=Array(t),n=0;n<t;n++)i[n]=p.pluck(arguments,n);return i},p.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;n<o;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},p.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return e[n=p.sortedIndex(e,t)]===t?n:-1;n=i<0?Math.max(0,o+i):i}for(;n<o;n++)if(e[n]===t)return n;return-1},p.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=e.length;for("number"==typeof i&&(n=i<0?n+i+1:Math.min(n,i+1));0<=--n;)if(e[n]===t)return n;return-1},p.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),r=0;r<n;r++,e+=i)o[r]=e;return o};var y=function(){};p.bind=function(i,n){var o,r;if(d&&i.bind===d)return d.apply(i,c.call(arguments,1));if(!p.isFunction(i))throw new TypeError("Bind must be called on a function");return o=c.call(arguments,2),r=function(){if(!(this instanceof r))return i.apply(n,o.concat(c.call(arguments)));y.prototype=i.prototype;var e=new y;y.prototype=null;var t=i.apply(e,o.concat(c.call(arguments)));return p.isObject(t)?t:e}},p.partial=function(o){var r=c.call(arguments,1);return function(){for(var e=0,t=r.slice(),i=0,n=t.length;i<n;i++)t[i]===p&&(t[i]=arguments[e++]);for(;e<arguments.length;)t.push(arguments[e++]);return o.apply(this,t)}},p.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[i=arguments[t]]=p.bind(e[i],e);return e},p.memoize=function(n,o){var r=function(e){var t=r.cache,i=o?o.apply(this,arguments):e;return p.has(t,i)||(t[i]=n.apply(this,arguments)),t[i]};return r.cache={},r},p.delay=function(e,t){var i=c.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(c.call(arguments,1)))},p.throttle=function(i,n,o){var r,s,a,l=null,c=0;o||(o={});var u=function(){c=!1===o.leading?0:p.now(),l=null,a=i.apply(r,s),l||(r=s=null)};return function(){var e=p.now();c||!1!==o.leading||(c=e);var t=n-(e-c);return r=this,s=arguments,t<=0||n<t?(clearTimeout(l),l=null,c=e,a=i.apply(r,s),l||(r=s=null)):l||!1===o.trailing||(l=setTimeout(u,t)),a}},p.debounce=function(t,i,n){var o,r,s,a,l,c=function(){var e=p.now()-a;e<i&&0<e?o=setTimeout(c,i-e):(o=null,n||(l=t.apply(s,r),o||(s=r=null)))};return function(){s=this,r=arguments,a=p.now();var e=n&&!o;return o||(o=setTimeout(c,i)),e&&(l=t.apply(s,r),s=r=null),l}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var i=arguments,n=i.length-1;return function(){for(var e=n,t=i[n].apply(this,arguments);e--;)t=i[e].call(this,t);return t}},p.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},p.before=function(e,t){var i;return function(){return 0<--e?i=t.apply(this,arguments):t=null,i}},p.once=p.partial(p.before,2),p.keys=function(e){if(!p.isObject(e))return[];if(l)return l(e);var t=[];for(var i in e)p.has(e,i)&&t.push(i);return t},p.values=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),o=0;o<i;o++)n[o]=e[t[o]];return n},p.pairs=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),o=0;o<i;o++)n[o]=[t[o],e[t[o]]];return n},p.invert=function(e){for(var t={},i=p.keys(e),n=0,o=i.length;n<o;n++)t[e[i[n]]]=i[n];return t},p.functions=p.methods=function(e){var t=[];for(var i in e)p.isFunction(e[i])&&t.push(i);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,i,n=1,o=arguments.length;n<o;n++)for(i in t=arguments[n])r.call(t,i)&&(e[i]=t[i]);return e},p.pick=function(e,t,i){var n,o={};if(null==e)return o;if(p.isFunction(t))for(n in t=f(t,i),e){var r=e[n];t(r,n,e)&&(o[n]=r)}else{var s=u.apply([],c.call(arguments,1));e=new Object(e);for(var a=0,l=s.length;a<l;a++)(n=s[a])in e&&(o[n]=e[n])}return o},p.omit=function(e,t,i){if(p.isFunction(t))t=p.negate(t);else{var n=p.map(u.apply([],c.call(arguments,1)),String);t=function(e,t){return!p.contains(n,t)}}return p.pick(e,t,i)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,i=arguments.length;t<i;t++){var n=arguments[t];for(var o in n)void 0===e[o]&&(e[o]=n[o])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var w=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var o=h.call(e);if(o!==h.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=i.length;r--;)if(i[r]===e)return n[r]===t;var s,a,l=e.constructor,c=t.constructor;if(l!==c&&"constructor"in e&&"constructor"in t&&!(p.isFunction(l)&&l instanceof l&&p.isFunction(c)&&c instanceof c))return!1;if(i.push(e),n.push(t),"[object Array]"===o){if(a=(s=e.length)===t.length)for(;s--&&(a=w(e[s],t[s],i,n)););}else{var u,d=p.keys(e);if(s=d.length,a=p.keys(t).length===s)for(;s--&&(u=d[s],a=p.has(t,u)&&w(e[u],t[u],i,n)););}return i.pop(),n.pop(),a};p.isEqual=function(e,t){return w(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=s||function(e){return"[object Array]"===h.call(e)},p.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){p["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&r.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(t){return function(e){return e[t]}},p.matches=function(e){var o=p.pairs(e),r=o.length;return function(e){if(null==e)return!r;e=new Object(e);for(var t=0;t<r;t++){var i=o[t],n=i[0];if(i[1]!==e[n]||!(n in e))return!1}return!0}},p.times=function(e,t,i){var n=Array(Math.max(0,e));t=f(t,i,1);for(var o=0;o<e;o++)n[o]=t(o);return n},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=p.invert(x),S=function(t){var i=function(e){return t[e]},e="(?:"+p.keys(t).join("|")+")",n=RegExp(e),o=RegExp(e,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,i):e}};p.escape=S(x),p.unescape=S(b),p.result=function(e,t){if(null!=e){var i=e[t];return p.isFunction(i)?e[t]():i}};var T=0;p.uniqueId=function(e){var t=++T+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_=/\\|'|\r|\n|\u2028|\u2029/g,P=function(e){return"\\"+C[e]};p.template=function(r,e,t){!e&&t&&(e=t),e=p.defaults({},e,p.templateSettings);var i=RegExp([(e.escape||E).source,(e.interpolate||E).source,(e.evaluate||E).source].join("|")+"|$","g"),s=0,a="__p+='";r.replace(i,function(e,t,i,n,o){return a+=r.slice(s,o).replace(_,P),s=o+e.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(a+="';\n"+n+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var n=new Function(e.variable||"obj","_",a)}catch(e){throw e.source=a,e}var o=function(e){return n.call(this,e,p)},l=e.variable||"obj";return o.source="function("+l+"){\n"+a+"}",o},p.chain=function(e){var t=p(e);return t._chain=!0,t};var k=function(e){return this._chain?p(e).chain():e};p.mixin=function(i){p.each(p.functions(i),function(e){var t=p[e]=i[e];p.prototype[e]=function(){var e=[this._wrapped];return a.apply(e,arguments),k.call(this,t.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=n[t];p.prototype[t]=function(){var e=this._wrapped;return i.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],k.call(this,e)}}),p.each(["concat","join","slice"],function(e){var t=n[e];p.prototype[e]=function(){return k.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),function(g){function e(e,t,i){return i=c(t,i),this.on("click.pjax",e,function(e){var t=i;t.container||((t=g.extend({},i)).container=g(this).attr("data-pjax")),n(e,t)})}function n(e,t,i){i=c(t,i);var n=e.currentTarget,o=g(n);if("A"!==n.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||-1<n.href.indexOf("#")&&l(n)==l(location)||e.isDefaultPrevented())){var r={url:n.href,container:o.attr("data-pjax"),target:n},s=g.extend({},r,i),a=g.Event("pjax:click");o.trigger(a,[s]),a.isDefaultPrevented()||(v(s),e.preventDefault(),o.trigger("pjax:clicked",[s]))}}function t(e,t,i){i=c(t,i);var n=e.currentTarget,o=g(n);if("FORM"!==n.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var r={type:(o.attr("method")||"GET").toUpperCase(),url:o.attr("action"),container:o.attr("data-pjax"),target:n};if("GET"!==r.type&&void 0!==window.FormData)r.data=new FormData(n),r.processData=!1,r.contentType=!1;else{if(o.find(":file").length)return;r.data=o.serializeArray()}v(g.extend({},r,i)),e.preventDefault()}function v(h){h=g.extend(!0,{},g.ajaxSettings,v.defaults,h),g.isFunction(h.url)&&(h.url=h.url());var p=S(h.url).hash,e=g.type(h.container);if("string"!==e)throw"expected string value for 'container' option; got "+e;var n,f=h.context=g(h.container);if(!f.length)throw"the container selector '"+h.container+"' did not match anything";function m(e,t,i){i||(i={}),i.relatedTarget=h.target;var n=g.Event(e,i);return f.trigger(n,t),!n.isDefaultPrevented()}h.data||(h.data={}),g.isArray(h.data)?h.data.push({name:"_pjax",value:h.container}):h.data._pjax=h.container,h.beforeSend=function(e,t){if("GET"!==t.type&&(t.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",h.container),!m("pjax:beforeSend",[e,t]))return!1;0<t.timeout&&(n=setTimeout(function(){m("pjax:timeout",[e,h])&&e.abort("timeout")},t.timeout),t.timeout=0);var i=S(t.url);p&&(i.hash=p),h.requestUrl=u(i)},h.complete=function(e,t){n&&clearTimeout(n),m("pjax:complete",[e,t,h]),m("pjax:end",[e,h])},h.error=function(e,t,i){var n=T("",e,h),o=m("pjax:error",[e,t,i,h]);"GET"==h.type&&"abort"!==t&&o&&y(n.url)},h.success=function(e,t,i){var n=v.state,o="function"==typeof g.pjax.defaults.version?g.pjax.defaults.version():g.pjax.defaults.version,r=i.getResponseHeader("X-PJAX-Version"),s=T(e,i,h),a=S(s.url);if(p&&(a.hash=p,s.url=a.href),o&&r&&o!==r)y(s.url);else if(s.contents){if(v.state={id:h.id||x(),url:s.url,title:s.title,container:h.container,fragment:h.fragment,timeout:h.timeout},(h.push||h.replace)&&window.history.replaceState(v.state,s.title,s.url),g.contains(f,document.activeElement))try{document.activeElement.blur()}catch(e){}s.title&&(document.title=s.title),m("pjax:beforeReplace",[s.contents,h],{state:v.state,previousState:n}),f.html(s.contents);var l=f.find("input[autofocus], textarea[autofocus]").last()[0];l&&document.activeElement!==l&&l.focus(),function(e){if(!e)return;var o=g("script[src]");e.each(function(){var e=this.src,t=o.filter(function(){return this.src===e});if(!t.length){var i=document.createElement("script"),n=g(this).attr("type");n&&(i.type=n),i.src=g(this).attr("src"),document.head.appendChild(i)}})}(s.scripts);var c=h.scrollTo;if(p){var u=decodeURIComponent(p.slice(1)),d=document.getElementById(u)||document.getElementsByName(u)[0];d&&(c=g(d).offset().top)}"number"==typeof c&&g(window).scrollTop(c),m("pjax:success",[e,t,i,h])}else y(s.url)},v.state||(v.state={id:x(),url:window.location.href,title:document.title,container:h.container,fragment:h.fragment,timeout:h.timeout},window.history.replaceState(v.state,document.title)),w(v.xhr),v.options=h;var t,i,o=v.xhr=g.ajax(h);return 0<o.readyState&&(h.push&&!h.replace&&(t=v.state.id,i=[h.container,b(f)],E[t]=i,_.push(t),P(C,0),P(_,v.defaults.maxCacheLength),window.history.pushState(null,"",h.requestUrl)),m("pjax:start",[o,h]),m("pjax:send",[o,h])),v.xhr}function i(e,t){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return v(g.extend(i,c(e,t)))}function y(e){window.history.replaceState(null,"",v.state.url),window.location.replace(e)}var d=!0,h=window.location.href,o=window.history.state;function r(e){d||w(v.xhr);var t,i=v.state,n=e.state;if(n&&n.container){if(d&&h==n.url)return;if(i){if(i.id===n.id)return;t=i.id<n.id?"forward":"back"}var o=E[n.id]||[],r=o[0]||n.container,s=g(r),a=o[1];if(s.length){i&&function(e,t,i){var n,o;E[t]=i,"forward"===e?(n=_,o=C):(n=C,o=_);n.push(t),(t=o.pop())&&delete E[t];P(n,v.defaults.maxCacheLength)}(t,i.id,[r,b(s)]);var l=g.Event("pjax:popstate",{state:n,direction:t});s.trigger(l);var c={id:n.id,url:n.url,container:r,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};if(a){s.trigger("pjax:start",[null,c]),(v.state=n).title&&(document.title=n.title);var u=g.Event("pjax:beforeReplace",{state:n,previousState:i});s.trigger(u,[a,c]),s.html(a),s.trigger("pjax:end",[null,c])}else v(c);s[0].offsetHeight}else y(location.href)}d=!1}function s(e){var t=g.isFunction(e.url)?e.url():e.url,i=e.type?e.type.toUpperCase():"GET",n=g("<form>",{method:"GET"===i?"GET":"POST",action:t,style:"display:none"});"GET"!==i&&"POST"!==i&&n.append(g("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=e.data;if("string"==typeof o)g.each(o.split("&"),function(e,t){var i=t.split("=");n.append(g("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(g.isArray(o))g.each(o,function(e,t){n.append(g("<input>",{type:"hidden",name:t.name,value:t.value}))});else if("object"==typeof o){var r;for(r in o)n.append(g("<input>",{type:"hidden",name:r,value:o[r]}))}g(document.body).append(n),n.submit()}function w(e){e&&e.readyState<4&&(e.onreadystatechange=g.noop,e.abort())}function x(){return(new Date).getTime()}function b(e){var t=e.clone();return t.find("script").each(function(){this.src||g._data(this,"globalEval",!1)}),t.contents()}function u(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),e.href.replace(/\?($|#)/,"$1")}function S(e){var t=document.createElement("a");return t.href=e,t}function l(e){return e.href.replace(/#.*/,"")}function c(e,t){return e&&t?((t=g.extend({},t)).container=e,t):g.isPlainObject(e)?e:{container:e}}function p(e,t){return e.filter(t).add(e.find(t))}function f(e){return g.parseHTML(e,document,!0)}function T(e,t,i){var n,o,r={},s=/<html/i.test(e),a=t.getResponseHeader("X-PJAX-URL");if(r.url=a?u(S(a)):i.requestUrl,s){o=g(f(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var l=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);n=null!=l?g(f(l[0])):o}else n=o=g(f(e));if(0===o.length)return r;if(r.title=p(n,"title").last().text(),i.fragment){var c=o;"body"!==i.fragment&&(c=p(c,i.fragment).first()),c.length&&(r.contents="body"===i.fragment?c:c.contents(),r.title||(r.title=c.attr("title")||c.data("title")))}else s||(r.contents=o);return r.contents&&(r.contents=r.contents.not(function(){return g(this).is("title")}),r.contents.find("title").remove(),r.scripts=p(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=g.trim(r.title)),r}o&&o.container&&(v.state=o),"state"in window.history&&(d=!1);var E={},C=[],_=[];function P(e,t){for(;e.length>t;)delete E[e.shift()]}function a(){return g("meta").filter(function(){var e=g(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function m(){g.fn.pjax=e,g.pjax=v,g.pjax.enable=g.noop,g.pjax.disable=k,g.pjax.click=n,g.pjax.submit=t,g.pjax.reload=i,g.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:a},g(window).on("popstate.pjax",r)}function k(){g.fn.pjax=function(){return this},g.pjax=s,g.pjax.enable=m,g.pjax.disable=g.noop,g.pjax.click=g.noop,g.pjax.submit=g.noop,g.pjax.reload=function(){window.location.reload()},g(window).off("popstate.pjax",r)}g.event.props&&g.inArray("state",g.event.props)<0?g.event.props.push("state"):"state"in g.Event.prototype||g.event.addProp("state"),g.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),g.support.pjax?m():k()}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){"use strict";var o,s=window.Slick||{};o=0,(s=function(e,t){var i,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(e),appendDots:c(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return c('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=c(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,i=c(e).data("slick")||{},n.options=c.extend({},n.defaults,t,i),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=c.proxy(n.autoPlay,n),n.autoPlayClear=c.proxy(n.autoPlayClear,n),n.autoPlayIterator=c.proxy(n.autoPlayIterator,n),n.changeSlide=c.proxy(n.changeSlide,n),n.clickHandler=c.proxy(n.clickHandler,n),n.selectHandler=c.proxy(n.selectHandler,n),n.setPosition=c.proxy(n.setPosition,n),n.swipeHandler=c.proxy(n.swipeHandler,n),n.dragHandler=c.proxy(n.dragHandler,n),n.keyHandler=c.proxy(n.keyHandler,n),n.instanceUid=o++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},s.prototype.addSlide=s.prototype.slickAdd=function(e,t,i){var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?c(e).appendTo(n.$slideTrack):i?c(e).insertBefore(n.$slides.eq(t)):c(e).insertAfter(n.$slides.eq(t)):!0===i?c(e).prependTo(n.$slideTrack):c(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){c(t).attr("data-slick-index",e)}),n.$slidesCache=n.$slides,n.reinit()},s.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},s.prototype.animateSlide=function(e,t){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),c({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i)},complete:function(){t&&t.call()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){n.disableTransition(),t.call()},n.options.speed))},s.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=c(e).not(this.$slider)),e},s.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=c(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},s.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},s.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},s.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},s.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},s.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=c(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=c(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},s.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),t=c("<ul />").addClass(i.options.dotsClass),e=0;e<=i.getDotCount();e+=1)t.append(c("<li />").append(i.options.customPaging.call(this,i,e)));i.$dots=t.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},s.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){c(t).attr("data-slick-index",e).data("originalStyling",c(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?c('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),c("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},s.prototype.buildRows=function(){var e,t,i,n,o,r,s,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),0<a.options.rows){for(s=a.options.slidesPerRow*a.options.rows,o=Math.ceil(r.length/s),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var u=e*s+(t*a.options.slidesPerRow+i);r.get(u)&&c.appendChild(r.get(u))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},s.prototype.checkResponsive=function(e,t){var i,n,o,r=this,s=!1,a=r.$slider.width(),l=window.innerWidth||c(window).width();if("window"===r.respondTo?o=l:"slider"===r.respondTo?o=a:"min"===r.respondTo&&(o=Math.min(l,a)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(i in n=null,r.breakpoints)r.breakpoints.hasOwnProperty(i)&&(!1===r.originalSettings.mobileFirst?o<r.breakpoints[i]&&(n=r.breakpoints[i]):o>r.breakpoints[i]&&(n=r.breakpoints[i]));null!==n?null!==r.activeBreakpoint?(n!==r.activeBreakpoint||t)&&(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=c.extend({},r.originalSettings,r.breakpointSettings[n]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),s=n):(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=c.extend({},r.originalSettings,r.breakpointSettings[n]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),s=n):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),s=n),e||!1===s||r.$slider.trigger("breakpoint",[r,s])}},s.prototype.changeSlide=function(e,t){var i,n,o=this,r=c(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),i=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":n=0===i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-n,!1,t);break;case"next":n=0===i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+n,!1,t);break;case"index":var s=0===e.data.index?0:e.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(s),!1,t),r.children().trigger("focus");break;default:return}},s.prototype.checkNavigable=function(e){var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},s.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(c("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",c.proxy(e.interrupt,e,!0)).off("mouseleave.slick",c.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),c(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().off("click.slick",e.selectHandler),c(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),c(window).off("resize.slick.slick-"+e.instanceUid,e.resize),c("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),c(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},s.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",c.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",c.proxy(e.interrupt,e,!1))},s.prototype.cleanUpRows=function(){var e;0<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},s.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},s.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),c(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},s.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},s.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},s.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},s.prototype.filterSlides=s.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},s.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=c(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=t.is(":focus"),i.autoPlay())},0)})},s.prototype.getCurrent=s.prototype.slickCurrentSlide=function(){return this.currentSlide},s.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++n;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},s.prototype.getLeft=function(e){var t,i,n,o,r=this,s=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),s=i*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,s=(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,s=r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(s=r.slideOffset=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*i*-1+s,!0===r.options.variableWidth&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},s.prototype.getOption=s.prototype.slickGetOption=function(e){return this.options[e]},s.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(!1===t.options.infinite?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);i<e;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},s.prototype.getSlick=function(){return this},s.prototype.getSlideCount=function(){var i,n,o=this;return n=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-n+c(t).outerWidth()/2>-1*o.swipeLeft)return i=t,!1}),Math.abs(c(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},s.prototype.goTo=s.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},s.prototype.init=function(e){var t=this;c(t.$slider).hasClass("slick-initialized")||(c(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},s.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),o=n.getNavigableIndexes().filter(function(e){return 0<=e&&e<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(e){var t=o.indexOf(e);if(c(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+e,tabindex:-1}),-1!==t){var i="slick-slide-control"+n.instanceUid+t;c("#"+i).length&&c(this).attr({"aria-describedby":i})}}),n.$dots.attr("role","tablist").find("li").each(function(e){var t=o[e];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+e,"aria-controls":"slick-slide"+n.instanceUid+t,"aria-label":e+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=n.currentSlide,t=e+n.options.slidesToShow;e<t;e++)n.options.focusOnChange?n.$slides.eq(e).attr({tabindex:"0"}):n.$slides.eq(e).removeAttr("tabindex");n.activateADA()},s.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},s.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(c("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&c("li",e.$dots).on("mouseenter.slick",c.proxy(e.interrupt,e,!0)).on("mouseleave.slick",c.proxy(e.interrupt,e,!1))},s.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",c.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",c.proxy(e.interrupt,e,!1)))},s.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),c(document).on(e.visibilityChange,c.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),c(window).on("orientationchange.slick.slick-"+e.instanceUid,c.proxy(e.orientationChange,e)),c(window).on("resize.slick.slick-"+e.instanceUid,c.proxy(e.resize,e)),c("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),c(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),c(e.setPosition)},s.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},s.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},s.prototype.lazyLoad=function(){var e,t,i,r=this;function n(e){c("img[data-lazy]",e).each(function(){var e=c(this),t=c(this).attr("data-lazy"),i=c(this).attr("data-srcset"),n=c(this).attr("data-sizes")||r.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){i&&(e.attr("srcset",i),n&&e.attr("sizes",n)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,t])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t])},o.src=t})}if(!0===r.options.centerMode?!0===r.options.infinite?i=(t=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(t=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),i=r.options.slidesToShow/2+1+2+r.currentSlide):(t=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(t+r.options.slidesToShow),!0===r.options.fade&&(0<t&&t--,i<=r.slideCount&&i++)),e=r.$slider.find(".slick-slide").slice(t,i),"anticipated"===r.options.lazyLoad)for(var o=t-1,s=i,a=r.$slider.find(".slick-slide"),l=0;l<r.options.slidesToScroll;l++)o<0&&(o=r.slideCount-1),e=(e=e.add(a.eq(o))).add(a.eq(s)),o--,s++;n(e),r.slideCount<=r.options.slidesToShow?n(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?n(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&n(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},s.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},s.prototype.next=s.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},s.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},s.prototype.pause=s.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},s.prototype.play=s.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},s.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&c(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},s.prototype.prev=s.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},s.prototype.preventDefault=function(e){e.preventDefault()},s.prototype.progressiveLazyLoad=function(e){e=e||1;var t,i,n,o,r,s=this,a=c("img[data-lazy]",s.$slider);a.length?(t=a.first(),i=t.attr("data-lazy"),n=t.attr("data-srcset"),o=t.attr("data-sizes")||s.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){n&&(t.attr("srcset",n),o&&t.attr("sizes",o)),t.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,t,i]),s.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,t,i]),s.progressiveLazyLoad())},r.src=i):s.$slider.trigger("allImagesLoaded",[s])},s.prototype.refresh=function(e){var t,i,n=this;i=n.slideCount-n.options.slidesToShow,!n.options.infinite&&n.currentSlide>i&&(n.currentSlide=i),n.slideCount<=n.options.slidesToShow&&(n.currentSlide=0),t=n.currentSlide,n.destroy(!0),c.extend(n,n.initials,{currentSlide:t}),n.init(),e||n.changeSlide({data:{message:"index",index:t}},!1)},s.prototype.registerBreakpoints=function(){var e,t,i,n=this,o=n.options.responsive||null;if("array"===c.type(o)&&o.length){for(e in n.respondTo=n.options.respondTo||"window",o)if(i=n.breakpoints.length-1,o.hasOwnProperty(e)){for(t=o[e].breakpoint;0<=i;)n.breakpoints[i]&&n.breakpoints[i]===t&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(t),n.breakpointSettings[t]=o[e].settings}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},s.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},s.prototype.resize=function(){var e=this;c(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=c(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},s.prototype.removeSlide=s.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},s.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled||(!(o={})===n.cssTransitions?o[n.animType]="translate("+t+", "+i+")":o[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(o)},s.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},s.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=n.slideWidth*e*-1,!0===n.options.rtl?c(t).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):c(t).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},s.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},s.prototype.setOption=s.prototype.slickSetOption=function(){var e,t,i,n,o,r=this,s=!1;if("object"===c.type(arguments[0])?(i=arguments[0],s=arguments[1],o="multiple"):"string"===c.type(arguments[0])&&(i=arguments[0],n=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===c.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)r.options[i]=n;else if("multiple"===o)c.each(i,function(e,t){r.options[e]=t});else if("responsive"===o)for(t in n)if("array"!==c.type(r.options.responsive))r.options.responsive=[n[t]];else{for(e=r.options.responsive.length-1;0<=e;)r.options.responsive[e].breakpoint===n[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(n[t])}s&&(r.unload(),r.reinit())},s.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},s.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},s.prototype.setSlideClasses=function(e){var t,i,n,o,r=this;if(i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode){var s=r.options.slidesToShow%2==0?1:0;t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t<=e&&e<=r.slideCount-1-t?r.$slides.slice(e-t+s,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+e,i.slice(n-t+1+s,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else 0<=e&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},s.prototype.setupInfinite=function(){var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,c(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i+n.slideCount;e+=1)t=e,c(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},s.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},s.prototype.selectHandler=function(e){var t=c(e.target).is(".slick-slide")?c(e.target):c(e.target).parents(".slick-slide"),i=parseInt(t.attr("data-slick-index"));i||(i=0),this.slideCount<=this.options.slidesToShow?this.slideHandler(i,!1,!0):this.slideHandler(i)},s.prototype.slideHandler=function(e,t,i){var n,o,r,s,a,l,c=this;if(t=t||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e))if(!1===t&&c.asNavFor(e),n=e,a=c.getLeft(n),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(l=(l=c.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==i?(c.fadeSlideOut(r),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight();!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(a,function(){c.postSlide(o)}):c.postSlide(o)}},s.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},s.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n?!1===o.options.rtl?"left":"right":n<=360&&315<=n?!1===o.options.rtl?"left":"right":135<=n&&n<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?35<=n&&n<=135?"down":"up":"vertical"},s.prototype.swipeEnd=function(e){var t,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},s.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},s.prototype.swipeMove=function(e){var t,i,n,o,r,s,a=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||a.scrolling||r&&1!==r.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&4<s?!(a.scrolling=!0):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),i=a.swipeDirection(),void 0!==e.originalEvent&&4<a.touchObject.swipeLength&&(a.swiping=!0,e.preventDefault()),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+n*o:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=t+n*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},s.prototype.swipeStart=function(e){var t,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},s.prototype.unfilterSlides=s.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},s.prototype.unload=function(){var e=this;c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},s.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},s.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},s.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},s.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){var e,t,i=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),r=i.length;for(e=0;e<r;e++)if("object"==typeof n||void 0===n?i[e].slick=new s(i[e],n):t=i[e].slick[n].apply(i[e].slick,o),void 0!==t)return t;return i}}),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var i,n=document.createElement("style"),e=document.getElementsByTagName("script")[0];n.type="text/css",n.id="matchmediajs-test",e.parentNode.insertBefore(n,e),i="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=t:n.textContent=t,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(c,u,e){"use strict";function t(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define("picturefill",function(){return e}),"object"==typeof c&&(c.picturefill=e)}if(c.HTMLPictureElement)t(function(){});else{u.createElement("picture");var i,n,o,d=c.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;d.ns="picturefill",d.srcsetSupported="srcset"in e,d.sizesSupported="sizes"in e,d.curSrcSupported="currentSrc"in e,d.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},d.makeUrl=(i=u.createElement("a"),function(e){return i.href=e,i.href}),d.restrictsMixedContent=function(){return"https:"===c.location.protocol},d.matchesMedia=function(e){return c.matchMedia&&c.matchMedia(e).matches},d.getDpr=function(){return c.devicePixelRatio||1},d.getWidthFromLength=function(e){var t;if(!e||-1<e.indexOf("%")!=!1||!(0<parseFloat(e)||-1<e.indexOf("calc(")))return!1;e=e.replace("vw","%"),d.lengthEl||(d.lengthEl=u.createElement("div"),d.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",d.lengthEl.className="helper-from-picturefill-js"),d.lengthEl.style.width="0px";try{d.lengthEl.style.width=e}catch(e){}return u.body.appendChild(d.lengthEl),(t=d.lengthEl.offsetWidth)<=0&&(t=!1),u.body.removeChild(d.lengthEl),t},d.detectTypeSupport=function(e,t){var i=new c.Image;return i.onerror=function(){d.types[e]=!1,r()},i.onload=function(){d.types[e]=1===i.width,r()},i.src=t,"pending"},d.types=d.types||{},d.initTypeDetects=function(){d.types["image/jpeg"]=!0,d.types["image/gif"]=!0,d.types["image/png"]=!0,d.types["image/svg+xml"]=u.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),d.types["image/webp"]=d.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},d.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(null===t||""===t)return!0;var i=d.types[t];return"string"==typeof i&&"pending"!==i?(d.types[t]=d.detectTypeSupport(t,i),"pending"):"function"==typeof i?(i(),"pending"):i},d.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},d.findWidthFromSourceSize=function(e){for(var t,i=d.trim(e).split(/\s*,\s*/),n=0,o=i.length;n<o;n++){var r=i[n],s=d.parseSize(r),a=s.length,l=s.media;if(a&&((!l||d.matchesMedia(l))&&(t=d.getWidthFromLength(a))))break}return t||Math.max(c.innerWidth||0,u.documentElement.clientWidth)},d.parseSrcset=function(e){for(var t=[];""!==e;){var i,n=(e=e.replace(/^\s+/g,"")).search(/\s/g),o=null;if(-1!==n){if(","!==(i=e.slice(0,n)).slice(-1)&&""!==i||(i=i.replace(/,+$/,""),o=""),e=e.slice(n+1),null===o){var r=e.indexOf(",");-1!==r?(o=e.slice(0,r),e=e.slice(r+1)):(o=e,e="")}}else i=e,e="";(i||o)&&t.push({url:i,descriptor:o})}return t},d.parseDescriptor=function(e,t){var i,n=t||"100vw",o=e&&e.replace(/(^\s+|\s+$)/g,""),r=d.findWidthFromSourceSize(n);if(o)for(var s=o.split(" "),a=s.length-1;0<=a;a--){var l=s[a],c=l&&l.slice(l.length-1);if("h"!==c&&"w"!==c||d.sizesSupported){if("x"===c){var u=l&&parseFloat(l,10);i=u&&!isNaN(u)?u:1}}else i=parseFloat(parseInt(l,10)/r)}return i||1},d.getCandidatesFromSourceSet=function(e,t){for(var i=d.parseSrcset(e),n=[],o=0,r=i.length;o<r;o++){var s=i[o];n.push({url:s.url,resolution:d.parseDescriptor(s.descriptor,t)})}return n},d.dodgeSrcset=function(e){e.srcset&&(e[d.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[d.ns].srcset))},d.processSourceSet=function(e){var t=e.getAttribute("srcset"),i=e.getAttribute("sizes"),n=[];return"IMG"===e.nodeName.toUpperCase()&&e[d.ns]&&e[d.ns].srcset&&(t=e[d.ns].srcset),t&&(n=d.getCandidatesFromSourceSet(t,i)),n},d.backfaceVisibilityFix=function(e){var t=e.style||{},i="webkitBackfaceVisibility"in t,n=t.zoom;i&&(t.zoom=".999",i=e.offsetWidth,t.zoom=n)},d.setIntrinsicSize=(n={},o=function(e,t,i){t&&e.setAttribute("width",parseInt(t/i,10))},function(e,t){var i;e[d.ns]&&!c.pfStopIntrinsicSize&&(void 0===e[d.ns].dims&&(e[d.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[d.ns].dims||(t.url in n?o(e,n[t.url],t.resolution):((i=u.createElement("img")).onload=function(){if(n[t.url]=i.width,!n[t.url])try{u.body.appendChild(i),n[t.url]=i.width||i.offsetWidth,u.body.removeChild(i)}catch(e){}e.src===t.url&&o(e,n[t.url],t.resolution),e=null,i.onload=null,i=null},i.src=t.url)))}),d.applyBestCandidate=function(e,t){var i,n,o;e.sort(d.ascendingSort),o=e[(n=e.length)-1];for(var r=0;r<n;r++)if((i=e[r]).resolution>=d.getDpr()){o=i;break}o&&(o.url=d.makeUrl(o.url),t.src!==o.url&&(d.restrictsMixedContent()&&"http:"===o.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+o.url):(t.src=o.url,d.curSrcSupported||(t.currentSrc=t.src),d.backfaceVisibilityFix(t))),d.setIntrinsicSize(t,o))},d.ascendingSort=function(e,t){return e.resolution-t.resolution},d.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var i=t[0],n=i.getElementsByTagName("source");n.length;)e.insertBefore(n[0],i);i.parentNode.removeChild(i)}},d.getAllElements=function(){for(var e=[],t=u.getElementsByTagName("img"),i=0,n=t.length;i<n;i++){var o=t[i];("PICTURE"===o.parentNode.nodeName.toUpperCase()||null!==o.getAttribute("srcset")||o[d.ns]&&null!==o[d.ns].srcset)&&e.push(o)}return e},d.getMatch=function(e,t){for(var i,n=t.childNodes,o=0,r=n.length;o<r;o++){var s=n[o];if(1===s.nodeType){if(s===e)return i;if("SOURCE"===s.nodeName.toUpperCase()){null!==s.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var a=s.getAttribute("media");if(s.getAttribute("srcset")&&(!a||d.matchesMedia(a))){var l=d.verifyTypeSupport(s);if(!0===l){i=s;break}if("pending"===l)return!1}}}}return i},function(){d.initTypeDetects(),r();var e,t=setInterval(function(){r(),/^loaded|^i|^c/.test(u.readyState)&&clearInterval(t)},250),i=function(){r({reevaluate:!0})};function n(){clearTimeout(e),e=setTimeout(i,60)}c.addEventListener?c.addEventListener("resize",n,!1):c.attachEvent&&c.attachEvent("onresize",n)}(),r._=d,t(r)}function r(e){for(var t,i,n,o,r,s=e||{},a=0,l=(t=s.elements||d.getAllElements()).length;a<l;a++)if(n=(i=t[a]).parentNode,r=o=void 0,"IMG"===i.nodeName.toUpperCase()&&(i[d.ns]||(i[d.ns]={}),s.reevaluate||!i[d.ns].evaluated)){if(n&&"PICTURE"===n.nodeName.toUpperCase()){if(d.removeVideoShim(n),!1===(o=d.getMatch(i,n)))continue}else o=void 0;(n&&"PICTURE"===n.nodeName.toUpperCase()||!d.sizesSupported&&i.srcset&&h.test(i.srcset))&&d.dodgeSrcset(i),o?(r=d.processSourceSet(o),d.applyBestCandidate(r,i)):(r=d.processSourceSet(i),(void 0===i.srcset||i[d.ns].srcset)&&d.applyBestCandidate(r,i)),i[d.ns].evaluated=!0}}}(window,window.document,new window.Image),function r(s,a,l){function c(i,e){if(!a[i]){if(!s[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(u)return u(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[i]={exports:{}};s[i][0].call(o.exports,function(e){var t=s[i][1][e];return c(t||e)},o,o.exports,r,s,a,l)}return a[i].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){},{}],2:[function(o,r,e){(function(e){var t,i=void 0!==e?e:"undefined"!=typeof window?window:{},n=o(1);"undefined"!=typeof document?t=document:(t=i["__GLOBAL_DOCUMENT_CACHE@4"])||(t=i["__GLOBAL_DOCUMENT_CACHE@4"]=n),r.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],3:[function(e,i,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,i,t){!function(e){var t=setTimeout;function n(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function o(i,n){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,r._immediateFn(function(){var e=1===i._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(i._value)}catch(e){return void a(n.promise,e)}s(n.promise,t)}else(1===i._state?s:a)(n.promise,i._value)})):i._deferreds.push(n)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof r)return t._state=3,t._value=e,void l(t);if("function"==typeof i)return void u((n=i,o=e,function(){n.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){a(t,e)}var n,o}function a(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function u(e,t){var i=!1;try{e(function(e){i||(i=!0,s(t,e))},function(e){i||(i=!0,a(t,e))})}catch(e){if(i)return;i=!0,a(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var i=new this.constructor(n);return o(this,new c(e,t,i)),i},r.all=function(e){var a=Array.prototype.slice.call(e);return new r(function(n,o){if(0===a.length)return n([]);var r=a.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){s(t,e)},o)}a[t]=e,0==--r&&n(a)}catch(e){o(e)}}for(var e=0;e<a.length;e++)s(e,a[e])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(i){return new r(function(e,t){t(i)})},r.race=function(o){return new r(function(e,t){for(var i=0,n=o.length;i<n;i++)o[i].then(e,t)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},void 0!==i&&i.exports?i.exports=r:e.Promise||(e.Promise=r)}(this)},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e(7),r=(n=o)&&n.__esModule?n:{default:n},a=e(15),l=e(26);var c={lang:"en",en:a.EN,language:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(null!=t&&t.length){if("string"!=typeof t[0])throw new TypeError("Language code must be a string value");if(!/^[a-z]{2}(\-[a-z]{2})?$/i.test(t[0]))throw new TypeError("Language code must have format `xx` or `xx-xx`");c.lang=t[0],void 0===c[t[0]]?(t[1]=null!==t[1]&&void 0!==t[1]&&"object"===s(t[1])?t[1]:{},c[t[0]]=(0,l.isObjectEmpty)(t[1])?a.EN:t[1]):null!==t[1]&&void 0!==t[1]&&"object"===s(t[1])&&(c[t[0]]=t[1])}return c.lang},t:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e&&e.length){var i=void 0,n=void 0,o=c.language(),r=function(e,t,i){return"object"!==(void 0===e?"undefined":s(e))||"number"!=typeof t||"number"!=typeof i?e:[function(){return arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 0===(arguments.length<=0?void 0:arguments[0])||1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:0!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])||11===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])||12===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2<(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||0<(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<=4?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%100==1?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])%100==2?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])%100==3||(arguments.length<=0?void 0:arguments[0])%100==4?arguments.length<=4?void 0:arguments[4]:arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2<(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<7?arguments.length<=3?void 0:arguments[3]:6<(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<11?arguments.length<=4?void 0:arguments[4]:arguments.length<=5?void 0:arguments[5]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:3<=(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<=10?arguments.length<=4?void 0:arguments[4]:11<=(arguments.length<=0?void 0:arguments[0])%100?arguments.length<=5?void 0:arguments[5]:arguments.length<=6?void 0:arguments[6]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||1<(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<11?arguments.length<=2?void 0:arguments[2]:10<(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10==2?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 11!==(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:8!==(arguments.length<=0?void 0:arguments[0])&&11!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:3===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]}][i].apply(null,[t].concat(e))};return void 0!==c[o]&&(i=c[o][e],null!==t&&"number"==typeof t&&(n=c[o]["mejs.plural-form"],i=r.apply(null,[i,t,n]))),!i&&c.en&&(i=c.en[e],null!==t&&"number"==typeof t&&(n=c.en["mejs.plural-form"],i=r.apply(null,[i,t,n]))),i=i||e,null!==t&&"number"==typeof t&&(i=i.replace("%1",t)),(0,l.escapeHTML)(i)}return e}};r.default.i18n=c,"undefined"!=typeof mejsL10n&&r.default.i18n.language(mejsL10n.language,mejsL10n.strings),i.default=c},{15:15,26:26,7:7}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=n(e(3)),O=n(e(2)),L=n(e(7)),N=e(26),D=e(27),M=e(8),z=e(24);function n(e){return e&&e.__esModule?e:{default:e}}var o=function e(t,i,n){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var h=this;n=Array.isArray(n)?n:null,h.defaults={renderers:[],fakeNodeName:"mediaelementwrapper",pluginPath:"build/",shimScriptAccess:"sameDomain",customError:""},i=Object.assign(h.defaults,i),h.mediaElement=O.default.createElement(i.fakeNodeName);var o=t,a=!1;if("string"==typeof t?h.mediaElement.originalNode=O.default.getElementById(t):o=(h.mediaElement.originalNode=t).id,void 0===h.mediaElement.originalNode||null===h.mediaElement.originalNode)return null;h.mediaElement.options=i,o=o||"mejs_"+Math.random().toString().slice(2),h.mediaElement.originalNode.setAttribute("id",o+"_from_mejs");var r=h.mediaElement.originalNode.tagName.toLowerCase();-1<["video","audio"].indexOf(r)&&!h.mediaElement.originalNode.getAttribute("preload")&&h.mediaElement.originalNode.setAttribute("preload","none"),h.mediaElement.originalNode.parentNode.insertBefore(h.mediaElement,h.mediaElement.originalNode),h.mediaElement.appendChild(h.mediaElement.originalNode);var s=function(t,e){if(-1<L.default.html5media.mediaTypes.indexOf(e)&&"https:"===R.default.location.protocol&&z.IS_IOS){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=(R.default.URL||R.default.webkitURL).createObjectURL(this.response);return h.mediaElement.originalNode.setAttribute("src",e),e}return t},i.open("GET",t),i.responseType="blob",i.send()}return t},l=void 0;if(null!==n)l=n;else if(null!==h.mediaElement.originalNode)switch(l=[],h.mediaElement.originalNode.nodeName.toLowerCase()){case"iframe":l.push({type:"",src:h.mediaElement.originalNode.getAttribute("src")});break;case"audio":case"video":var c=h.mediaElement.originalNode.children.length,u=h.mediaElement.originalNode.getAttribute("src");if(u){var p=h.mediaElement.originalNode,f=(0,D.formatType)(u,p.getAttribute("type"));l.push({type:f,src:s(u,f)})}for(var m=0;m<c;m++){var g=h.mediaElement.originalNode.children[m];if("source"===g.tagName.toLowerCase()){var v=g.getAttribute("src"),y=(0,D.formatType)(v,g.getAttribute("type"));l.push({type:y,src:s(v,y)})}}}h.mediaElement.id=o,h.mediaElement.renderers={},h.mediaElement.events={},h.mediaElement.promises=[],h.mediaElement.renderer=null,h.mediaElement.rendererName=null,h.mediaElement.changeRenderer=function(e,t){var i=d,n=2<Object.keys(t[0]).length?t[0]:t[0].src;if(void 0!==i.mediaElement.renderer&&null!==i.mediaElement.renderer&&i.mediaElement.renderer.name===e)return i.mediaElement.renderer.pause(),i.mediaElement.renderer.stop&&i.mediaElement.renderer.stop(),i.mediaElement.renderer.show(),i.mediaElement.renderer.setSrc(n),!0;void 0!==i.mediaElement.renderer&&null!==i.mediaElement.renderer&&(i.mediaElement.renderer.pause(),i.mediaElement.renderer.stop&&i.mediaElement.renderer.stop(),i.mediaElement.renderer.hide());var o=i.mediaElement.renderers[e],r=null;if(null!=o)return o.show(),o.setSrc(n),i.mediaElement.renderer=o,i.mediaElement.rendererName=e,!0;for(var s=i.mediaElement.options.renderers.length?i.mediaElement.options.renderers:M.renderer.order,a=0,l=s.length;a<l;a++){var c=s[a];if(c===e){r=M.renderer.renderers[c];var u=Object.assign(r.options,i.mediaElement.options);return(o=r.create(i.mediaElement,u,t)).name=e,i.mediaElement.renderers[r.name]=o,i.mediaElement.renderer=o,i.mediaElement.rendererName=e,o.show(),!0}}return!1},h.mediaElement.setSize=function(e,t){void 0!==h.mediaElement.renderer&&null!==h.mediaElement.renderer&&h.mediaElement.renderer.setSize(e,t)},h.mediaElement.createErrorMessage=function(e){e=Array.isArray(e)?e:[];var t=O.default.createElement("div");t.className="me_cannotplay",t.style.width="100%",t.style.height="100%";var i=h.mediaElement.options.customError;if(!i){var n=h.mediaElement.originalNode.getAttribute("poster");n&&(i+='<img src="'+n+'" width="100%" height="100%" alt="'+L.default.i18n.t("mejs.download-file")+'">');for(var o=0,r=e.length;o<r;o++){var s=e[o];i+='<a href="'+s.src+'" data-type="'+s.type+'"><span>'+L.default.i18n.t("mejs.download-file")+": "+s.src+"</span></a>"}}t.innerHTML=i,h.mediaElement.originalNode.parentNode.insertBefore(t,h.mediaElement.originalNode),h.mediaElement.originalNode.style.display="none",a=!0};var w=L.default.html5media.properties,x=L.default.html5media.methods,b=function(t,e,i,n){var o=t[e];Object.defineProperty(t,e,{get:function(){return i.apply(t,[o])},set:function(e){return o=n.apply(t,[e])}})},S=function(e){if("src"!==e){var t=""+e.substring(0,1).toUpperCase()+e.substring(1),i=function(){return void 0!==h.mediaElement.renderer&&null!==h.mediaElement.renderer&&"function"==typeof h.mediaElement.renderer["get"+t]?h.mediaElement.renderer["get"+t]():null},n=function(e){void 0!==h.mediaElement.renderer&&null!==h.mediaElement.renderer&&"function"==typeof h.mediaElement.renderer["set"+t]&&h.mediaElement.renderer["set"+t](e)};b(h.mediaElement,e,i,n),h.mediaElement["get"+t]=i,h.mediaElement["set"+t]=n}},T=function(){return void 0!==h.mediaElement.renderer&&null!==h.mediaElement.renderer?h.mediaElement.renderer.getSrc():null},E=function(e){var t=[];if("string"==typeof e)t.push({src:e,type:e?(0,D.getTypeFromFile)(e):""});else if("object"===(void 0===e?"undefined":A(e))&&void 0!==e.src){var i=(0,D.absolutizeUrl)(e.src),n=e.type,o=Object.assign(e,{src:i,type:""!==n&&null!=n||!i?n:(0,D.getTypeFromFile)(i)});t.push(o)}else if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++){var a=(0,D.absolutizeUrl)(e[r].src),l=e[r].type,c=Object.assign(e[r],{src:a,type:""!==l&&null!=l||!a?l:(0,D.getTypeFromFile)(a)});t.push(c)}var u=M.renderer.select(t,h.mediaElement.options.renderers.length?h.mediaElement.options.renderers:[]),d=void 0;return h.mediaElement.paused||(h.mediaElement.pause(),d=(0,N.createEvent)("pause",h.mediaElement),h.mediaElement.dispatchEvent(d)),h.mediaElement.originalNode.setAttribute("src",t[0].src||""),h.mediaElement.querySelector(".me_cannotplay")&&h.mediaElement.querySelector(".me_cannotplay").remove(),null===u?(h.mediaElement.createErrorMessage(t),(d=(0,N.createEvent)("error",h.mediaElement)).message="No renderer found",void h.mediaElement.dispatchEvent(d)):h.mediaElement.changeRenderer(u.rendererName,t)},C=function(n){h.mediaElement[n]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(void 0!==h.mediaElement.renderer&&null!==h.mediaElement.renderer&&"function"==typeof h.mediaElement.renderer[n])try{"play"===n&&h.mediaElement.promises.length?Promise.all(h.mediaElement.promises).then(function(){setTimeout(function(){h.mediaElement.renderer[n](t)},250)}).catch(function(e){if(void 0===h.mediaElement.renderer||null===h.mediaElement.renderer){var t=(0,N.createEvent)("error",h.mediaElement);t.message=e,h.mediaElement.dispatchEvent(t),h.mediaElement.createErrorMessage(l)}}):h.mediaElement.renderer[n](t)}catch(e){h.mediaElement.createErrorMessage()}return null}};b(h.mediaElement,"src",T,E),h.mediaElement.getSrc=T,h.mediaElement.setSrc=E;for(var _=0,P=w.length;_<P;_++)S(w[_]);for(var k=0,I=x.length;k<I;k++)C(x[k]);return h.mediaElement.addEventListener=function(e,t){h.mediaElement.events[e]=h.mediaElement.events[e]||[],h.mediaElement.events[e].push(t)},h.mediaElement.removeEventListener=function(e,t){if(!e)return h.mediaElement.events={},!0;var i=h.mediaElement.events[e];if(!i)return!0;if(!t)return h.mediaElement.events[e]=[],!0;for(var n=0;n<i.length;n++)if(i[n]===t)return h.mediaElement.events[e].splice(n,1),!0;return!1},h.mediaElement.dispatchEvent=function(e){var t=h.mediaElement.events[e.type];if(t)for(var i=0;i<t.length;i++)t[i].apply(null,[e])},l.length&&(h.mediaElement.src=l),h.mediaElement.promises.length?Promise.all(h.mediaElement.promises).then(function(){h.mediaElement.options.success&&h.mediaElement.options.success(h.mediaElement,h.mediaElement.originalNode)}).catch(function(){a&&h.mediaElement.options.error&&h.mediaElement.options.error(h.mediaElement,h.mediaElement.originalNode)}):(h.mediaElement.options.success&&h.mediaElement.options.success(h.mediaElement,h.mediaElement.originalNode),a&&h.mediaElement.options.error&&h.mediaElement.options.error(h.mediaElement,h.mediaElement.originalNode)),h.mediaElement};R.default.MediaElement=o,i.default=o},{2:2,24:24,26:26,27:27,3:3,7:7,8:8}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,o=e(3);var r={version:"4.1.3",html5media:{properties:["volume","src","currentTime","muted","duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable","currentSrc","preload","bufferedBytes","bufferedTime","initialTime","startOffsetTime","defaultPlaybackRate","playbackRate","played","autoplay","loop","controls"],readOnlyProperties:["duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable"],methods:["load","play","pause","canPlayType"],events:["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"],mediaTypes:["audio/mp3","audio/ogg","audio/oga","audio/wav","audio/x-wav","audio/wave","audio/x-pn-wav","audio/mpeg","audio/mp4","video/mp4","video/webm","video/ogg","video/ogv"]}};((n=o)&&n.__esModule?n:{default:n}).default.mejs=r,i.default=r},{3:3}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.renderer=void 0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),s=e(7),a=(n=s)&&n.__esModule?n:{default:n};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderers={},this.order=[]}return r(e,[{key:"add",value:function(e){if(void 0===e.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[e.name]=e,this.order.push(e.name)}},{key:"select",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=t.length;if(t=t.length?t:this.order,!i){var n=[/^(html5|native)/i,/^flash/i,/iframe$/i],o=function(e){for(var t=0,i=n.length;t<i;t++)if(n[t].test(e))return t;return n.length};t.sort(function(e,t){return o(e)-o(t)})}for(var r=0,s=t.length;r<s;r++){var a=t[r],l=this.renderers[a];if(null!=l)for(var c=0,u=e.length;c<u;c++)if("function"==typeof l.canPlayType&&"string"==typeof e[c].type&&l.canPlayType(e[c].type))return{rendererName:l.name,src:e[c].src}}return null}},{key:"order",set:function(e){if(!Array.isArray(e))throw new TypeError("order must be an array of strings.");this._order=e},get:function(){return this._order}},{key:"renderers",set:function(e){if(null!==e&&"object"!==(void 0===e?"undefined":o(e)))throw new TypeError("renderers must be an array of objects.");this._renderers=e},get:function(){return this._renderers}}]),e}(),c=i.renderer=new l;a.default.Renderers=c},{7:7}],9:[function(e,t,i){"use strict";var h=s(e(3)),p=s(e(2)),o=s(e(5)),n=e(17),r=s(n),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(e(24)),m=e(26),g=e(25);function s(e){return e&&e.__esModule?e:{default:e}}Object.assign(n.config,{usePluginFullScreen:!0,fullscreenText:null}),Object.assign(r.default.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(t){if(t.isVideo){t.isInIframe=h.default.location!==h.default.parent.location,t.detectFullscreenMode();var i=this,e=(0,m.isString)(i.options.fullscreenText)?i.options.fullscreenText:o.default.t("mejs.fullscreen"),n=p.default.createElement("div");if(n.className=i.options.classPrefix+"button "+i.options.classPrefix+"fullscreen-button",n.innerHTML='<button type="button" aria-controls="'+i.id+'" title="'+e+'" aria-label="'+e+'" tabindex="0"></button>',i.addControlElement(n,"fullscreen"),n.addEventListener("click",function(){f.HAS_TRUE_NATIVE_FULLSCREEN&&f.IS_FULLSCREEN||t.isFullScreen?t.exitFullScreen():t.enterFullScreen()}),t.fullscreenBtn=n,i.globalBind("keydown",function(e){27===(e.which||e.keyCode||0)&&(f.HAS_TRUE_NATIVE_FULLSCREEN&&f.IS_FULLSCREEN||i.isFullScreen)&&t.exitFullScreen()}),i.normalHeight=0,i.normalWidth=0,f.HAS_TRUE_NATIVE_FULLSCREEN){t.globalBind(f.FULLSCREEN_EVENT_NAME,function(){t.isFullScreen&&(f.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))})}}},detectFullscreenMode:function(){var e=null!==this.media.rendererName&&/(native|html5)/i.test(this.media.rendererName),t="";return t=f.HAS_TRUE_NATIVE_FULLSCREEN&&e?"native-native":f.HAS_TRUE_NATIVE_FULLSCREEN&&!e?"plugin-native":this.usePluginFullScreen&&f.SUPPORT_POINTER_EVENTS?"plugin-click":"fullwindow",this.fullscreenMode=t},cleanfullscreen:function(e){e.exitFullScreen()},enterFullScreen:function(){var n=this,e=null!==n.media.rendererName&&/(html5|native)/i.test(n.media.rendererName),t=getComputedStyle(n.container);if(f.IS_IOS&&f.HAS_IOS_FULLSCREEN)"function"==typeof n.media.webkitEnterFullscreen?n.media.webkitEnterFullscreen():n.media.originalNode.webkitEnterFullscreen();else{if((0,g.addClass)(p.default.documentElement,n.options.classPrefix+"fullscreen"),(0,g.addClass)(n.container,n.options.classPrefix+"container-fullscreen"),n.normalHeight=parseFloat(t.height),n.normalWidth=parseFloat(t.width),"native-native"!==n.fullscreenMode&&"plugin-native"!==n.fullscreenMode||(f.requestFullScreen(n.container),n.isInIframe&&setTimeout(function e(){if(n.isNativeFullScreen){var t=h.default.innerWidth||p.default.documentElement.clientWidth||p.default.body.clientWidth,i=screen.width;.002*i<Math.abs(i-t)?n.exitFullScreen():setTimeout(e,500)}},1e3)),n.container.style.width="100%",n.container.style.height="100%",n.containerSizeTimeout=setTimeout(function(){n.container.style.width="100%",n.container.style.height="100%",n.setControlsSize()},500),e)n.node.style.width="100%",n.node.style.height="100%";else for(var i=n.container.querySelectorAll("iframe, embed, object, video"),o=i.length,r=0;r<o;r++)i[r].style.width="100%",i[r].style.height="100%";n.options.setDimensions&&"function"==typeof n.media.setSize&&n.media.setSize(screen.width,screen.height);for(var s=n.layers.children,a=s.length,l=0;l<a;l++)s[l].style.width="100%",s[l].style.height="100%";n.fullscreenBtn&&((0,g.removeClass)(n.fullscreenBtn,n.options.classPrefix+"fullscreen"),(0,g.addClass)(n.fullscreenBtn,n.options.classPrefix+"unfullscreen")),n.setControlsSize(),n.isFullScreen=!0;var c=Math.min(screen.width/n.width,screen.height/n.height),u=n.container.querySelector("."+n.options.classPrefix+"captions-text");u&&(u.style.fontSize=100*c+"%",u.style.lineHeight="normal",n.container.querySelector("."+n.options.classPrefix+"captions-position").style.bottom="45px");var d=(0,m.createEvent)("enteredfullscreen",n.container);n.container.dispatchEvent(d)}},exitFullScreen:function(){var e=this,t=null!==e.media.rendererName&&/(native|html5)/i.test(e.media.rendererName);if(clearTimeout(e.containerSizeTimeout),f.HAS_TRUE_NATIVE_FULLSCREEN&&(f.IS_FULLSCREEN||e.isFullScreen)&&f.cancelFullScreen(),(0,g.removeClass)(p.default.documentElement,e.options.classPrefix+"fullscreen"),(0,g.removeClass)(e.container,e.options.classPrefix+"container-fullscreen"),e.options.setDimensions){if(e.container.style.width=e.normalWidth+"px",e.container.style.height=e.normalHeight+"px",t)e.node.style.width=e.normalWidth+"px",e.node.style.height=e.normalHeight+"px";else for(var i=e.container.querySelectorAll("iframe, embed, object, video"),n=i.length,o=0;o<n;o++)i[o].style.width=e.normalWidth+"px",i[o].style.height=e.normalHeight+"px";"function"==typeof e.media.setSize&&e.media.setSize(e.normalWidth,e.normalHeight);for(var r=e.layers.children,s=r.length,a=0;a<s;a++)r[a].style.width=e.normalWidth+"px",r[a].style.height=e.normalHeight+"px"}e.fullscreenBtn&&((0,g.removeClass)(e.fullscreenBtn,e.options.classPrefix+"unfullscreen"),(0,g.addClass)(e.fullscreenBtn,e.options.classPrefix+"fullscreen")),e.setControlsSize(),e.isFullScreen=!1;var l=e.container.querySelector("."+e.options.classPrefix+"captions-text");l&&(l.style.fontSize="",l.style.lineHeight="",e.container.querySelector("."+e.options.classPrefix+"captions-position").style.bottom="");var c=(0,m.createEvent)("exitedfullscreen",e.container);e.container.dispatchEvent(c)}})},{17:17,2:2,24:24,25:25,26:26,3:3,5:5}],10:[function(e,t,i){"use strict";var d=r(e(2)),n=e(17),o=r(n),h=r(e(5)),p=e(26),f=e(25);function r(e){return e&&e.__esModule?e:{default:e}}Object.assign(n.config,{playText:null,pauseText:null}),Object.assign(o.default.prototype,{buildplaypause:function(e,t,i,n){var o=this,r=o.options,s=(0,p.isString)(r.playText)?r.playText:h.default.t("mejs.play"),a=(0,p.isString)(r.pauseText)?r.pauseText:h.default.t("mejs.pause"),l=d.default.createElement("div");l.className=o.options.classPrefix+"button "+o.options.classPrefix+"playpause-button "+o.options.classPrefix+"play",l.innerHTML='<button type="button" aria-controls="'+o.id+'" title="'+s+'" aria-label="'+a+'" tabindex="0"></button>',l.addEventListener("click",function(){n.paused?n.play():n.pause()});var c=l.querySelector("button");function u(e){"play"===e?((0,f.removeClass)(l,o.options.classPrefix+"play"),(0,f.removeClass)(l,o.options.classPrefix+"replay"),(0,f.addClass)(l,o.options.classPrefix+"pause"),c.setAttribute("title",a),c.setAttribute("aria-label",a)):((0,f.removeClass)(l,o.options.classPrefix+"pause"),(0,f.removeClass)(l,o.options.classPrefix+"replay"),(0,f.addClass)(l,o.options.classPrefix+"play"),c.setAttribute("title",s),c.setAttribute("aria-label",s))}o.addControlElement(l,"playpause"),u("pse"),n.addEventListener("loadedmetadata",function(){-1===n.rendererName.indexOf("flash")&&u("pse")}),n.addEventListener("play",function(){u("play")}),n.addEventListener("playing",function(){u("play")}),n.addEventListener("pause",function(){u("pse")}),n.addEventListener("ended",function(){e.options.loop||((0,f.removeClass)(l,o.options.classPrefix+"pause"),(0,f.removeClass)(l,o.options.classPrefix+"play"),(0,f.addClass)(l,o.options.classPrefix+"replay"),c.setAttribute("title",s),c.setAttribute("aria-label",s))})}})},{17:17,2:2,25:25,26:26,5:5}],11:[function(e,t,i){"use strict";var g=r(e(2)),n=e(17),o=r(n),v=r(e(5)),y=e(24),w=e(29),x=e(25);function r(e){return e&&e.__esModule?e:{default:e}}Object.assign(n.config,{enableProgressTooltip:!0,useSmoothHover:!0}),Object.assign(o.default.prototype,{buildprogress:function(d,a,e,l){var s=0,h=!1,c=!1,p=this,t=d.options.autoRewind,i=d.options.enableProgressTooltip?'<span class="'+p.options.classPrefix+'time-float"><span class="'+p.options.classPrefix+'time-float-current">00:00</span><span class="'+p.options.classPrefix+'time-float-corner"></span></span>':"",n=g.default.createElement("div");n.className=p.options.classPrefix+"time-rail",n.innerHTML='<span class="'+p.options.classPrefix+"time-total "+p.options.classPrefix+'time-slider"><span class="'+p.options.classPrefix+'time-buffering"></span><span class="'+p.options.classPrefix+'time-loaded"></span><span class="'+p.options.classPrefix+'time-current"></span><span class="'+p.options.classPrefix+'time-hovered no-hover"></span><span class="'+p.options.classPrefix+'time-handle"><span class="'+p.options.classPrefix+'time-handle-content"></span></span>'+i+"</span>",p.addControlElement(n,"progress"),a.querySelector("."+p.options.classPrefix+"time-buffering").style.display="none",p.rail=a.querySelector("."+p.options.classPrefix+"time-rail"),p.total=a.querySelector("."+p.options.classPrefix+"time-total"),p.loaded=a.querySelector("."+p.options.classPrefix+"time-loaded"),p.current=a.querySelector("."+p.options.classPrefix+"time-current"),p.handle=a.querySelector("."+p.options.classPrefix+"time-handle"),p.timefloat=a.querySelector("."+p.options.classPrefix+"time-float"),p.timefloatcurrent=a.querySelector("."+p.options.classPrefix+"time-float-current"),p.slider=a.querySelector("."+p.options.classPrefix+"time-slider"),p.hovered=a.querySelector("."+p.options.classPrefix+"time-hovered"),p.newTime=0,p.forcedHandlePause=!1,p.setTransformStyle=function(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t};var o=function(e){var t=getComputedStyle(p.total),i=(0,x.offset)(p.total),n=parseFloat(t.width),o=void 0!==t.webkitTransform?"webkitTransform":void 0!==t.mozTransform?"mozTransform ":void 0!==t.oTransform?"oTransform":void 0!==t.msTransform?"msTransform":"transform",r="WebKitCSSMatrix"in window?"WebKitCSSMatrix":"MSCSSMatrix"in window?"MSCSSMatrix":"CSSMatrix"in window?"CSSMatrix":void 0,s=0,a=0,l=void 0;if(l=e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,p.getDuration()&&(l<i.left?l=i.left:l>n+i.left&&(l=n+i.left),s=(a=l-i.left)/n,p.newTime=s<=.02?0:s*p.getDuration(),h&&null!==p.getCurrentTime()&&p.newTime.toFixed(4)!==p.getCurrentTime().toFixed(4)&&(p.setCurrentRailHandle(p.newTime),p.updateCurrent(p.newTime)),!y.IS_IOS&&!y.IS_ANDROID&&p.timefloat)){if(a<0&&(a=0),p.options.useSmoothHover&&null!==r&&void 0!==window[r]){var c=new window[r](getComputedStyle(p.handle)[o]).m41,u=a/parseFloat(getComputedStyle(p.total).width)-c/parseFloat(getComputedStyle(p.total).width);p.hovered.style.left=c+"px",p.setTransformStyle(p.hovered,"scaleX("+u+")"),p.hovered.setAttribute("pos",a),0<=u?(0,x.removeClass)(p.hovered,"negative"):(0,x.addClass)(p.hovered,"negative")}p.timefloat.style.left=a+"px",p.timefloatcurrent.innerHTML=(0,w.secondsToTimeCode)(p.newTime,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength),p.timefloat.style.display="block"}},u=function(){1e3<=new Date-s&&l.play()};p.slider.addEventListener("focus",function(){d.options.autoRewind=!1}),p.slider.addEventListener("blur",function(){d.options.autoRewind=t}),p.slider.addEventListener("keydown",function(e){if(1e3<=new Date-s&&(c=l.paused),p.options.keyActions.length){var t=e.which||e.keyCode||0,i=p.getDuration(),n=d.options.defaultSeekForwardInterval(l),o=d.options.defaultSeekBackwardInterval(l),r=p.getCurrentTime();switch(t){case 37:case 40:p.getDuration()!==1/0&&(r-=o);break;case 39:case 38:p.getDuration()!==1/0&&(r+=n);break;case 36:r=0;break;case 35:r=i;break;case 32:return void(y.IS_FIREFOX||(l.paused?l.play():l.pause()));case 13:return void(l.paused?l.play():l.pause());default:return}r=r<0?0:i<=r?i:Math.floor(r),s=new Date,c||l.pause(),r<p.getDuration()&&!c&&setTimeout(u,1100),p.setCurrentTime(r),e.preventDefault(),e.stopPropagation()}});var r=["mousedown","touchstart"];p.slider.addEventListener("dragstart",function(){return!1});for(var f=0,m=r.length;f<m;f++)p.slider.addEventListener(r[f],function(e){if(p.forcedHandlePause=!1,p.getDuration()!==1/0&&(1===e.which||0===e.which)){l.paused||(p.media.pause(),p.forcedHandlePause=!0),h=!0,o(e);for(var t=["mouseup","touchend"],i=0,n=t.length;i<n;i++)p.container.addEventListener(t[i],function(e){var t=e.target;(t===p.slider||t.closest("."+p.options.classPrefix+"time-slider"))&&o(e)});p.globalBind("mouseup.dur touchend.dur",function(){h&&null!==p.getCurrentTime()&&p.newTime.toFixed(4)!==p.getCurrentTime().toFixed(4)&&(p.setCurrentTime(p.newTime),d.setCurrentRail(),p.updateCurrent(p.newTime)),p.forcedHandlePause&&p.media.play(),p.forcedHandlePause=!1,h=!1,p.timefloat&&(p.timefloat.style.display="none"),p.globalUnbind("mousemove.dur touchmove.dur mouseup.dur touchend.dur")})}});p.slider.addEventListener("mouseenter",function(e){e.target===p.slider&&p.getDuration()!==1/0&&(p.container.addEventListener("mousemove",function(e){var t=e.target;(t===p.slider||t.closest("."+p.options.classPrefix+"time-slider"))&&o(e)}),!p.timefloat||y.IS_IOS||y.IS_ANDROID||(p.timefloat.style.display="block"),p.hovered&&!y.IS_IOS&&!y.IS_ANDROID&&p.options.useSmoothHover&&(0,x.removeClass)(p.hovered,"no-hover"))}),p.slider.addEventListener("mouseleave",function(){p.getDuration()!==1/0&&(h||(p.globalUnbind("mousemove.dur"),p.timefloat&&(p.timefloat.style.display="none"),p.hovered&&p.options.useSmoothHover&&(0,x.addClass)(p.hovered,"no-hover")))}),l.addEventListener("progress",function(e){var t=a.querySelector("."+p.options.classPrefix+"broadcast");if(p.getDuration()!==1/0)t&&(p.slider.style.display="",t.remove()),d.setProgressRail(e),p.forcedHandlePause||d.setCurrentRail(e);else if(!t){var i=g.default.createElement("span");i.className=p.options.classPrefix+"broadcast",i.innerText=v.default.t("mejs.live-broadcast"),p.slider.style.display="none"}}),l.addEventListener("timeupdate",function(e){var t,i,n,o,r=a.querySelector("."+p.options.classPrefix+"broadcast");if(p.getDuration()!==1/0)r&&(p.slider.style.display="",r.remove()),d.setProgressRail(e),p.forcedHandlePause||d.setCurrentRail(e),t=p.getCurrentTime(),i=v.default.t("mejs.time-slider"),n=(0,w.secondsToTimeCode)(t,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength),o=p.getDuration(),p.slider.setAttribute("role","slider"),p.slider.tabIndex=0,l.paused?(p.slider.setAttribute("aria-label",i),p.slider.setAttribute("aria-valuemin",0),p.slider.setAttribute("aria-valuemax",o),p.slider.setAttribute("aria-valuenow",t),p.slider.setAttribute("aria-valuetext",n)):(p.slider.removeAttribute("aria-label"),p.slider.removeAttribute("aria-valuemin"),p.slider.removeAttribute("aria-valuemax"),p.slider.removeAttribute("aria-valuenow"),p.slider.removeAttribute("aria-valuetext"));else if(!r){var s=g.default.createElement("span");s.className=p.options.classPrefix+"broadcast",s.innerText=v.default.t("mejs.live-broadcast"),a.querySelector("."+p.options.classPrefix+"time-rail").appendChild(s),p.slider.style.display="none"}}),p.container.addEventListener("controlsresize",function(e){p.getDuration()!==1/0&&(d.setProgressRail(e),p.forcedHandlePause||d.setCurrentRail(e))})},setProgressRail:function(e){var t=void 0!==e?e.detail.target||e.target:this.media,i=null;t&&t.buffered&&0<t.buffered.length&&t.buffered.end&&this.getDuration()?i=t.buffered.end(t.buffered.length-1)/this.getDuration():t&&void 0!==t.bytesTotal&&0<t.bytesTotal&&void 0!==t.bufferedBytes?i=t.bufferedBytes/t.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(i=e.loaded/e.total),null!==i&&(i=Math.min(1,Math.max(0,i)),this.loaded&&this.setTransformStyle(this.loaded,"scaleX("+i+")"))},setCurrentRailHandle:function(e){this.setCurrentRailMain(this,e)},setCurrentRail:function(){this.setCurrentRailMain(this)},setCurrentRailMain:function(e,t){if(void 0!==e.getCurrentTime()&&e.getDuration()){var i=void 0===t?e.getCurrentTime():t;if(e.total&&e.handle){var n=parseFloat(getComputedStyle(e.total).width),o=Math.round(n*i/e.getDuration()),r=o-Math.round(e.handle.offsetWidth/2);if(r=r<0?0:r,e.setTransformStyle(e.current,"scaleX("+o/n+")"),e.setTransformStyle(e.handle,"translateX("+r+"px)"),e.options.useSmoothHover&&!(0,x.hasClass)(e.hovered,"no-hover")){var s=parseInt(e.hovered.getAttribute("pos")),a=(s=isNaN(s)?0:s)/n-r/n;e.hovered.style.left=r+"px",e.setTransformStyle(e.hovered,"scaleX("+a+")"),0<=a?(0,x.removeClass)(e.hovered,"negative"):(0,x.addClass)(e.hovered,"negative")}}}}})},{17:17,2:2,24:24,25:25,29:29,5:5}],12:[function(e,t,i){"use strict";var s=r(e(2)),n=e(17),o=r(n),a=e(29),l=e(25);function r(e){return e&&e.__esModule?e:{default:e}}Object.assign(n.config,{duration:0,timeAndDurationSeparator:"<span> | </span>"}),Object.assign(o.default.prototype,{buildcurrent:function(e,t,i,n){var o=this,r=s.default.createElement("div");r.className=o.options.classPrefix+"time",r.setAttribute("role","timer"),r.setAttribute("aria-live","off"),r.innerHTML='<span class="'+o.options.classPrefix+'currenttime">'+(0,a.secondsToTimeCode)(0,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond,e.options.secondsDecimalLength)+"</span>",o.addControlElement(r,"current"),n.addEventListener("timeupdate",function(){o.controlsAreVisible&&e.updateCurrent()})},buildduration:function(e,t,i,n){var o=this;if(t.lastChild.querySelector("."+o.options.classPrefix+"currenttime"))t.querySelector("."+o.options.classPrefix+"time").innerHTML+=o.options.timeAndDurationSeparator+'<span class="'+o.options.classPrefix+'duration">'+(0,a.secondsToTimeCode)(o.options.duration,o.options.alwaysShowHours,o.options.showTimecodeFrameCount,o.options.framesPerSecond,o.options.secondsDecimalLength)+"</span>";else{t.querySelector("."+o.options.classPrefix+"currenttime")&&(0,l.addClass)(t.querySelector("."+o.options.classPrefix+"currenttime").parentNode,o.options.classPrefix+"currenttime-container");var r=s.default.createElement("div");r.className=o.options.classPrefix+"time "+o.options.classPrefix+"duration-container",r.innerHTML='<span class="'+o.options.classPrefix+'duration">'+(0,a.secondsToTimeCode)(o.options.duration,o.options.alwaysShowHours,o.options.showTimecodeFrameCount,o.options.framesPerSecond,o.options.secondsDecimalLength)+"</span>",o.addControlElement(r,"duration")}n.addEventListener("timeupdate",function(){o.controlsAreVisible&&e.updateDuration()})},updateCurrent:function(){var e=this,t=e.getCurrentTime();isNaN(t)&&(t=0);var i=(0,a.secondsToTimeCode)(t,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond,e.options.secondsDecimalLength);5<i.length?(0,l.addClass)(e.container,e.options.classPrefix+"long-video"):(0,l.removeClass)(e.container,e.options.classPrefix+"long-video"),e.controls.querySelector("."+e.options.classPrefix+"currenttime")&&(e.controls.querySelector("."+e.options.classPrefix+"currenttime").innerText=i)},updateDuration:function(){var e=this,t=e.getDuration();(isNaN(t)||t===1/0||t<0)&&(e.media.duration=e.options.duration=t=0),0<e.options.duration&&(t=e.options.duration);var i=(0,a.secondsToTimeCode)(t,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond,e.options.secondsDecimalLength);5<i.length?(0,l.addClass)(e.container,e.options.classPrefix+"long-video"):(0,l.removeClass)(e.container,e.options.classPrefix+"long-video"),e.controls.querySelector("."+e.options.classPrefix+"duration")&&0<t&&(e.controls.querySelector("."+e.options.classPrefix+"duration").innerHTML=i)}})},{17:17,2:2,25:25,29:29}],13:[function(e,t,i){"use strict";var R=r(e(2)),c=r(e(7)),O=r(e(5)),n=e(17),o=r(n),f=e(29),L=e(26),N=e(25);function r(e){return e&&e.__esModule?e:{default:e}}Object.assign(n.config,{startLanguage:"",tracksText:null,chaptersText:null,tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),Object.assign(o.default.prototype,{hasChapters:!1,buildtracks:function(t,e,i,n){if(t.tracks.length||t.trackFiles&&0!==!t.trackFiles.length){var o=this,r=o.options.tracksAriaLive?' role="log" aria-live="assertive" aria-atomic="false"':"",s=(0,L.isString)(o.options.tracksText)?o.options.tracksText:O.default.t("mejs.captions-subtitles"),a=(0,L.isString)(o.options.chaptersText)?o.options.chaptersText:O.default.t("mejs.captions-chapters"),l=null===t.trackFiles?t.tracks.length:t.trackFiles.length;if(o.domNode.textTracks)for(var c=o.domNode.textTracks.length-1;0<=c;c--)o.domNode.textTracks[c].mode="hidden";o.cleartracks(t),t.captions=R.default.createElement("div"),t.captions.className=o.options.classPrefix+"captions-layer "+o.options.classPrefix+"layer",t.captions.innerHTML='<div class="'+o.options.classPrefix+"captions-position "+o.options.classPrefix+'captions-position-hover"'+r+'><span class="'+o.options.classPrefix+'captions-text"></span></div>',t.captions.style.display="none",i.insertBefore(t.captions,i.firstChild),t.captionsText=t.captions.querySelector("."+o.options.classPrefix+"captions-text"),t.captionsButton=R.default.createElement("div"),t.captionsButton.className=o.options.classPrefix+"button "+o.options.classPrefix+"captions-button",t.captionsButton.innerHTML='<button type="button" aria-controls="'+o.id+'" title="'+s+'" aria-label="'+s+'" tabindex="0"></button><div class="'+o.options.classPrefix+"captions-selector "+o.options.classPrefix+'offscreen"><ul class="'+o.options.classPrefix+'captions-selector-list"><li class="'+o.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+o.options.classPrefix+'captions-selector-input" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked disabled><label class="'+o.options.classPrefix+"captions-selector-label "+o.options.classPrefix+'captions-selected" for="'+t.id+'_captions_none">'+O.default.t("mejs.none")+"</label></li></ul></div>",o.addControlElement(t.captionsButton,"tracks"),t.captionsButton.querySelector("."+o.options.classPrefix+"captions-selector-input").disabled=!1,t.chaptersButton=R.default.createElement("div"),t.chaptersButton.className=o.options.classPrefix+"button "+o.options.classPrefix+"chapters-button",t.chaptersButton.innerHTML='<button type="button" aria-controls="'+o.id+'" title="'+a+'" aria-label="'+a+'" tabindex="0"></button><div class="'+o.options.classPrefix+"chapters-selector "+o.options.classPrefix+'offscreen"><ul class="'+o.options.classPrefix+'chapters-selector-list"></ul></div>';for(var u=0,d=0;d<l;d++){var h=t.tracks[d].kind;"subtitles"===h||"captions"===h?u++:"chapters"!==h||e.querySelector("."+o.options.classPrefix+"chapter-selector")||t.captionsButton.parentNode.insertBefore(t.chaptersButton,t.captionsButton)}t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1;for(var p=0;p<l;p++){var f=t.tracks[p].kind;"subtitles"!==f&&"captions"!==f||t.addTrackButton(t.tracks[p].trackId,t.tracks[p].srclang,t.tracks[p].label)}t.loadNextTrack();var m=["mouseenter","focusin"],g=["mouseleave","focusout"];if(o.options.toggleCaptionsButtonWhenOnlyOne&&1===u)t.captionsButton.addEventListener("click",function(){var e="none";null===t.selectedTrack&&(e=t.tracks[0].trackId),t.setTrack(e)});else{for(var v=t.captionsButton.querySelectorAll("."+o.options.classPrefix+"captions-selector-label"),y=t.captionsButton.querySelectorAll("input[type=radio]"),w=0,x=m.length;w<x;w++)t.captionsButton.addEventListener(m[w],function(){(0,N.removeClass)(this.querySelector("."+o.options.classPrefix+"captions-selector"),o.options.classPrefix+"offscreen")});for(var b=0,S=g.length;b<S;b++)t.captionsButton.addEventListener(g[b],function(){(0,N.addClass)(this.querySelector("."+o.options.classPrefix+"captions-selector"),o.options.classPrefix+"offscreen")});for(var T=0,E=y.length;T<E;T++)y[T].addEventListener("click",function(){t.setTrack(this.value)});for(var C=0,_=v.length;C<_;C++)v[C].addEventListener("click",function(){var e=(0,N.siblings)(this,function(e){return"INPUT"===e.tagName})[0],t=(0,L.createEvent)("click",e);e.dispatchEvent(t)});t.captionsButton.addEventListener("keydown",function(e){e.stopPropagation()})}for(var P=0,k=m.length;P<k;P++)t.chaptersButton.addEventListener(m[P],function(){this.querySelector("."+o.options.classPrefix+"chapters-selector-list").children.length&&(0,N.removeClass)(this.querySelector("."+o.options.classPrefix+"chapters-selector"),o.options.classPrefix+"offscreen")});for(var I=0,A=g.length;I<A;I++)t.chaptersButton.addEventListener(g[I],function(){(0,N.addClass)(this.querySelector("."+o.options.classPrefix+"chapters-selector"),o.options.classPrefix+"offscreen")});t.chaptersButton.addEventListener("keydown",function(e){e.stopPropagation()}),t.options.alwaysShowControls?(0,N.addClass)(t.container.querySelector("."+o.options.classPrefix+"captions-position"),o.options.classPrefix+"captions-position-hover"):(t.container.addEventListener("controlsshown",function(){(0,N.addClass)(t.container.querySelector("."+o.options.classPrefix+"captions-position"),o.options.classPrefix+"captions-position-hover")}),t.container.addEventListener("controlshidden",function(){n.paused||(0,N.removeClass)(t.container.querySelector("."+o.options.classPrefix+"captions-position"),o.options.classPrefix+"captions-position-hover")})),n.addEventListener("timeupdate",function(){t.displayCaptions()}),""!==t.options.slidesSelector&&(t.slidesContainer=R.default.querySelectorAll(t.options.slidesSelector),n.addEventListener("timeupdate",function(){t.displaySlides()}))}},cleartracks:function(e){e&&(e.captions&&e.captions.remove(),e.chapters&&e.chapters.remove(),e.captionsText&&e.captionsText.remove(),e.captionsButton&&e.captionsButton.remove(),e.chaptersButton&&e.chaptersButton.remove())},rebuildtracks:function(){this.findTracks(),this.buildtracks(this,this.controls,this.layers,this.media)},findTracks:function(){var e=null===this.trackFiles?this.node.querySelectorAll("track"):this.trackFiles,t=e.length;this.tracks=[];for(var i=0;i<t;i++){var n=e[i],o=n.getAttribute("srclang").toLowerCase()||"",r=this.id+"_track_"+i+"_"+n.getAttribute("kind")+"_"+o;this.tracks.push({trackId:r,srclang:o,src:n.getAttribute("src"),kind:n.getAttribute("kind"),label:n.getAttribute("label")||"",entries:[],isLoaded:!1})}},setTrack:function(e){for(var t=this,i=t.captionsButton.querySelectorAll('input[type="radio"]'),n=t.captionsButton.querySelectorAll("."+t.options.classPrefix+"captions-selected"),o=t.captionsButton.querySelector('input[value="'+e+'"]'),r=0,s=i.length;r<s;r++)i[r].checked=!1;for(var a=0,l=n.length;a<l;a++)(0,N.removeClass)(n[a],t.options.classPrefix+"captions-selected");o.checked=!0;for(var c=(0,N.siblings)(o,function(e){return(0,N.hasClass)(e,t.options.classPrefix+"captions-selector-label")}),u=0,d=c.length;u<d;u++)(0,N.addClass)(c[u],t.options.classPrefix+"captions-selected");if("none"===e)t.selectedTrack=null,(0,N.removeClass)(t.captionsButton,t.options.classPrefix+"captions-enabled");else for(var h=0,p=t.tracks.length;h<p;h++){var f=t.tracks[h];if(f.trackId===e){null===t.selectedTrack&&(0,N.addClass)(t.captionsButton,t.options.classPrefix+"captions-enabled"),t.selectedTrack=f,t.captions.setAttribute("lang",t.selectedTrack.srclang),t.displayCaptions();break}}var m=(0,L.createEvent)("captionschange",t.media);m.detail.caption=t.selectedTrack,t.media.dispatchEvent(m)},loadNextTrack:function(){this.trackToLoad++,this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):(this.isLoadingTrack=!1,this.checkForTracks())},loadTrack:function(e){var t=this,i=t.tracks[e];void 0===i||void 0===i.src&&""===i.src||(0,N.ajax)(i.src,"text",function(e){i.entries="string"==typeof e&&/<tt\s+xml/gi.exec(e)?c.default.TrackFormatParser.dfxp.parse(e):c.default.TrackFormatParser.webvtt.parse(e),i.isLoaded=!0,t.enableTrackButton(i),t.loadNextTrack(),"slides"===i.kind?t.setupSlides(i):"chapters"!==i.kind||t.hasChapters||(t.drawChapters(i),t.hasChapters=!0)},function(){t.removeTrackButton(i.trackId),t.loadNextTrack()})},enableTrackButton:function(e){var t=this,i=e.srclang,n=R.default.getElementById(""+e.trackId);if(n){var o=e.label;""===o&&(o=O.default.t(c.default.language.codes[i])||i),n.disabled=!1;for(var r=(0,N.siblings)(n,function(e){return(0,N.hasClass)(e,t.options.classPrefix+"captions-selector-label")}),s=0,a=r.length;s<a;s++)r[s].innerHTML=o;if(t.options.startLanguage===i){n.checked=!0;var l=(0,L.createEvent)("click",n);n.dispatchEvent(l)}}},removeTrackButton:function(e){var t=R.default.getElementById(""+e);if(t){var i=t.closest("li");i&&i.remove()}},addTrackButton:function(e,t,i){""===i&&(i=O.default.t(c.default.language.codes[t])||t),this.captionsButton.querySelector("ul").innerHTML+='<li class="'+this.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+this.options.classPrefix+'captions-selector-input" name="'+this.id+'_captions" id="'+e+'" value="'+e+'" disabled><label class="'+this.options.classPrefix+'captions-selector-label"for="'+e+'">'+i+" (loading)</label></li>"},checkForTracks:function(){var e=!1;if(this.options.hideCaptionsButtonWhenEmpty){for(var t=0,i=this.tracks.length;t<i;t++){var n=this.tracks[t].kind;if(("subtitles"===n||"captions"===n)&&this.tracks[t].isLoaded){e=!0;break}}this.captionsButton.style.display=e?"":"none",this.setControlsSize()}},displayCaptions:function(){if(void 0!==this.tracks){var e=this,t=e.selectedTrack;if(null!==t&&t.isLoaded){var i=e.searchTrackPosition(t.entries,e.media.currentTime);if(-1<i)return e.captionsText.innerHTML=function(e){var t=R.default.createElement("div");t.innerHTML=e;for(var i=t.getElementsByTagName("script"),n=i.length;n--;)i[n].remove();for(var o=t.getElementsByTagName("*"),r=0,s=o.length;r<s;r++)for(var a=o[r].attributes,l=Array.prototype.slice.call(a),c=0,u=l.length;c<u;c++)l[c].name.startsWith("on")||l[c].value.startsWith("javascript")?o[r].remove():"style"===l[c].name&&o[r].removeAttribute(l[c].name);return t.innerHTML}(t.entries[i].text),e.captionsText.className=e.options.classPrefix+"captions-text "+(t.entries[i].identifier||""),e.captions.style.display="",void(e.captions.style.height="0px");e.captions.style.display="none"}else e.captions.style.display="none"}},setupSlides:function(e){this.slides=e,this.slides.entries.imgs=[this.slides.entries.length],this.showSlide(0)},showSlide:function(e){var o=this,r=this;if(void 0!==r.tracks&&void 0!==r.slidesContainer){var t=r.slides.entries[e].text,i=r.slides.entries[e].imgs;if(void 0===i||void 0===i.fadeIn){var s=R.default.createElement("img");s.src=t,s.addEventListener("load",function(){var e=o,t=(0,N.siblings)(e,function(e){return t(e)});e.style.display="none",r.slidesContainer.innerHTML+=e.innerHTML,(0,N.fadeIn)(r.slidesContainer.querySelector(s));for(var i=0,n=t.length;i<n;i++)(0,N.fadeOut)(t[i],400)}),r.slides.entries[e].imgs=i=s}else if(!(0,N.visible)(i)){var n=(0,N.siblings)(self,function(e){return n(e)});(0,N.fadeIn)(r.slidesContainer.querySelector(i));for(var a=0,l=n.length;a<l;a++)(0,N.fadeOut)(n[a])}}},displaySlides:function(){if(void 0!==this.slides){var e=this.slides,t=this.searchTrackPosition(e.entries,this.media.currentTime);-1<t&&this.showSlide(t)}},drawChapters:function(e){var o=this,t=e.entries.length;if(t){o.chaptersButton.querySelector("ul").innerHTML="";for(var i=0;i<t;i++)o.chaptersButton.querySelector("ul").innerHTML+='<li class="'+o.options.classPrefix+'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="'+o.options.classPrefix+'captions-selector-input" name="'+o.id+'_chapters" id="'+o.id+"_chapters_"+i+'" value="'+e.entries[i].start+'" disabled><label class="'+o.options.classPrefix+'chapters-selector-label"for="'+o.id+"_chapters_"+i+'">'+e.entries[i].text+"</label></li>";for(var n=o.chaptersButton.querySelectorAll('input[type="radio"]'),r=o.chaptersButton.querySelectorAll("."+o.options.classPrefix+"chapters-selector-label"),s=0,a=n.length;s<a;s++)n[s].disabled=!1,n[s].checked=!1,n[s].addEventListener("click",function(){var e=o.chaptersButton.querySelectorAll("li"),t=(0,N.siblings)(this,function(e){return(0,N.hasClass)(e,o.options.classPrefix+"chapters-selector-label")})[0];this.checked=!0,this.parentNode.setAttribute("aria-checked",!0),(0,N.addClass)(t,o.options.classPrefix+"chapters-selected"),(0,N.removeClass)(o.chaptersButton.querySelector("."+o.options.classPrefix+"chapters-selected"),o.options.classPrefix+"chapters-selected");for(var i=0,n=e.length;i<n;i++)e[i].setAttribute("aria-checked",!1);o.media.setCurrentTime(parseFloat(this.value)),o.media.paused&&o.media.play()});for(var l=0,c=r.length;l<c;l++)r[l].addEventListener("click",function(){var e=(0,N.siblings)(this,function(e){return"INPUT"===e.tagName})[0],t=(0,L.createEvent)("click",e);e.dispatchEvent(t)})}},searchTrackPosition:function(e,t){for(var i=0,n=e.length-1,o=void 0,r=void 0,s=void 0;i<=n;){if(r=e[o=i+n>>1].start,s=e[o].stop,r<=t&&t<s)return o;r<t?i=o+1:t<r&&(n=o-1)}return-1}}),c.default.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}},c.default.TrackFormatParser={webvtt:{pattern:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(e){for(var t=e.split(/\r?\n/),i=[],n=void 0,o=void 0,r=void 0,s=0,a=t.length;s<a;s++){if((n=this.pattern.exec(t[s]))&&s<t.length){for(0<=s-1&&""!==t[s-1]&&(r=t[s-1]),o=t[++s],s++;""!==t[s]&&s<t.length;)o=o+"\n"+t[s],s++;o=o.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),i.push({identifier:r,start:0===(0,f.convertSMPTEtoSeconds)(n[1])?.2:(0,f.convertSMPTEtoSeconds)(n[1]),stop:(0,f.convertSMPTEtoSeconds)(n[3]),text:o,settings:n[5]})}r=""}return i}},dfxp:{parse:function(e){var t=(e=$(e).filter("tt")).firstChild,i=t.querySelectorAll("p"),n=e.getElementById(""+t.attr("style")),o=[],r=void 0;if(n.length){n.removeAttribute("id");var s=n.attributes;if(s.length){r={};for(var a=0,l=s.length;a<l;a++)r[s[a].name.split(":")[1]]=s[a].value}}for(var c=0,u=i.length;c<u;c++){var d=void 0,h={start:null,stop:null,style:null,text:null};if(i.eq(c).attr("begin")&&(h.start=(0,f.convertSMPTEtoSeconds)(i.eq(c).attr("begin"))),!h.start&&i.eq(c-1).attr("end")&&(h.start=(0,f.convertSMPTEtoSeconds)(i.eq(c-1).attr("end"))),i.eq(c).attr("end")&&(h.stop=(0,f.convertSMPTEtoSeconds)(i.eq(c).attr("end"))),!h.stop&&i.eq(c+1).attr("begin")&&(h.stop=(0,f.convertSMPTEtoSeconds)(i.eq(c+1).attr("begin"))),r)for(var p in d="",r)d+=p+":"+r[p]+";";d&&(h.style=d),0===h.start&&(h.start=.2),h.text=i.eq(c).innerHTML.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),o.push(h)}return o}}}},{17:17,2:2,25:25,26:26,29:29,5:5,7:7}],14:[function(e,t,i){"use strict";var S=r(e(2)),n=e(17),o=r(n),T=r(e(5)),E=e(24),C=e(26),_=e(25);function r(e){return e&&e.__esModule?e:{default:e}}Object.assign(n.config,{muteText:null,unmuteText:null,allyVolumeControlText:null,hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",startVolume:.8}),Object.assign(o.default.prototype,{buildvolume:function(e,t,i,s){if(!E.IS_ANDROID&&!E.IS_IOS||!this.options.hideVolumeOnTouchDevices){var r=this,a=r.isVideo?r.options.videoVolume:r.options.audioVolume,l=(0,C.isString)(r.options.muteText)?r.options.muteText:T.default.t("mejs.mute"),c=(0,C.isString)(r.options.unmuteText)?r.options.unmuteText:T.default.t("mejs.unmute"),n=(0,C.isString)(r.options.allyVolumeControlText)?r.options.allyVolumeControlText:T.default.t("mejs.volume-help-text"),u=S.default.createElement("div");if(u.className=r.options.classPrefix+"button "+r.options.classPrefix+"volume-button "+r.options.classPrefix+"mute",u.innerHTML="horizontal"===a?'<button type="button" aria-controls="'+r.id+'" title="'+l+'" aria-label="'+l+'" tabindex="0"></button>':'<button type="button" aria-controls="'+r.id+'" title="'+l+'" aria-label="'+l+'" tabindex="0"></button><a href="javascript:void(0);" class="'+r.options.classPrefix+'volume-slider" aria-label="'+T.default.t("mejs.volume-slider")+'" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="'+r.options.classPrefix+'offscreen">'+n+'</span><div class="'+r.options.classPrefix+'volume-total"><div class="'+r.options.classPrefix+'volume-current"></div><div class="'+r.options.classPrefix+'volume-handle"></div></div></a>',r.addControlElement(u,"volume"),"horizontal"===a){var o=S.default.createElement("a");o.className=r.options.classPrefix+"horizontal-volume-slider",o.href="javascript:void(0);",o.setAttribute("aria-label",T.default.t("mejs.volume-slider")),o.setAttribute("aria-valuemin",0),o.setAttribute("aria-valuemax",100),o.setAttribute("role","slider"),o.innerHTML+='<span class="'+r.options.classPrefix+'offscreen">'+n+'</span><div class="'+r.options.classPrefix+'horizontal-volume-total"><div class="'+r.options.classPrefix+'horizontal-volume-current"></div><div class="'+r.options.classPrefix+'horizontal-volume-handle"></div></div>',u.parentNode.insertBefore(o,u.nextSibling)}var d=!1,h=!1,p=!1,f="vertical"===a?r.container.querySelector("."+r.options.classPrefix+"volume-slider"):r.container.querySelector("."+r.options.classPrefix+"horizontal-volume-slider"),m="vertical"===a?r.container.querySelector("."+r.options.classPrefix+"volume-total"):r.container.querySelector("."+r.options.classPrefix+"horizontal-volume-total"),g="vertical"===a?r.container.querySelector("."+r.options.classPrefix+"volume-current"):r.container.querySelector("."+r.options.classPrefix+"horizontal-volume-current"),v="vertical"===a?r.container.querySelector("."+r.options.classPrefix+"volume-handle"):r.container.querySelector("."+r.options.classPrefix+"horizontal-volume-handle"),y=function(e){if(null!==e&&!isNaN(e)&&void 0!==e){if(e=Math.max(0,e),0===(e=Math.min(e,1))){(0,_.removeClass)(u,r.options.classPrefix+"mute"),(0,_.addClass)(u,r.options.classPrefix+"unmute");var t=u.firstElementChild;t.setAttribute("title",c),t.setAttribute("aria-label",c)}else{(0,_.removeClass)(u,r.options.classPrefix+"unmute"),(0,_.addClass)(u,r.options.classPrefix+"mute");var i=u.firstElementChild;i.setAttribute("title",l),i.setAttribute("aria-label",l)}var n=100*e+"%",o=getComputedStyle(v);"vertical"===a?(g.style.bottom=0,g.style.height=n,v.style.bottom=n,v.style.marginBottom=-parseFloat(o.height)/2+"px"):(g.style.left=0,g.style.width=n,v.style.left=n,v.style.marginLeft=-parseFloat(o.width)/2+"px")}},w=function(e){var t=(0,_.offset)(m),i=getComputedStyle(m);p=!0;var n=null;if("vertical"===a){var o=parseFloat(i.height);if(n=(o-(e.pageY-t.top))/o,0===t.top||0===t.left)return}else{var r=parseFloat(i.width);n=(e.pageX-t.left)/r}n=Math.max(0,n),n=Math.min(n,1),y(n),s.setMuted(0===n),s.setVolume(n),e.preventDefault(),e.stopPropagation()},x=function(){s.muted?(y(0),(0,_.removeClass)(u,r.options.classPrefix+"mute"),(0,_.addClass)(u,r.options.classPrefix+"unmute")):(y(s.volume),(0,_.removeClass)(u,r.options.classPrefix+"unmute"),(0,_.addClass)(u,r.options.classPrefix+"mute"))};u.addEventListener("mouseenter",function(e){e.target===u&&(f.style.display="block",h=!0,e.preventDefault(),e.stopPropagation())}),u.addEventListener("focusin",function(){f.style.display="block",h=!0}),u.addEventListener("focusout",function(e){e.relatedTarget&&(!e.relatedTarget||e.relatedTarget.matches("."+r.options.classPrefix+"volume-slider"))||"vertical"!==a||(f.style.display="none")}),u.addEventListener("mouseleave",function(){h=!1,d||"vertical"!==a||(f.style.display="none")}),u.addEventListener("focusout",function(){h=!1}),u.addEventListener("keydown",function(e){if(r.options.keyActions.length){var t=e.which||e.keyCode||0,i=s.volume;switch(t){case 38:i=Math.min(i+.1,1);break;case 40:i=Math.max(0,i-.1);break;default:return!0}d=!1,y(i),s.setVolume(i),e.preventDefault(),e.stopPropagation()}}),u.querySelector("button").addEventListener("click",function(){s.setMuted(!s.muted);var e=(0,C.createEvent)("volumechange",s);s.dispatchEvent(e)}),f.addEventListener("dragstart",function(){return!1}),f.addEventListener("mouseover",function(){h=!0}),f.addEventListener("focusin",function(){f.style.display="block",h=!0}),f.addEventListener("focusout",function(){h=!1,d||"vertical"!==a||(f.style.display="none")}),f.addEventListener("mousedown",function(e){w(e),r.globalBind("mousemove.vol",function(e){var t=e.target;d&&(t===f||t.closest("vertical"===a?"."+r.options.classPrefix+"volume-slider":"."+r.options.classPrefix+"horizontal-volume-slider"))&&w(e)}),r.globalBind("mouseup.vol",function(){d=!1,r.globalUnbind("mousemove.vol mouseup.vol"),h||"vertical"!==a||(f.style.display="none")}),d=!0,e.preventDefault(),e.stopPropagation()}),s.addEventListener("volumechange",function(e){var t;d||x(),t=Math.floor(100*s.volume),f.setAttribute("aria-valuenow",t),f.setAttribute("aria-valuetext",t+"%")});var b=!1;s.addEventListener("rendererready",function(){p||setTimeout(function(){b=!0,(0===e.options.startVolume||s.originalNode.muted)&&(s.setMuted(!0),e.options.startVolume=0),s.setVolume(e.options.startVolume),r.setControlsSize()},250)}),s.addEventListener("loadedmetadata",function(){setTimeout(function(){p||b||((0===e.options.startVolume||s.originalNode.muted)&&(s.setMuted(!0),e.options.startVolume=0),s.setVolume(e.options.startVolume),r.setControlsSize()),b=!1},250)}),(0===e.options.startVolume||s.originalNode.muted)&&(s.setMuted(!0),e.options.startVolume=0,x()),r.container.addEventListener("controlsresize",function(){x()})}}})},{17:17,2:2,24:24,25:25,26:26,5:5}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.EN={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.install-flash":"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/","mejs.fullscreen":"Fullscreen","mejs.play":"Play","mejs.pause":"Pause","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.live-broadcast":"Live Broadcast","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.captions-subtitles":"Captions/Subtitles","mejs.captions-chapters":"Chapters","mejs.none":"None","mejs.afrikaans":"Afrikaans","mejs.albanian":"Albanian","mejs.arabic":"Arabic","mejs.belarusian":"Belarusian","mejs.bulgarian":"Bulgarian","mejs.catalan":"Catalan","mejs.chinese":"Chinese","mejs.chinese-simplified":"Chinese (Simplified)","mejs.chinese-traditional":"Chinese (Traditional)","mejs.croatian":"Croatian","mejs.czech":"Czech","mejs.danish":"Danish","mejs.dutch":"Dutch","mejs.english":"English","mejs.estonian":"Estonian","mejs.filipino":"Filipino","mejs.finnish":"Finnish","mejs.french":"French","mejs.galician":"Galician","mejs.german":"German","mejs.greek":"Greek","mejs.haitian-creole":"Haitian Creole","mejs.hebrew":"Hebrew","mejs.hindi":"Hindi","mejs.hungarian":"Hungarian","mejs.icelandic":"Icelandic","mejs.indonesian":"Indonesian","mejs.irish":"Irish","mejs.italian":"Italian","mejs.japanese":"Japanese","mejs.korean":"Korean","mejs.latvian":"Latvian","mejs.lithuanian":"Lithuanian","mejs.macedonian":"Macedonian","mejs.malay":"Malay","mejs.maltese":"Maltese","mejs.norwegian":"Norwegian","mejs.persian":"Persian","mejs.polish":"Polish","mejs.portuguese":"Portuguese","mejs.romanian":"Romanian","mejs.russian":"Russian","mejs.serbian":"Serbian","mejs.slovak":"Slovak","mejs.slovenian":"Slovenian","mejs.spanish":"Spanish","mejs.swahili":"Swahili","mejs.swedish":"Swedish","mejs.tagalog":"Tagalog","mejs.thai":"Thai","mejs.turkish":"Turkish","mejs.ukrainian":"Ukrainian","mejs.vietnamese":"Vietnamese","mejs.welsh":"Welsh","mejs.yiddish":"Yiddish"}},{}],16:[function(e,t,i){"use strict";var n=r(e(3)),o=r(e(7));function r(e){return e&&e.__esModule?e:{default:e}}"undefined"!=typeof jQuery?o.default.$=n.default.jQuery=n.default.$=jQuery:"undefined"!=typeof Zepto?o.default.$=n.default.Zepto=n.default.$=Zepto:"undefined"!=typeof ender&&(o.default.$=n.default.ender=n.default.$=ender)},{3:3,7:7}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.config=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),b=r(e(3)),S=r(e(2)),T=r(e(7)),E=r(e(6)),C=r(e(5)),_=e(24),P=e(26),k=e(29),I=e(27),A=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(e(25));function r(e){return e&&e.__esModule?e:{default:e}}T.default.mepIndex=0,T.default.players={};var R=i.config={poster:"",showPosterWhenEnded:!1,showPosterWhenPaused:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:40,defaultSeekBackwardInterval:function(e){return.05*e.getDuration()},defaultSeekForwardInterval:function(e){return.05*e.getDuration()},setDimensions:!0,audioWidth:-1,audioHeight:-1,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,hideVideoControlsOnPause:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,secondsDecimalLength:0,keyActions:[{keys:[32,179],action:function(e,t){_.IS_FIREFOX||(t.paused||t.ended?t.play():t.pause())}},{keys:[38],action:function(e,t){(e.container.querySelector("."+R.classPrefix+"volume-button>button").matches(":focus")||e.container.querySelector("."+R.classPrefix+"volume-slider").matches(":focus"))&&(e.container.querySelector("."+R.classPrefix+"volume-slider").style.display=""),e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.volume+.1,1);t.setVolume(i),0<i&&t.setMuted(!1)}},{keys:[40],action:function(e,t){(e.container.querySelector("."+R.classPrefix+"volume-button>button").matches(":focus")||e.container.querySelector("."+R.classPrefix+"volume-slider").matches(":focus"))&&(e.container.querySelector("."+R.classPrefix+"volume-slider").style.display=""),e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.volume-.1,0);t.setVolume(i),i<=.1&&t.setMuted(!0)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&0<t.duration){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&0<t.duration){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(e,t,i,n){n.ctrlKey||void 0!==e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}},{keys:[77],action:function(e){e.container.querySelector("."+R.classPrefix+"volume-slider").style.display="",e.isVideo&&(e.showControls(),e.startControlsTimer()),e.media.muted?e.setMuted(!1):e.setMuted(!0)}}]};T.default.MepDefaults=R;var s,a=function(){function x(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x);var i=this,n="string"==typeof e?S.default.getElementById(e):e;if(i.hasFocus=!1,i.controlsAreVisible=!0,i.controlsEnabled=!0,i.controlsTimer=null,!(i instanceof x))return new x(n,t);if(i.node=i.media=n,i.node){if(void 0!==i.media.player)return i.media.player;if(void 0===t){var o=i.node.getAttribute("data-mejsoptions");t=o?JSON.parse(o):{}}i.options=Object.assign({},R,t),i.options.loop&&!i.media.getAttribute("loop")?(i.media.loop=!0,i.node.loop=!0):i.media.loop&&(i.options.loop=!0),i.options.timeFormat||(i.options.timeFormat="mm:ss",i.options.alwaysShowHours&&(i.options.timeFormat="hh:mm:ss"),i.options.showTimecodeFrameCount&&(i.options.timeFormat+=":ff")),(0,k.calculateTimeFormat)(0,i.options,i.options.framesPerSecond||25),i.id="mep_"+T.default.mepIndex++,T.default.players[i.id]=i;var r=Object.assign({},i.options,{success:function(e,t){i._meReady(e,t)},error:function(e){i._handleError(e)}}),s=i.node.tagName.toLowerCase();if(i.isDynamic="audio"!==s&&"video"!==s,i.isVideo=i.isDynamic?i.options.isVideo:"audio"!==s&&i.options.isVideo,i.mediaFiles=null,i.trackFiles=null,_.IS_IPAD&&i.options.iPadUseNativeControls||_.IS_IPHONE&&i.options.iPhoneUseNativeControls)i.node.setAttribute("controls",!0),_.IS_IPAD&&i.node.getAttribute("autoplay")&&i.play();else if(!(i.isVideo||!i.isVideo&&i.options.features.length)||_.IS_ANDROID&&i.options.AndroidUseNativeControls)i.isVideo||i.options.features.length||(i.node.style.display="none");else{i.node.removeAttribute("controls");var a=i.isVideo?C.default.t("mejs.video-player"):C.default.t("mejs.audio-player"),l=S.default.createElement("span");if(l.className=i.options.classPrefix+"offscreen",l.innerText=a,i.media.parentNode.insertBefore(l,i.media),i.container=S.default.createElement("div"),i.container.id=i.id,i.container.className=i.options.classPrefix+"container "+i.options.classPrefix+"container-keyboard-inactive "+i.media.className,i.container.tabIndex=0,i.container.setAttribute("role","application"),i.container.setAttribute("aria-label",a),i.container.innerHTML='<div class="'+i.options.classPrefix+'inner"><div class="'+i.options.classPrefix+'mediaelement"></div><div class="'+i.options.classPrefix+'layers"></div><div class="'+i.options.classPrefix+'controls"></div><div class="'+i.options.classPrefix+'clear"></div></div>',i.container.addEventListener("focus",function(e){if(!i.controlsAreVisible&&!i.hasFocus&&i.controlsEnabled){i.showControls(!0);var t=(0,P.isNodeAfter)(e.relatedTarget,i.container)?"."+i.options.classPrefix+"controls ."+i.options.classPrefix+"button:last-child > button":"."+i.options.classPrefix+"playpause-button > button";i.container.querySelector(t).focus()}}),i.node.parentNode.insertBefore(i.container,i.node),i.options.features.length||(i.container.style.background="transparent",i.container.querySelector("."+i.options.classPrefix+"controls").style.display="none"),i.isVideo&&"fill"===i.options.stretching&&!A.hasClass(i.container.parentNode,i.options.classPrefix+"fill-container")){i.outerContainer=i.media.parentNode;var c=S.default.createElement("div");c.className=i.options.classPrefix+"fill-container",i.container.parentNode.insertBefore(c,i.container),c.appendChild(i.container)}if(_.IS_ANDROID&&A.addClass(i.container,i.options.classPrefix+"android"),_.IS_IOS&&A.addClass(i.container,i.options.classPrefix+"ios"),_.IS_IPAD&&A.addClass(i.container,i.options.classPrefix+"ipad"),_.IS_IPHONE&&A.addClass(i.container,i.options.classPrefix+"iphone"),A.addClass(i.container,i.isVideo?i.options.classPrefix+"video":i.options.classPrefix+"audio"),_.IS_SAFARI&&!_.IS_IOS){A.addClass(i.container,i.options.classPrefix+"hide-cues");for(var u=i.node.cloneNode(),d=i.node.children,h=[],p=[],f=0,m=d.length;f<m;f++){var g=d[f];!function(){switch(g.tagName.toLowerCase()){case"source":var t={};Array.prototype.slice.call(g.attributes).forEach(function(e){t[e.name]=e.value}),t.type=(0,I.formatType)(t.src,t.type),h.push(t);break;case"track":g.mode="hidden",p.push(g);break;default:u.appendChild(g)}}()}i.node.remove(),i.node=i.media=u,h.length&&(i.mediaFiles=h),p.length&&(i.trackFiles=p)}i.container.querySelector("."+i.options.classPrefix+"mediaelement").appendChild(i.node),(i.media.player=i).controls=i.container.querySelector("."+i.options.classPrefix+"controls"),i.layers=i.container.querySelector("."+i.options.classPrefix+"layers");var v=i.isVideo?"video":"audio",y=v.substring(0,1).toUpperCase()+v.substring(1);0<i.options[v+"Width"]||-1<i.options[v+"Width"].toString().indexOf("%")?i.width=i.options[v+"Width"]:""!==i.node.style.width&&null!==i.node.style.width?i.width=i.node.style.width:i.node.getAttribute("width")?i.width=i.node.getAttribute("width"):i.width=i.options["default"+y+"Width"],0<i.options[v+"Height"]||-1<i.options[v+"Height"].toString().indexOf("%")?i.height=i.options[v+"Height"]:""!==i.node.style.height&&null!==i.node.style.height?i.height=i.node.style.height:i.node.getAttribute("height")?i.height=i.node.getAttribute("height"):i.height=i.options["default"+y+"Height"],i.initialAspectRatio=i.height>=i.width?i.width/i.height:i.height/i.width,i.setPlayerSize(i.width,i.height),r.pluginWidth=i.width,r.pluginHeight=i.height}if(new E.default(i.media,r,i.mediaFiles),void 0!==i.container&&i.options.features.length&&i.controlsAreVisible&&!i.options.hideVideoControlsOnLoad){var w=(0,P.createEvent)("controlsshown",i.container);i.container.dispatchEvent(w)}return i}}return n(x,[{key:"showControls",value:function(e){var o=this;if(e=void 0===e||e,!o.controlsAreVisible&&o.isVideo){if(e)!function(){A.fadeIn(o.controls,200,function(){A.removeClass(o.controls,o.options.classPrefix+"offscreen");var e=(0,P.createEvent)("controlsshown",o.container);o.container.dispatchEvent(e)});for(var i=o.container.querySelectorAll("."+o.options.classPrefix+"control"),e=function(e,t){A.fadeIn(i[e],200,function(){A.removeClass(i[e],o.options.classPrefix+"offscreen")})},t=0,n=i.length;t<n;t++)e(t)}();else{A.removeClass(o.controls,o.options.classPrefix+"offscreen"),o.controls.style.display="",o.controls.style.opacity=1;for(var t=o.container.querySelectorAll("."+o.options.classPrefix+"control"),i=0,n=t.length;i<n;i++)A.removeClass(t[i],o.options.classPrefix+"offscreen"),t[i].style.display="";var r=(0,P.createEvent)("controlsshown",o.container);o.container.dispatchEvent(r)}o.controlsAreVisible=!0,o.setControlsSize()}}},{key:"hideControls",value:function(e,t){var o=this;if(e=void 0===e||e,!0===t||!(!o.controlsAreVisible||o.options.alwaysShowControls||o.keyboardAction||o.media.paused&&4===o.media.readyState&&(!o.options.hideVideoControlsOnLoad&&o.media.currentTime<=0||!o.options.hideVideoControlsOnPause&&0<o.media.currentTime)||o.isVideo&&!o.options.hideVideoControlsOnLoad&&!o.media.readyState||o.media.ended)){if(e)!function(){A.fadeOut(o.controls,200,function(){A.addClass(o.controls,o.options.classPrefix+"offscreen"),o.controls.style.display="";var e=(0,P.createEvent)("controlshidden",o.container);o.container.dispatchEvent(e)});for(var i=o.container.querySelectorAll("."+o.options.classPrefix+"control"),e=function(e,t){A.fadeOut(i[e],200,function(){A.addClass(i[e],o.options.classPrefix+"offscreen"),i[e].style.display=""})},t=0,n=i.length;t<n;t++)e(t)}();else{A.addClass(o.controls,o.options.classPrefix+"offscreen"),o.controls.style.display="",o.controls.style.opacity=0;for(var i=o.container.querySelectorAll("."+o.options.classPrefix+"control"),n=0,r=i.length;n<r;n++)A.addClass(i[n],o.options.classPrefix+"offscreen"),i[n].style.display="";var s=(0,P.createEvent)("controlshidden",o.container);o.container.dispatchEvent(s)}o.controlsAreVisible=!1}}},{key:"startControlsTimer",value:function(e){var t=this;e=void 0!==e?e:t.options.controlsTimeoutDefault,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)}},{key:"killControlsTimer",value:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)}},{key:"disableControls",value:function(){this.killControlsTimer(),this.controlsEnabled=!1,this.hideControls(!1,!0)}},{key:"enableControls",value:function(){this.controlsEnabled=!0,this.showControls(!1)}},{key:"_meReady",value:function(e,t){var i=this,n=t.getAttribute("autoplay"),o=!(null==n||"false"===n),r=null!==e.rendererName&&/(native|html5)/i.test(i.media.rendererName);if(i.controls&&i.enableControls(),i.container&&i.container.querySelector("."+i.options.classPrefix+"overlay-play")&&(i.container.querySelector("."+i.options.classPrefix+"overlay-play").style.display=""),!i.created){if(i.created=!0,i.media=e,i.domNode=t,!(_.IS_ANDROID&&i.options.AndroidUseNativeControls||_.IS_IPAD&&i.options.iPadUseNativeControls||_.IS_IPHONE&&i.options.iPhoneUseNativeControls)){if(!i.isVideo&&!i.options.features.length)return o&&r&&i.play(),void(i.options.success&&("string"==typeof i.options.success?b.default[i.options.success](i.media,i.domNode,i):i.options.success(i.media,i.domNode,i)));i.buildposter(i,i.controls,i.layers,i.media),i.buildkeyboard(i,i.controls,i.layers,i.media),i.buildoverlays(i,i.controls,i.layers,i.media),i.findTracks(),i.featurePosition={};for(var s=0,a=i.options.features.length;s<a;s++){var l=i.options.features[s];if(i["build"+l])try{i["build"+l](i,i.controls,i.layers,i.media)}catch(e){console.error("error building "+l,e)}}var c=(0,P.createEvent)("controlsready",i.container);i.container.dispatchEvent(c),i.setPlayerSize(i.width,i.height),i.setControlsSize(),i.isVideo&&(i.clickToPlayPauseCallback=function(){if(i.options.clickToPlayPause){var e=i.container.querySelector("."+i.options.classPrefix+"overlay-button"),t=e.getAttribute("aria-pressed");i.media.paused&&t?i.pause():i.media.paused?i.play():i.pause(),e.setAttribute("aria-pressed",!t)}},i.createIframeLayer(),i.media.addEventListener("click",i.clickToPlayPauseCallback),!_.IS_ANDROID&&!_.IS_IOS||i.options.alwaysShowControls?(i.container.addEventListener("mouseenter",function(){i.controlsEnabled&&(i.options.alwaysShowControls||(i.killControlsTimer("enter"),i.showControls(),i.startControlsTimer(i.options.controlsTimeoutMouseEnter)))}),i.container.addEventListener("mousemove",function(){i.controlsEnabled&&(i.controlsAreVisible||i.showControls(),i.options.alwaysShowControls||i.startControlsTimer(i.options.controlsTimeoutMouseEnter))}),i.container.addEventListener("mouseleave",function(){i.controlsEnabled&&(i.media.paused||i.options.alwaysShowControls||i.startControlsTimer(i.options.controlsTimeoutMouseLeave))})):i.node.addEventListener("touchstart",function(){i.controlsAreVisible?i.hideControls(!1):i.controlsEnabled&&i.showControls(!1)}),i.options.hideVideoControlsOnLoad&&i.hideControls(!1),o&&!i.options.alwaysShowControls&&i.hideControls(),i.options.enableAutosize&&i.media.addEventListener("loadedmetadata",function(e){var t=void 0!==e?e.detail.target||e.target:i.media;i.options.videoHeight<=0&&!i.domNode.getAttribute("height")&&null!==t&&!isNaN(t.videoHeight)&&(i.setPlayerSize(t.videoWidth,t.videoHeight),i.setControlsSize(),i.media.setSize(t.videoWidth,t.videoHeight))})),i.media.addEventListener("play",function(){for(var e in i.hasFocus=!0,T.default.players)if(T.default.players.hasOwnProperty(e)){var t=T.default.players[e];t.id===i.id||!i.options.pauseOtherPlayers||t.paused||t.ended||(t.pause(),t.hasFocus=!1)}}),i.media.addEventListener("ended",function(){if(i.options.autoRewind)try{i.media.setCurrentTime(0),setTimeout(function(){var e=i.container.querySelector("."+i.options.classPrefix+"overlay-loading");e&&e.parentNode&&(e.parentNode.style.display="none")},20)}catch(e){}"function"==typeof i.media.stop?i.media.stop():i.media.pause(),i.setProgressRail&&i.setProgressRail(),i.setCurrentRail&&i.setCurrentRail(),i.options.loop?i.play():!i.options.alwaysShowControls&&i.controlsEnabled&&i.showControls()}),i.media.addEventListener("loadedmetadata",function(){(0,k.calculateTimeFormat)(i.duration,i.options,i.options.framesPerSecond||25),i.updateDuration&&i.updateDuration(),i.updateCurrent&&i.updateCurrent(),i.isFullScreen||(i.setPlayerSize(i.width,i.height),i.setControlsSize())});var u=null;i.media.addEventListener("timeupdate",function(){isNaN(i.media.getDuration())||u===i.media.getDuration()||(u=i.media.getDuration(),(0,k.calculateTimeFormat)(u,i.options,i.options.framesPerSecond||25),i.updateDuration&&i.updateDuration(),i.updateCurrent&&i.updateCurrent(),i.setControlsSize())}),i.container.addEventListener("click",function(e){A.addClass(e.currentTarget,i.options.classPrefix+"container-keyboard-inactive")}),i.container.addEventListener("focusin",function(e){A.removeClass(e.currentTarget,i.options.classPrefix+"container-keyboard-inactive"),i.controlsEnabled&&!i.options.alwaysShowControls&&i.showControls(!1)}),i.container.addEventListener("focusout",function(e){setTimeout(function(){e.relatedTarget&&i.keyboardAction&&!e.relatedTarget.closest("."+i.options.classPrefix+"container")&&(i.keyboardAction=!1,i.isVideo&&!i.options.alwaysShowControls&&i.hideControls(!0))},0)}),setTimeout(function(){i.setPlayerSize(i.width,i.height),i.setControlsSize()},0),i.globalBind("resize",function(){i.isFullScreen||_.HAS_TRUE_NATIVE_FULLSCREEN&&S.default.webkitIsFullScreen||i.setPlayerSize(i.width,i.height),i.setControlsSize()})}o&&r&&i.play(),i.options.success&&("string"==typeof i.options.success?b.default[i.options.success](i.media,i.domNode,i):i.options.success(i.media,i.domNode,i))}}},{key:"_handleError",value:function(e){this.controls&&this.disableControls();var t=this.layers.querySelector("."+this.options.classPrefix+"overlay-play");t&&(t.style.display="none"),this.options.error&&this.options.error(e)}},{key:"setPlayerSize",value:function(e,t){var i=this;if(!i.options.setDimensions)return!1;switch(void 0!==e&&(i.width=e),void 0!==t&&(i.height=t),i.options.stretching){case"fill":i.isVideo?i.setFillMode():i.setDimensions(i.width,i.height);break;case"responsive":i.setResponsiveMode();break;case"none":i.setDimensions(i.width,i.height);break;default:!0===i.hasFluidMode()?i.setResponsiveMode():i.setDimensions(i.width,i.height)}}},{key:"hasFluidMode",value:function(){return-1!==this.height.toString().indexOf("%")||this.node&&this.node.style.maxWidth&&"none"!==this.node.style.maxWidth&&this.node.style.maxWidth!==this.width||this.node&&this.node.currentStyle&&"100%"===this.node.currentStyle.maxWidth}},{key:"setResponsiveMode",value:function(){var e,n=this,t=function(){for(var t=void 0,i=n.container;i;){try{if(_.IS_FIREFOX&&"html"===i.tagName.toLowerCase()&&b.default.self!==b.default.top&&null!==b.default.frameElement)return b.default.frameElement;t=i.parentElement}catch(e){t=i.parentElement}if(t&&A.visible(t))return t;i=t}return null}(),i=t?getComputedStyle(t,null):getComputedStyle(S.default.body,null),o=n.isVideo?n.media.videoWidth&&0<n.media.videoWidth?n.media.videoWidth:n.node.getAttribute("width")?n.node.getAttribute("width"):n.options.defaultVideoWidth:n.options.defaultAudioWidth,r=n.isVideo?n.media.videoHeight&&0<n.media.videoHeight?n.media.videoHeight:n.node.getAttribute("height")?n.node.getAttribute("height"):n.options.defaultVideoHeight:n.options.defaultAudioHeight,s=(e=1,n.isVideo&&(e=n.media.videoWidth&&0<n.media.videoWidth&&n.media.videoHeight&&0<n.media.videoHeight?n.height>=n.width?n.media.videoWidth/n.media.videoHeight:n.media.videoHeight/n.media.videoWidth:n.initialAspectRatio,(isNaN(e)||e<.01||100<e)&&(e=1)),e),a=parseFloat(i.height),l=void 0,c=parseFloat(i.width);if(l=n.isVideo?"100%"===n.height?parseFloat(c*r/o,10):n.height>=n.width?parseFloat(c/s,10):parseFloat(c*s,10):r,isNaN(l)&&(l=a),0<n.container.parentNode.length&&"body"===n.container.parentNode.tagName.toLowerCase()&&(c=b.default.innerWidth||S.default.documentElement.clientWidth||S.default.body.clientWidth,l=b.default.innerHeight||S.default.documentElement.clientHeight||S.default.body.clientHeight),l&&c){n.container.style.width=c+"px",n.container.style.height=l+"px",n.node.style.width="100%",n.node.style.height="100%",n.isVideo&&n.media.setSize&&n.media.setSize(c,l);for(var u=n.layers.children,d=0,h=u.length;d<h;d++)u[d].style.width="100%",u[d].style.height="100%"}}},{key:"setFillMode",value:function(){var t=this,i=void 0,e=!1;try{b.default.self!==b.default.top?(e=!0,i=b.default.frameElement):i=t.outerContainer}catch(e){i=t.outerContainer}var n=getComputedStyle(i);"none"!==t.node.style.height&&t.node.style.height!==t.height&&(t.node.style.height="auto"),"none"!==t.node.style.maxWidth&&t.node.style.maxWidth!==t.width&&(t.node.style.maxWidth="none"),"none"!==t.node.style.maxHeight&&t.node.style.maxHeight!==t.height&&(t.node.style.maxHeight="none"),t.node.currentStyle&&("100%"===t.node.currentStyle.height&&(t.node.currentStyle.height="auto"),"100%"===t.node.currentStyle.maxWidth&&(t.node.currentStyle.maxWidth="none"),"100%"===t.node.currentStyle.maxHeight&&(t.node.currentStyle.maxHeight="none")),e||parseFloat(n.width)||(i.style.width=t.media.offsetWidth+"px"),e||parseFloat(n.height)||(i.style.height=t.media.offsetHeight+"px"),n=getComputedStyle(i);var o=parseFloat(n.width),r=parseFloat(n.height);t.setDimensions("100%","100%");var s=t.container.querySelector(t.options.classPrefix+"poster img");s&&(s.style.display="");for(var a=t.container.querySelectorAll("object, embed, iframe, video"),l=t.height,c=t.width,u=o,d=l*o/c,h=c*r/l,p=r,f=o<h==!1,m=f?Math.floor(u):Math.floor(h),g=f?Math.floor(d):Math.floor(p),v=f?o+"px":m+"px",y=f?g+"px":r+"px",w=0,x=a.length;w<x;w++)a[w].style.height=y,a[w].style.width=v,t.media.setSize&&t.media.setSize(v,y),a[w].style.marginLeft=Math.floor((o-m)/2)+"px",a[w].style.marginTop=0}},{key:"setDimensions",value:function(e,t){e=(0,P.isString)(e)&&-1<e.indexOf("%")?e:parseFloat(e)+"px",t=(0,P.isString)(t)&&-1<t.indexOf("%")?t:parseFloat(t)+"px",this.container.style.width=e,this.container.style.height=t;for(var i=this.layers.children,n=0,o=i.length;n<o;n++)i[n].style.width=e,i[n].style.height=t}},{key:"setControlsSize",value:function(){var t=this;if(A.visible(t.container))if(t.rail&&A.visible(t.rail)){for(var e=t.total?getComputedStyle(t.total,null):null,i=e?parseFloat(e.marginLeft)+parseFloat(e.marginRight):0,n=getComputedStyle(t.rail),o=parseFloat(n.marginLeft)+parseFloat(n.marginRight),r=0,s=A.siblings(t.rail,function(e){return e!==t.rail}),a=s.length,l=0;l<a;l++)r+=s[l].offsetWidth;r+=i+(0===i?2*o:o)+1,t.container.style.minWidth=r+"px";var c=parseFloat(t.controls.offsetWidth);t.rail.style.width=(c<r?0:c-r)+"px";var u=(0,P.createEvent)("controlsresize",t.container);t.container.dispatchEvent(u)}else{for(var d=t.controls.children,h=0,p=0,f=d.length;p<f;p++)h+=d[p].offsetWidth;t.container.style.minWidth=h+"px"}}},{key:"addControlElement",value:function(e,t){if(void 0!==this.featurePosition[t]){var i=this.controls.children[this.featurePosition[t]-1];i.parentNode.insertBefore(e,i.nextSibling)}else{this.controls.appendChild(e);for(var n=this.controls.children,o=0,r=n.length;o<r;o++)if(e==n[o]){this.featurePosition[t]=o;break}}}},{key:"createIframeLayer",value:function(){var t=this;if(t.isVideo&&null!==t.media.rendererName&&-1<t.media.rendererName.indexOf("iframe")&&!S.default.getElementById(t.media.id+"-iframe-overlay")){var e=S.default.createElement("div"),i=S.default.getElementById(t.media.id+"_"+t.media.rendererName);e.id=t.media.id+"-iframe-overlay",e.className=t.options.classPrefix+"iframe-overlay",e.addEventListener("click",function(e){t.options.clickToPlayPause&&(t.media.paused?t.media.play():t.media.pause(),e.preventDefault(),e.stopPropagation())}),i.parentNode.insertBefore(e,i)}}},{key:"resetSize",value:function(){var e=this;setTimeout(function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()},50)}},{key:"setPoster",value:function(e){var t=this.container.querySelector("."+this.options.classPrefix+"poster"),i=t.querySelector("img");i||((i=S.default.createElement("img")).className=this.options.classPrefix+"poster-img",i.width="100%",i.height="100%",t.appendChild(i)),i.setAttribute("src",e),t.style.backgroundImage='url("'+e+'")'}},{key:"changeSkin",value:function(e){this.container.className=this.options.classPrefix+"container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()}},{key:"globalBind",value:function(e,i){var n=this.node?this.node.ownerDocument:S.default;if((e=(0,P.splitEvents)(e,this.id)).d)for(var t=e.d.split(" "),o=0,r=t.length;o<r;o++)t[o].split(".").reduce(function(e,t){return n.addEventListener(t,i,!1),t},"");if(e.w)for(var s=e.w.split(" "),a=0,l=s.length;a<l;a++)s[a].split(".").reduce(function(e,t){return b.default.addEventListener(t,i,!1),t},"")}},{key:"globalUnbind",value:function(e,i){var n=this.node?this.node.ownerDocument:S.default;if((e=(0,P.splitEvents)(e,this.id)).d)for(var t=e.d.split(" "),o=0,r=t.length;o<r;o++)t[o].split(".").reduce(function(e,t){return n.removeEventListener(t,i,!1),t},"");if(e.w)for(var s=e.d.split(" "),a=0,l=s.length;a<l;a++)s[a].split(".").reduce(function(e,t){return b.default.removeEventListener(t,i,!1),t},"")}},{key:"buildposter",value:function(e,t,i,n){var o=S.default.createElement("div");o.className=this.options.classPrefix+"poster "+this.options.classPrefix+"layer",i.appendChild(o);var r=e.media.getAttribute("poster");""!==e.options.poster&&(r=e.options.poster),r?this.setPoster(r):o.style.display="none",n.addEventListener("play",function(){o.style.display="none"}),n.addEventListener("playing",function(){o.style.display="none"}),e.options.showPosterWhenEnded&&e.options.autoRewind&&n.addEventListener("ended",function(){o.style.display=""}),n.addEventListener("error",function(){o.style.display="none"}),e.options.showPosterWhenPaused&&n.addEventListener("pause",function(){n.ended||(o.style.display="")})}},{key:"buildoverlays",value:function(t,e,i,n){if(t.isVideo){var o=this,r=S.default.createElement("div"),s=S.default.createElement("div"),a=S.default.createElement("div"),l=e.querySelector("."+o.options.classPrefix+"time-buffering");r.style.display="none",r.className=o.options.classPrefix+"overlay "+o.options.classPrefix+"layer",r.innerHTML='<div class="'+o.options.classPrefix+'overlay-loading"><span class="'+o.options.classPrefix+'overlay-loading-bg-img"></span></div>',i.appendChild(r),s.style.display="none",s.className=o.options.classPrefix+"overlay "+o.options.classPrefix+"layer",s.innerHTML='<div class="'+o.options.classPrefix+'overlay-error"></div>',i.appendChild(s),a.className=o.options.classPrefix+"overlay "+o.options.classPrefix+"layer "+o.options.classPrefix+"overlay-play",a.innerHTML='<div class="'+o.options.classPrefix+'overlay-button" role="button" tabindex="0"aria-label="'+C.default.t("mejs.play")+'" aria-pressed="false"></div>',a.addEventListener("click",function(){if(o.options.clickToPlayPause){var e=o.container.querySelector("."+o.options.classPrefix+"overlay-button"),t=e.getAttribute("aria-pressed");n.paused?n.play():n.pause(),e.setAttribute("aria-pressed",!!t)}}),a.addEventListener("keydown",function(e){var t=e.keyCode||e.which||0;if(13===t||_.IS_FIREFOX&&32===t){var i=(0,P.createEvent)("click",a);return a.dispatchEvent(i),!1}}),i.appendChild(a),null!==o.media.rendererName&&(/(youtube|facebook)/i.test(o.media.rendererName)&&!t.media.originalNode.getAttribute("poster")&&!t.options.poster||_.IS_STOCK_ANDROID)&&(a.style.display="none"),n.addEventListener("play",function(){a.style.display="none",r.style.display="none",l&&(l.style.display="none"),s.style.display="none"}),n.addEventListener("playing",function(){a.style.display="none",r.style.display="none",l&&(l.style.display="none"),s.style.display="none"}),n.addEventListener("seeking",function(){a.style.display="none",r.style.display="",l&&(l.style.display="")}),n.addEventListener("seeked",function(){a.style.display=n.paused&&!_.IS_STOCK_ANDROID?"":"none",r.style.display="none",l&&(l.style.display="")}),n.addEventListener("pause",function(){r.style.display="none",_.IS_STOCK_ANDROID||(a.style.display=""),l&&(l.style.display="none")}),n.addEventListener("waiting",function(){r.style.display="",l&&(l.style.display="")}),n.addEventListener("loadeddata",function(){r.style.display="",l&&(l.style.display=""),_.IS_ANDROID&&(n.canplayTimeout=setTimeout(function(){if(S.default.createEvent){var e=S.default.createEvent("HTMLEvents");return e.initEvent("canplay",!0,!0),n.dispatchEvent(e)}},300))}),n.addEventListener("canplay",function(){r.style.display="none",l&&(l.style.display="none"),clearTimeout(n.canplayTimeout)}),n.addEventListener("error",function(e){o._handleError(e),r.style.display="none",a.style.display="none",l&&(l.style.display="none"),e.message&&(s.style.display="block",s.querySelector("."+o.options.classPrefix+"overlay-error").innerHTML=e.message)}),n.addEventListener("keydown",function(e){o.onkeydown(t,n,e)})}}},{key:"buildkeyboard",value:function(n,e,t,o){var r=this;r.container.addEventListener("keydown",function(){r.keyboardAction=!0}),r.globalBind("keydown",function(e){var t=S.default.activeElement.closest("."+r.options.classPrefix+"container"),i=r.media.closest("."+r.options.classPrefix+"container");return r.hasFocus=!(!t||!i||t.id!==i.id),r.onkeydown(n,o,e)}),r.globalBind("click",function(e){r.hasFocus=!!e.target.closest("."+r.options.classPrefix+"container")})}},{key:"onkeydown",value:function(e,t,i){if(e.hasFocus&&e.options.enableKeyboard)for(var n=0,o=e.options.keyActions.length;n<o;n++)for(var r=e.options.keyActions[n],s=0,a=r.keys.length;s<a;s++)i.keyCode===r.keys[s]&&(r.action(e,t,i.keyCode,i),i.preventDefault(),i.stopPropagation());return!0}},{key:"play",value:function(){this.media.getCurrentTime()<=0&&this.load(),this.media.play()}},{key:"pause",value:function(){try{this.media.pause()}catch(e){}}},{key:"load",value:function(){this.isLoaded||this.media.load(),this.isLoaded=!0}},{key:"setMuted",value:function(e){this.media.setMuted(e)}},{key:"setCurrentTime",value:function(e){this.media.setCurrentTime(e)}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"getDuration",value:function(){return this.media.duration}},{key:"setVolume",value:function(e){this.media.setVolume(e)}},{key:"getVolume",value:function(){return this.media.volume}},{key:"setSrc",value:function(e){var t=S.default.getElementById(this.media.id+"-iframe-overlay");t&&t.remove(),this.media.setSrc(e),this.createIframeLayer()}},{key:"remove",value:function(){var a=this,l=a.media.rendererName;a.media.paused||a.media.pause();var c=a.media.getSrc();for(var e in a.media.setSrc(""),a.options.features){var t=a.options.features[e];if(a["clean"+t])try{a["clean"+t](a)}catch(e){console.error("error cleaning "+t,e)}}var i=a.node.getAttribute("width"),n=a.node.getAttribute("height");(i?-1===i.indexOf("%")&&(i+="px"):i="auto",n?-1===n.indexOf("%")&&(n+="px"):n="auto",a.node.style.width=i,a.node.style.height=n,a.isDynamic?a.container.parentNode.insertBefore(a.node,a.container):function(){(a.node.setAttribute("controls",!0),a.node.setAttribute("id",a.node.getAttribute("id").replace("_"+l,"").replace("_from_mejs","")),delete a.node.autoplay,""!==a.media.canPlayType((0,I.getTypeFromFile)(c))&&a.node.setAttribute("src",c),~l.indexOf("iframe"))&&S.default.getElementById(a.media.id+"-iframe-overlay").remove();var o=a.node.cloneNode();if(o.style.display="",a.container.parentNode.insertBefore(o,a.container),a.node.remove(),a.mediaFiles)for(var e=0,t=a.mediaFiles.length;e<t;e++){var i=S.default.createElement("source");i.setAttribute("src",a.mediaFiles[e].src),i.setAttribute("type",a.mediaFiles[e].type),o.appendChild(i)}if(a.trackFiles)for(var n=function(e,t){var i=a.trackFiles[e],n=S.default.createElement("track");n.kind=i.kind,n.label=i.label,n.srclang=i.srclang,n.src=i.src,o.appendChild(n),n.addEventListener("load",function(){this.mode="showing",o.textTracks[e].mode="showing"})},r=0,s=a.trackFiles.length;r<s;r++)n(r);delete a.node,delete a.mediaFiles,delete a.trackFiles}(),"function"==typeof a.media.destroy&&a.media.destroy(),delete T.default.players[a.id],"object"===o(a.container))&&(a.container.parentNode.querySelector("."+a.options.classPrefix+"offscreen").remove(),a.container.remove());a.globalUnbind(),delete a.media.player}}]),x}();b.default.MediaElementPlayer=a,i.default=a,void 0!==(s=T.default.$)&&(s.fn.mediaelementplayer=function(e){return!1===e?this.each(function(){var e=s(this).data("mediaelementplayer");e&&e.remove(),s(this).removeData("mediaelementplayer")}):this.each(function(){s(this).data("mediaelementplayer",new a(this,e))}),this},s(S.default).ready(function(){s("."+R.classPrefix+"player").mediaelementplayer()}))},{2:2,24:24,25:25,26:26,27:27,29:29,3:3,5:5,6:6,7:7}],18:[function(e,t,i){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=s(e(3)),v=s(e(7)),y=e(8),w=e(26),n=e(27),o=e(24),r=e(25);function s(e){return e&&e.__esModule?e:{default:e}}var x={promise:null,load:function(e){return"undefined"!=typeof dashjs?x.promise=new Promise(function(){x._createPlayer(e)}):x.promise||(e.options.path="string"==typeof e.options.path?e.options.path:"https://cdn.dashjs.org/latest/dash.all.min.js",x.promise=x.promise||(0,r.loadScript)(e.options.path),x.promise.then(function(){x._createPlayer(e)})),x.promise},_createPlayer:function(e){var t=dashjs.MediaPlayer().create();g.default["__ready__"+e.id](t)}},a={name:"native_dash",options:{prefix:"native_dash",dash:{path:"https://cdn.dashjs.org/latest/dash.all.min.js",debug:!1,drm:{},robustnessLevel:""}},canPlayType:function(e){return o.HAS_MSE&&-1<["application/dash+xml"].indexOf(e.toLowerCase())},create:function(l,c,e){var t=l.originalNode,i=l.id+"_"+c.prefix,n=t.autoplay,u=null,d=null;u=t.cloneNode(!0),c=Object.assign(c,l.options);for(var o=v.default.html5media.properties,r=function(t){var e=""+t.substring(0,1).toUpperCase()+t.substring(1);u["get"+e]=function(){return null!==d?u[t]:null},u["set"+e]=function(e){-1===v.default.html5media.readOnlyProperties.indexOf(t)&&("src"===t?"string"==typeof e?(u[t]=e,null!==d&&(d.attachSource(e),n&&d.play())):e&&"object"===(void 0===e?"undefined":m(e))&&e.src&&(u[t]=e.src,null!==d&&(e&&"object"===(void 0===e?"undefined":m(e))&&"object"===m(e.drm)&&(d.setProtectionData(e.drm),(0,w.isString)(c.dash.robustnessLevel)&&c.dash.robustnessLevel&&d.getProtectionController().setRobustnessLevel(c.dash.robustnessLevel)),d.attachSource(e.src),n&&d.play())):u[t]=e)}},s=0,a=o.length;s<a;s++)r(o[s]);if(g.default["__ready__"+i]=function(e){l.dashPlayer=d=e;for(var t,i=v.default.html5media.events.concat(["click","mouseover","mouseout"]),n=dashjs.MediaPlayer.events,o=0,r=i.length;o<r;o++)"loadedmetadata"===(t=i[o])&&(d.getDebug().setLogToBrowserConsole(c.dash.debug),d.initialize(),d.setScheduleWhilePaused(!1),d.setFastSwitchEnabled(!0),d.attachView(u),d.setAutoPlay(!1),"object"!==m(c.dash.drm)||v.default.Utils.isObjectEmpty(c.dash.drm)||(d.setProtectionData(c.dash.drm),(0,w.isString)(c.dash.robustnessLevel)&&c.dash.robustnessLevel&&d.getProtectionController().setRobustnessLevel(c.dash.robustnessLevel)),d.attachSource(u.getSrc())),u.addEventListener(t,function(e){var t=(0,w.createEvent)(e.type,l);l.dispatchEvent(t)});var s=function(e){var t=(0,w.createEvent)(e.type,u);t.data=e,l.dispatchEvent(t),"error"===e.type.toLowerCase()&&console.error(e)};for(var a in n)n.hasOwnProperty(a)&&d.on(n[a],s)},e&&0<e.length)for(var h=0,p=e.length;h<p;h++)if(y.renderer.renderers[c.prefix].canPlayType(e[h].type)){u.setAttribute("src",e[h].src),void 0!==e[h].drm&&(c.dash.drm=e[h].drm);break}u.setAttribute("id",i),t.parentNode.insertBefore(u,t),t.autoplay=!1,t.style.display="none",u.setSize=function(e,t){return u.style.width=e+"px",u.style.height=t+"px",u},u.hide=function(){return u.pause(),u.style.display="none",u},u.show=function(){return u.style.display="",u};var f=(0,w.createEvent)("rendererready",u);return l.dispatchEvent(f),l.promises.push(x.load({options:c.dash,id:i})),u}};n.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".mpd")?"application/dash+xml":null}),y.renderer.add(a)},{24:24,25:25,26:26,27:27,3:3,7:7,8:8}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PluginDetector=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=n(e(3)),_=n(e(2)),P=n(e(7)),k=n(e(5)),I=e(8),A=e(26),R=e(24),O=e(27);function n(e){return e&&e.__esModule?e:{default:e}}var r=i.PluginDetector={plugins:[],hasPluginVersion:function(e,t){var i=r.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]===t[0]&&i[1]>t[1]||i[0]===t[0]&&i[1]===t[1]&&i[2]>=t[2]},addPlugin:function(e,t,i,n,o){r.plugins[e]=r.detectPlugin(t,i,n,o)},detectPlugin:function(e,t,i,n){var o=[0,0,0],r=void 0,s=void 0;if(null!==R.NAV.plugins&&void 0!==R.NAV.plugins&&"object"===c(R.NAV.plugins[e])){if((r=R.NAV.plugins[e].description)&&(void 0===R.NAV.mimeTypes||!R.NAV.mimeTypes[t]||R.NAV.mimeTypes[t].enabledPlugin))for(var a=0,l=(o=r.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".")).length;a<l;a++)o[a]=parseInt(o[a].match(/\d+/),10)}else if(void 0!==C.default.ActiveXObject)try{(s=new ActiveXObject(i))&&(o=n(s))}catch(e){}return o}};r.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t});var o={create:function(e,t,i){var r={};r.options=t,r.id=e.id+"_"+r.options.prefix,r.mediaElement=e,r.flashState={},r.flashApi=null,r.flashApiStack=[];for(var n=P.default.html5media.properties,o=function(t){r.flashState[t]=null;var e=""+t.substring(0,1).toUpperCase()+t.substring(1);r["get"+e]=function(){if(null!==r.flashApi){if("function"==typeof r.flashApi["get_"+t]){var e=r.flashApi["get_"+t]();return"buffered"===t?{start:function(){return 0},end:function(){return e},length:1}:e}return null}return null},r["set"+e]=function(e){if("src"===t&&(e=(0,O.absolutizeUrl)(e)),null!==r.flashApi&&void 0!==r.flashApi["set_"+t])try{r.flashApi["set_"+t](e)}catch(e){}else r.flashApiStack.push({type:"set",propName:t,value:e})}},s=0,a=n.length;s<a;s++)o(n[s]);var l=P.default.html5media.methods,c=function(e){r[e]=function(){if(null!==r.flashApi){if(r.flashApi["fire_"+e])try{r.flashApi["fire_"+e]()}catch(e){}}else r.flashApiStack.push({type:"call",methodName:e})}};l.push("stop");for(var u=0,d=l.length;u<d;u++)c(l[u]);for(var h=["rendererready"],p=0,f=h.length;p<f;p++){var m=(0,A.createEvent)(h[p],r);e.dispatchEvent(m)}C.default["__ready__"+r.id]=function(){if(r.flashReady=!0,r.flashApi=_.default.getElementById("__"+r.id),r.flashApiStack.length)for(var e=0,t=r.flashApiStack.length;e<t;e++){var i=r.flashApiStack[e];if("set"===i.type){var n=i.propName,o=""+n.substring(0,1).toUpperCase()+n.substring(1);r["set"+o](i.value)}else"call"===i.type&&r[i.methodName]()}},C.default["__event__"+r.id]=function(e,t){var i=(0,A.createEvent)(e,r);i.message=t||"",r.mediaElement.dispatchEvent(i)},r.flashWrapper=_.default.createElement("div"),-1===["always","sameDomain"].indexOf(r.options.shimScriptAccess)&&(r.options.shimScriptAccess="sameDomain");var g=e.originalNode.autoplay,v=["uid="+r.id,"autoplay="+g,"allowScriptAccess="+r.options.shimScriptAccess],y=null!==e.originalNode&&"video"===e.originalNode.tagName.toLowerCase(),w=y?e.originalNode.height:1,x=y?e.originalNode.width:1;e.originalNode.getAttribute("src")&&v.push("src="+e.originalNode.getAttribute("src")),!0===r.options.enablePseudoStreaming&&(v.push("pseudostreamstart="+r.options.pseudoStreamingStartQueryParam),v.push("pseudostreamtype="+r.options.pseudoStreamingType)),e.appendChild(r.flashWrapper),null!==e.originalNode&&(e.originalNode.style.display="none");var b=[];if(R.IS_IE){var S=_.default.createElement("div");r.flashWrapper.appendChild(S),b=['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"','codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"','id="__'+r.id+'"','width="'+x+'"','height="'+w+'"'],y||b.push('style="clip: rect(0 0 0 0); position: absolute;"'),S.outerHTML="<object "+b.join(" ")+'><param name="movie" value="'+r.options.pluginPath+r.options.filename+"?x="+new Date+'" /><param name="flashvars" value="'+v.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+r.options.shimScriptAccess+'" /><param name="allowFullScreen" value="true" /><div>'+k.default.t("mejs.install-flash")+"</div></object>"}else b=['id="__'+r.id+'"','name="__'+r.id+'"','play="true"','loop="false"','quality="high"','bgcolor="#000000"','wmode="transparent"','allowScriptAccess="'+r.options.shimScriptAccess+'"','allowFullScreen="true"','type="application/x-shockwave-flash"','pluginspage="//www.macromedia.com/go/getflashplayer"','src="'+r.options.pluginPath+r.options.filename+'"','flashvars="'+v.join("&")+'"','width="'+x+'"','height="'+w+'"'],y||b.push('style="clip: rect(0 0 0 0); position: absolute;"'),r.flashWrapper.innerHTML="<embed "+b.join(" ")+">";if(r.flashNode=r.flashWrapper.lastChild,r.hide=function(){y&&(r.flashNode.style.display="none")},r.show=function(){y&&(r.flashNode.style.display="")},r.setSize=function(e,t){r.flashNode.style.width=e+"px",r.flashNode.style.height=t+"px",null!==r.flashApi&&"function"==typeof r.flashApi.fire_setSize&&r.flashApi.fire_setSize(e,t)},r.destroy=function(){r.flashNode.remove()},i&&0<i.length)for(var T=0,E=i.length;T<E;T++)if(I.renderer.renderers[t.prefix].canPlayType(i[T].type)){r.setSrc(i[T].src);break}return r}};if(r.hasPluginVersion("flash",[10,0,0])){O.typeChecks.push(function(e){return(e=e.toLowerCase()).startsWith("rtmp")?~e.indexOf(".mp3")?"audio/rtmp":"video/rtmp":/\.og(a|g)/i.test(e)?"audio/ogg":~e.indexOf(".m3u8")?"application/x-mpegURL":~e.indexOf(".mpd")?"application/dash+xml":~e.indexOf(".flv")?"video/flv":null});var s={name:"flash_video",options:{prefix:"flash_video",filename:"mediaelement-flash-video.swf",enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",pseudoStreamingType:"byte"},canPlayType:function(e){return~["video/mp4","video/rtmp","audio/rtmp","rtmp/mp4","audio/mp4","video/flv","video/x-flv"].indexOf(e.toLowerCase())},create:o.create};I.renderer.add(s);var a={name:"flash_hls",options:{prefix:"flash_hls",filename:"mediaelement-flash-video-hls.swf"},canPlayType:function(e){return~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())},create:o.create};I.renderer.add(a);var l={name:"flash_dash",options:{prefix:"flash_dash",filename:"mediaelement-flash-video-mdash.swf"},canPlayType:function(e){return~["application/dash+xml"].indexOf(e.toLowerCase())},create:o.create};I.renderer.add(l);var u={name:"flash_audio",options:{prefix:"flash_audio",filename:"mediaelement-flash-audio.swf"},canPlayType:function(e){return~["audio/mp3"].indexOf(e.toLowerCase())},create:o.create};I.renderer.add(u);var d={name:"flash_audio_ogg",options:{prefix:"flash_audio_ogg",filename:"mediaelement-flash-audio-ogg.swf"},canPlayType:function(e){return~["audio/ogg","audio/oga","audio/ogv"].indexOf(e.toLowerCase())},create:o.create};I.renderer.add(d)}},{2:2,24:24,26:26,27:27,3:3,5:5,7:7,8:8}],20:[function(e,t,i){"use strict";var m=s(e(3)),g=s(e(7)),v=e(8),y=e(26),n=e(24),o=e(27),r=e(25);function s(e){return e&&e.__esModule?e:{default:e}}var w={promise:null,load:function(e){return"undefined"!=typeof flvjs?w.promise=new Promise(function(){w._createPlayer(e)}):w.promise||(e.options.path="string"==typeof e.options.path?e.options.path:"https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.3.0/flv.min.js",w.promise=w.promise||(0,r.loadScript)(e.options.path),w.promise.then(function(){w._createPlayer(e)})),w.promise},_createPlayer:function(e){flvjs.LoggingControl.enableDebug=e.options.debug,flvjs.LoggingControl.enableVerbose=e.options.debug;var t=flvjs.createPlayer(e.options);return m.default["__ready__"+e.id](t),t}},a={name:"native_flv",options:{prefix:"native_flv",flv:{path:"https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.3.0/flv.min.js",cors:!0,debug:!1}},canPlayType:function(e){return n.HAS_MSE&&-1<["video/x-flv","video/flv"].indexOf(e.toLowerCase())},create:function(l,n,e){var t=l.originalNode,o=l.id+"_"+n.prefix,c=null,u=null;c=t.cloneNode(!0),n=Object.assign(n,l.options);for(var i=g.default.html5media.properties,r=function(i){var e=""+i.substring(0,1).toUpperCase()+i.substring(1);c["get"+e]=function(){return null!==u?c[i]:null},c["set"+e]=function(e){if(-1===g.default.html5media.readOnlyProperties.indexOf(i)&&(c[i]=e,null!==u&&"src"===i)){var t={type:"flv"};t.url=e,t.cors=n.flv.cors,t.debug=n.flv.debug,t.path=n.flv.path,u.destroy(),(u=w._createPlayer({options:t,id:o})).attachMediaElement(c),u.load()}}},s=0,a=i.length;s<a;s++)r(i[s]);if(m.default["__ready__"+o]=function(e){l.flvPlayer=u=e;for(var t,i=g.default.html5media.events.concat(["click","mouseover","mouseout"]),r=flvjs.Events,n=0,o=i.length;n<o;n++)"loadedmetadata"===(t=i[n])&&(u.unload(),u.detachMediaElement(),u.attachMediaElement(c),u.load()),c.addEventListener(t,function(e){var t=(0,y.createEvent)(e.type,l);l.dispatchEvent(t)});var s=function(o){r.hasOwnProperty(o)&&u.on(r[o],function(e){var t,i,n;t=r[o],i=e,(n=(0,y.createEvent)(t,c)).data=i,l.dispatchEvent(n)})};for(var a in r)s(a)},e&&0<e.length)for(var d=0,h=e.length;d<h;d++)if(v.renderer.renderers[n.prefix].canPlayType(e[d].type)){c.setAttribute("src",e[d].src);break}c.setAttribute("id",o),t.parentNode.insertBefore(c,t),t.autoplay=!1,t.style.display="none";var p={type:"flv"};p.url=c.src,p.cors=n.flv.cors,p.debug=n.flv.debug,p.path=n.flv.path,c.setSize=function(e,t){return c.style.width=e+"px",c.style.height=t+"px",c},c.hide=function(){return null!==u&&u.pause(),c.style.display="none",c},c.show=function(){return c.style.display="",c},c.destroy=function(){null!==u&&u.destroy()};var f=(0,y.createEvent)("rendererready",c);return l.dispatchEvent(f),l.promises.push(w.load({options:p,id:o})),c}};o.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".flv")?"video/flv":null}),v.renderer.add(a)},{24:24,25:25,26:26,27:27,3:3,7:7,8:8}],21:[function(e,t,i){"use strict";var g=s(e(3)),v=s(e(7)),y=e(8),w=e(26),n=e(24),o=e(27),r=e(25);function s(e){return e&&e.__esModule?e:{default:e}}var x={promise:null,load:function(e){return"undefined"!=typeof Hls?x.promise=new Promise(function(){x._createPlayer(e)}):x.promise||(e.options.path="string"==typeof e.options.path?e.options.path:"https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.7.9/hls.min.js",x.promise=x.promise||(0,r.loadScript)(e.options.path),x.promise.then(function(){x._createPlayer(e)})),x.promise},_createPlayer:function(e){var t=new Hls(e.options);return g.default["__ready__"+e.id](t),t}},a={name:"native_hls",options:{prefix:"native_hls",hls:{path:"https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.7.9/hls.min.js",autoStartLoad:!1,debug:!1}},canPlayType:function(e){return n.HAS_MSE&&-1<["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())},create:function(u,i,e){var t=u.originalNode,n=u.id+"_"+i.prefix,o=t.getAttribute("preload"),r=t.autoplay,d=null,h=null;h=t.cloneNode(!0),(i=Object.assign(i,u.options)).hls.autoStartLoad=o&&"none"!==o||r;for(var s=v.default.html5media.properties,a=function(t){var e=""+t.substring(0,1).toUpperCase()+t.substring(1);h["get"+e]=function(){return null!==d?h[t]:null},h["set"+e]=function(e){-1===v.default.html5media.readOnlyProperties.indexOf(t)&&(h[t]=e,null!==d&&"src"===t&&(d.destroy(),(d=x._createPlayer({options:i.hls,id:n})).loadSource(e),d.attachMedia(h)))}},l=0,c=s.length;l<c;l++)a(s[l]);if(g.default["__ready__"+n]=function(e){u.hlsPlayer=d=e;for(var t=v.default.html5media.events.concat(["click","mouseover","mouseout"]),i=Hls.Events,n=function(e){if("loadedmetadata"===e){var t=u.originalNode.src;d.detachMedia(),d.loadSource(t),d.attachMedia(h)}h.addEventListener(e,function(e){var t=(0,w.createEvent)(e.type,u);u.dispatchEvent(t)})},o=0,r=t.length;o<r;o++)n(t[o]);var s=void 0,a=void 0,l=function(e,t){var i=(0,w.createEvent)(e,h);if(i.data=t,u.dispatchEvent(i),"hlsError"===e&&(console.warn(e,t),t.fatal))switch(t.type){case"mediaError":var n=(new Date).getTime();!s||3e3<n-s?(s=(new Date).getTime(),d.recoverMediaError()):!a||3e3<n-a?(a=(new Date).getTime(),console.warn("Attempting to swap Audio Codec and recover from media error"),d.swapAudioCodec(),d.recoverMediaError()):console.error("Cannot recover, last media error recovery failed");break;case"networkError":console.error("Network error");break;default:d.destroy()}};for(var c in i)i.hasOwnProperty(c)&&d.on(i[c],l)},e&&0<e.length)for(var p=0,f=e.length;p<f;p++)if(y.renderer.renderers[i.prefix].canPlayType(e[p].type)){h.setAttribute("src",e[p].src);break}"auto"===o||r||(h.addEventListener("play",function(){null!==d&&d.startLoad()}),h.addEventListener("pause",function(){null!==d&&d.stopLoad()})),h.setAttribute("id",n),t.parentNode.insertBefore(h,t),t.autoplay=!1,t.style.display="none",h.setSize=function(e,t){return h.style.width=e+"px",h.style.height=t+"px",h},h.hide=function(){return h.pause(),h.style.display="none",h},h.show=function(){return h.style.display="",h},h.destroy=function(){null!==d&&d.destroy()},h.stop=function(){null!==d&&d.stopLoad()};var m=(0,w.createEvent)("rendererready",h);return u.dispatchEvent(m),u.promises.push(x.load({options:i.hls,id:n})),h}};o.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".m3u8")?"application/x-mpegURL":null}),y.renderer.add(a)},{24:24,25:25,26:26,27:27,3:3,7:7,8:8}],22:[function(e,t,i){"use strict";var n=r(e(3)),g=r(e(2)),v=r(e(7)),y=e(8),w=e(26),o=e(24);function r(e){return e&&e.__esModule?e:{default:e}}var s={name:"html5",options:{prefix:"html5"},canPlayType:function(e){var t=g.default.createElement("video");return o.IS_ANDROID&&/\/mp(3|4)$/i.test(e)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())&&o.SUPPORTS_NATIVE_HLS?"yes":t.canPlayType?t.canPlayType(e.toLowerCase()).replace(/no/,""):""},create:function(i,e,t){var n=i.id+"_"+e.prefix,o=null;void 0===i.originalNode||null===i.originalNode?(o=g.default.createElement("audio"),i.appendChild(o)):o=i.originalNode,o.setAttribute("id",n);for(var r=v.default.html5media.properties,s=function(t){var e=""+t.substring(0,1).toUpperCase()+t.substring(1);o["get"+e]=function(){return o[t]},o["set"+e]=function(e){-1===v.default.html5media.readOnlyProperties.indexOf(t)&&(o[t]=e)}},a=0,l=r.length;a<l;a++)s(r[a]);for(var c,u=v.default.html5media.events.concat(["click","mouseover","mouseout"]),d=0,h=u.length;d<h;d++)c=u[d],o.addEventListener(c,function(e){var t=(0,w.createEvent)(e.type,i);i.dispatchEvent(t)});if(o.setSize=function(e,t){return o.style.width=e+"px",o.style.height=t+"px",o},o.hide=function(){return o.style.display="none",o},o.show=function(){return o.style.display="",o},t&&0<t.length)for(var p=0,f=t.length;p<f;p++)if(y.renderer.renderers[e.prefix].canPlayType(t[p].type)){o.setAttribute("src",t[p].src);break}var m=(0,w.createEvent)("rendererready",o);return i.dispatchEvent(m),o}};n.default.HtmlMediaElement=v.default.HtmlMediaElement=s,y.renderer.add(s)},{2:2,24:24,26:26,3:3,7:7,8:8}],23:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=a(e(3)),E=a(e(2)),C=a(e(7)),o=e(8),_=e(26),r=e(27),s=e(25);function a(e){return e&&e.__esModule?e:{default:e}}var P={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(e){P.isLoaded="undefined"!=typeof YT&&YT.loaded,P.isLoaded?P.createIframe(e):(P.loadIframeApi(),P.iframeQueue.push(e))},loadIframeApi:function(){P.isIframeStarted||((0,s.loadScript)("https://www.youtube.com/player_api"),P.isIframeStarted=!0)},iFrameReady:function(){for(P.isLoaded=!0,P.isIframeLoaded=!0;0<P.iframeQueue.length;){var e=P.iframeQueue.pop();P.createIframe(e)}},createIframe:function(e){return new YT.Player(e.containerId,e)},getYouTubeId:function(e){var t="";return 0<e.indexOf("?")?""===(t=P.getYouTubeIdFromParam(e))&&(t=P.getYouTubeIdFromUrl(e)):t=P.getYouTubeIdFromUrl(e),t},getYouTubeIdFromParam:function(e){if(null==e||!e.trim().length)return null;for(var t=e.split("?")[1].split("&"),i="",n=0,o=t.length;n<o;n++){var r=t[n].split("=");if("v"===r[0]){i=r[1];break}}return i},getYouTubeIdFromUrl:function(e){return null!=e&&e.trim().length?(e=e.split("?")[0]).substring(e.lastIndexOf("/")+1):null},getYouTubeNoCookieUrl:function(e){if(null==e||!e.trim().length||-1===e.indexOf("//www.youtube"))return e;var t=e.split("/");return t[2]=t[2].replace(".com","-nocookie.com"),t.join("/")}},l={name:"youtube_iframe",options:{prefix:"youtube_iframe",youtube:{autoplay:0,controls:0,disablekb:1,end:0,loop:0,modestbranding:0,playsinline:0,rel:0,showinfo:0,start:0,iv_load_policy:3,nocookie:!1}},canPlayType:function(e){return~["video/youtube","video/x-youtube"].indexOf(e.toLowerCase())},create:function(f,e,t){var m={},g=[],v=null,r=!0,s=!1,y=null;m.options=e,m.id=f.id+"_"+e.prefix,m.mediaElement=f;for(var i=C.default.html5media.properties,n=function(o){var e=""+o.substring(0,1).toUpperCase()+o.substring(1);m["get"+e]=function(){if(null!==v){switch(o){case"currentTime":return v.getCurrentTime();case"duration":return v.getDuration();case"volume":return v.getVolume()/100;case"paused":return r;case"ended":return s;case"muted":return v.isMuted();case"buffered":var e=v.getVideoLoadedFraction(),t=v.getDuration();return{start:function(){return 0},end:function(){return e*t},length:1};case"src":return v.getVideoUrl();case"readyState":return 4}return null}return null},m["set"+e]=function(e){if(null!==v)switch(o){case"src":var t="string"==typeof e?e:e[0].src,i=P.getYouTubeId(t);f.originalNode.autoplay?v.loadVideoById(i):v.cueVideoById(i);break;case"currentTime":v.seekTo(e);break;case"muted":e?v.mute():v.unMute(),setTimeout(function(){var e=(0,_.createEvent)("volumechange",m);f.dispatchEvent(e)},50);break;case"volume":e,v.setVolume(100*e),setTimeout(function(){var e=(0,_.createEvent)("volumechange",m);f.dispatchEvent(e)},50);break;case"readyState":var n=(0,_.createEvent)("canplay",m);f.dispatchEvent(n)}else g.push({type:"set",propName:o,value:e})}},o=0,a=i.length;o<a;o++)n(i[o]);for(var l=C.default.html5media.methods,c=function(e){m[e]=function(){if(null!==v)switch(e){case"play":return r=!1,v.playVideo();case"pause":return r=!0,v.pauseVideo();case"load":return null}else g.push({type:"call",methodName:e})}},u=0,d=l.length;u<d;u++)c(l[u]);var h=E.default.createElement("div");h.id=m.id,m.options.youtube.nocookie&&f.originalNode.setAttribute("src",P.getYouTubeNoCookieUrl(t[0].src)),f.originalNode.parentNode.insertBefore(h,f.originalNode),f.originalNode.style.display="none";var p="audio"===f.originalNode.tagName.toLowerCase(),w=p?"1":f.originalNode.height,x=p?"1":f.originalNode.width,b=P.getYouTubeId(t[0].src),S={id:m.id,containerId:h.id,videoId:b,height:w,width:x,playerVars:Object.assign({controls:0,rel:0,disablekb:1,showinfo:0,modestbranding:0,html5:1,playsinline:0,start:0,end:0,iv_load_policy:3},m.options.youtube),origin:T.default.location.host,events:{onReady:function(e){if(f.youTubeApi=v=e.target,f.youTubeState={paused:!0,ended:!1},g.length)for(var t=0,i=g.length;t<i;t++){var n=g[t];if("set"===n.type){var o=n.propName,r=""+o.substring(0,1).toUpperCase()+o.substring(1);m["set"+r](n.value)}else"call"===n.type&&m[n.methodName]()}y=v.getIframe(),f.originalNode.getAttribute("muted")&&v.mute();for(var s=["mouseover","mouseout"],a=function(e){var t=(0,_.createEvent)(e.type,m);f.dispatchEvent(t)},l=0,c=s.length;l<c;l++)y.addEventListener(s[l],a,!1);for(var u=["rendererready","loadedmetadata","loadeddata","canplay"],d=0,h=u.length;d<h;d++){var p=(0,_.createEvent)(u[d],m);f.dispatchEvent(p)}},onStateChange:function(e){var t=[];switch(e.data){case-1:t=["loadedmetadata"],s=!(r=!0);break;case 0:r=!(t=["ended"]),s=!m.options.youtube.loop,m.options.youtube.loop||m.stopInterval();break;case 1:s=r=!(t=["play","playing"]),m.startInterval();break;case 2:t=["pause"],s=!(r=!0),m.stopInterval();break;case 3:s=!(t=["progress"]);break;case 5:t=["loadeddata","loadedmetadata","canplay"],s=!(r=!0)}for(var i=0,n=t.length;i<n;i++){var o=(0,_.createEvent)(t[i],m);f.dispatchEvent(o)}},onError:function(e){var t=(0,_.createEvent)("error",m);t.data=e.data,f.dispatchEvent(t)}}};return p&&(S.playerVars.playsinline=1),f.originalNode.autoplay&&(S.playerVars.autoplay=1),f.originalNode.loop&&(S.playerVars.loop=1),P.enqueueIframe(S),m.onEvent=function(e,t,i){null!=i&&(f.youTubeState=i)},m.setSize=function(e,t){null!==v&&v.setSize(e,t)},m.hide=function(){m.stopInterval(),m.pause(),y&&(y.style.display="none")},m.show=function(){y&&(y.style.display="")},m.destroy=function(){v.destroy()},m.interval=null,m.startInterval=function(){m.interval=setInterval(function(){var e=(0,_.createEvent)("timeupdate",m);f.dispatchEvent(e)},250)},m.stopInterval=function(){m.interval&&clearInterval(m.interval)},m}};T.default.postMessage&&n(T.default.addEventListener)&&(T.default.onYouTubePlayerAPIReady=function(){P.iFrameReady()},r.typeChecks.push(function(e){return/\/\/(www\.youtube|youtu\.?be)/i.test(e)?"video/x-youtube":null}),o.renderer.add(l))},{2:2,25:25,26:26,27:27,3:3,7:7,8:8}],24:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.cancelFullScreen=i.requestFullScreen=i.isFullScreen=i.FULLSCREEN_EVENT_NAME=i.HAS_NATIVE_FULLSCREEN_ENABLED=i.HAS_TRUE_NATIVE_FULLSCREEN=i.HAS_IOS_FULLSCREEN=i.HAS_MS_NATIVE_FULLSCREEN=i.HAS_MOZ_NATIVE_FULLSCREEN=i.HAS_WEBKIT_NATIVE_FULLSCREEN=i.HAS_NATIVE_FULLSCREEN=i.SUPPORTS_NATIVE_HLS=i.SUPPORT_POINTER_EVENTS=i.HAS_MSE=i.IS_STOCK_ANDROID=i.IS_SAFARI=i.IS_FIREFOX=i.IS_CHROME=i.IS_EDGE=i.IS_IE=i.IS_ANDROID=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=i.UA=i.NAV=void 0;var o=s(e(3)),r=s(e(2)),n=s(e(7));function s(e){return e&&e.__esModule?e:{default:e}}for(var a=i.NAV=o.default.navigator,l=i.UA=a.userAgent.toLowerCase(),c=i.IS_IPAD=/ipad/i.test(l)&&!o.default.MSStream,u=i.IS_IPHONE=/iphone/i.test(l)&&!o.default.MSStream,d=i.IS_IPOD=/ipod/i.test(l)&&!o.default.MSStream,h=(i.IS_IOS=/ipad|iphone|ipod/i.test(l)&&!o.default.MSStream,i.IS_ANDROID=/android/i.test(l)),p=i.IS_IE=/(trident|microsoft)/i.test(a.appName),f=(i.IS_EDGE="msLaunchUri"in a&&!("documentMode"in r.default)),m=i.IS_CHROME=/chrome/i.test(l),g=i.IS_FIREFOX=/firefox/i.test(l),v=i.IS_SAFARI=/safari/i.test(l)&&!m,y=i.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(l),w=(i.HAS_MSE="MediaSource"in o.default),x=i.SUPPORT_POINTER_EVENTS=function(){var e=r.default.createElement("x"),t=r.default.documentElement,i=o.default.getComputedStyle;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e);var n=i&&"auto"===i(e,"").pointerEvents;return e.remove(),!!n}(),b=["source","track","audio","video"],S=void 0,T=0,E=b.length;T<E;T++)S=r.default.createElement(b[T]);var C=i.SUPPORTS_NATIVE_HLS=v||h&&(m||y)||p&&/edge/i.test(l),_=void 0!==S.webkitEnterFullscreen,P=void 0!==S.requestFullscreen;_&&/mac os x 10_5/i.test(l)&&(_=P=!1);var k=void 0!==S.webkitRequestFullScreen,I=void 0!==S.mozRequestFullScreen,A=void 0!==S.msRequestFullscreen,R=k||I||A,O=R,L="",N=void 0,D=void 0,M=void 0;I?O=r.default.mozFullScreenEnabled:A&&(O=r.default.msFullscreenEnabled),m&&(_=!1),R&&(k?L="webkitfullscreenchange":I?L="mozfullscreenchange":A&&(L="MSFullscreenChange"),i.isFullScreen=N=function(){return I?r.default.mozFullScreen:k?r.default.webkitIsFullScreen:A?null!==r.default.msFullscreenElement:void 0},i.requestFullScreen=D=function(e){k?e.webkitRequestFullScreen():I?e.mozRequestFullScreen():A&&e.msRequestFullscreen()},i.cancelFullScreen=M=function(){k?r.default.webkitCancelFullScreen():I?r.default.mozCancelFullScreen():A&&r.default.msExitFullscreen()});var z=i.HAS_NATIVE_FULLSCREEN=P,H=i.HAS_WEBKIT_NATIVE_FULLSCREEN=k,F=i.HAS_MOZ_NATIVE_FULLSCREEN=I,j=i.HAS_MS_NATIVE_FULLSCREEN=A,B=i.HAS_IOS_FULLSCREEN=_,$=i.HAS_TRUE_NATIVE_FULLSCREEN=R,q=i.HAS_NATIVE_FULLSCREEN_ENABLED=O,W=i.FULLSCREEN_EVENT_NAME=L;i.isFullScreen=N,i.requestFullScreen=D,i.cancelFullScreen=M,n.default.Features=n.default.Features||{},n.default.Features.isiPad=c,n.default.Features.isiPod=d,n.default.Features.isiPhone=u,n.default.Features.isiOS=n.default.Features.isiPhone||n.default.Features.isiPad,n.default.Features.isAndroid=h,n.default.Features.isIE=p,n.default.Features.isEdge=f,n.default.Features.isChrome=m,n.default.Features.isFirefox=g,n.default.Features.isSafari=v,n.default.Features.isStockAndroid=y,n.default.Features.hasMSE=w,n.default.Features.supportsNativeHLS=C,n.default.Features.supportsPointerEvents=x,n.default.Features.hasiOSFullScreen=B,n.default.Features.hasNativeFullscreen=z,n.default.Features.hasWebkitNativeFullScreen=H,n.default.Features.hasMozNativeFullScreen=F,n.default.Features.hasMsNativeFullScreen=j,n.default.Features.hasTrueNativeFullScreen=$,n.default.Features.nativeFullScreenEnabled=q,n.default.Features.fullScreenEventName=W,n.default.Features.isFullScreen=N,n.default.Features.requestFullScreen=D,n.default.Features.cancelFullScreen=M},{2:2,3:3,7:7}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.removeClass=i.addClass=i.hasClass=void 0,i.loadScript=s,i.offset=a,i.toggleClass=m,i.fadeOut=g,i.fadeIn=v,i.siblings=y,i.visible=w,i.ajax=x;var l=r(e(3)),o=r(e(2)),n=r(e(7));function r(e){return e&&e.__esModule?e:{default:e}}function s(n){return new Promise(function(e,t){var i=o.default.createElement("script");i.src=n,i.async=!0,i.onload=function(){i.remove(),e()},i.onerror=function(){i.remove(),t()},o.default.head.appendChild(i)})}function a(e){var t=e.getBoundingClientRect(),i=l.default.pageXOffset||o.default.documentElement.scrollLeft,n=l.default.pageYOffset||o.default.documentElement.scrollTop;return{top:t.top+n,left:t.left+i}}var c=void 0,u=void 0,d=void 0;"classList"in o.default.documentElement?(c=function(e,t){return void 0!==e.classList&&e.classList.contains(t)},u=function(e,t){return e.classList.add(t)},d=function(e,t){return e.classList.remove(t)}):(c=function(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)},u=function(e,t){h(e,t)||(e.className+=" "+t)},d=function(e,t){e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")});var h=i.hasClass=c,p=i.addClass=u,f=i.removeClass=d;function m(e,t){h(e,t)?f(e,t):p(e,t)}function g(o){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,s=arguments[2];o.style.opacity||(o.style.opacity=1);var a=null;l.default.requestAnimationFrame(function e(t){var i=t-(a=a||t),n=parseFloat(1-i/r,2);o.style.opacity=n<0?0:n,r<i?s&&"function"==typeof s&&s():l.default.requestAnimationFrame(e)})}function v(o){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,s=arguments[2];o.style.opacity||(o.style.opacity=0);var a=null;l.default.requestAnimationFrame(function e(t){var i=t-(a=a||t),n=parseFloat(i/r,2);o.style.opacity=1<n?1:n,r<i?s&&"function"==typeof s&&s():l.default.requestAnimationFrame(e)})}function y(e,t){var i=[];for(e=e.parentNode.firstChild;t&&!t(e)||i.push(e),e=e.nextSibling;);return i}function w(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function x(e,t,i,n){var o=l.default.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r="application/x-www-form-urlencoded; charset=UTF-8",s=!1,a="*/".concat("*");switch(t){case"text":r="text/plain";break;case"json":r="application/json, text/javascript";break;case"html":r="text/html";break;case"xml":r="application/xml, text/xml"}"application/x-www-form-urlencoded"!==r&&(a=r+", */*; q=0.01"),o&&(o.open("GET",e,!0),o.setRequestHeader("Accept",a),o.onreadystatechange=function(){if(!s&&4===o.readyState)if(200===o.status){s=!0;var e=void 0;switch(t){case"json":e=JSON.parse(o.responseText);break;case"xml":e=o.responseXML;break;default:e=o.responseText}i(e)}else"function"==typeof n&&n(o.status)},o.send())}n.default.Utils=n.default.Utils||{},n.default.Utils.offset=a,n.default.Utils.hasClass=h,n.default.Utils.addClass=p,n.default.Utils.removeClass=f,n.default.Utils.toggleClass=m,n.default.Utils.fadeIn=v,n.default.Utils.fadeOut=g,n.default.Utils.siblings=y,n.default.Utils.visible=w,n.default.Utils.ajax=x,n.default.Utils.loadScript=s},{2:2,3:3,7:7}],26:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.escapeHTML=s,i.debounce=a,i.isObjectEmpty=l,i.splitEvents=c,i.createEvent=u,i.isNodeAfter=d,i.isString=h;var n,o=e(7),r=(n=o)&&n.__esModule?n:{default:n};function s(e){if("string"!=typeof e)throw new Error("Argument passed must be a string");var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return e.replace(/[&<>"]/g,function(e){return t[e]})}function a(n,o){var r=this,s=arguments,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof n)throw new Error("First argument must be a function");if("number"!=typeof o)throw new Error("Second argument must be a numeric value");var l=void 0;return function(){var e=r,t=s,i=a&&!l;clearTimeout(l),l=setTimeout(function(){l=null,a||n.apply(e,t)},o),i&&n.apply(e,t)}}function l(e){return Object.getOwnPropertyNames(e).length<=0}function c(e,i){var n=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,o={d:[],w:[]};return(e||"").split(" ").forEach(function(e){var t=e+(i?"."+i:"");t.startsWith(".")?(o.d.push(t),o.w.push(t)):o[n.test(e)?"w":"d"].push(t)}),o.d=o.d.join(" "),o.w=o.w.join(" "),o}function u(e,t){if("string"!=typeof e)throw new Error("Event name must be a string");var i=e.match(/([a-z]+\.([a-z]+))/i),n={target:t};return null!==i&&(e=i[1],n.namespace=i[2]),new window.CustomEvent(e,{detail:n})}function d(e,t){return!!(e&&t&&2&e.compareDocumentPosition(t))}function h(e){return"string"==typeof e}r.default.Utils=r.default.Utils||{},r.default.Utils.escapeHTML=s,r.default.Utils.debounce=a,r.default.Utils.isObjectEmpty=l,r.default.Utils.splitEvents=c,r.default.Utils.createEvent=u,r.default.Utils.isNodeAfter=d,r.default.Utils.isString=h},{7:7}],27:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.typeChecks=void 0,i.absolutizeUrl=l,i.formatType=c,i.getMimeFromType=u,i.getTypeFromFile=d,i.getExtension=h,i.normalizeExtension=p;var n,o=e(7),r=(n=o)&&n.__esModule?n:{default:n},s=e(26);var a=i.typeChecks=[];function l(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");var t=document.createElement("div");return t.innerHTML='<a href="'+(0,s.escapeHTML)(e)+'">x</a>',t.firstChild.href}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e&&!t?d(e):u(t)}function u(e){if("string"!=typeof e)throw new Error("`type` argument must be a string");return e&&-1<e.indexOf(";")?e.substr(0,e.indexOf(";")):e}function d(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");for(var t=0,i=a.length;t<i;t++){var n=a[t](e);if(n)return n}var o=p(h(e)),r="video/mp4";return o&&(~["mp4","m4v","ogg","ogv","webm","flv","mpeg","mov"].indexOf(o)?r="video/"+o:~["mp3","oga","wav","mid","midi"].indexOf(o)&&(r="audio/"+o)),r}function h(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");var t=e.split("?")[0].split("\\").pop().split("/").pop();return~t.indexOf(".")?t.substring(t.lastIndexOf(".")+1):""}function p(e){if("string"!=typeof e)throw new Error("`extension` argument must be a string");switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}}r.default.Utils=r.default.Utils||{},r.default.Utils.typeChecks=a,r.default.Utils.absolutizeUrl=l,r.default.Utils.formatType=c,r.default.Utils.getMimeFromType=u,r.default.Utils.getTypeFromFile=d,r.default.Utils.getExtension=h,r.default.Utils.normalizeExtension=p},{26:26,7:7}],28:[function(e,t,i){"use strict";var n,o=s(e(2)),r=s(e(4));function s(e){return e&&e.__esModule?e:{default:e}}[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),function(){if("function"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=o.default.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1,n=arguments.length;i<n;i++){var o=arguments[i];if(null!==o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length-1;0<=--i&&t.item(i)!==this;);return-1<i}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),i=void 0,n=this;do{for(i=t.length;0<=--i&&t.item(i)!==n;);}while(i<0&&(n=n.parentElement));return n}),function(){for(var o=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-o)),n=window.setTimeout(function(){e(t+i)},i);return o=t+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),/firefox/i.test(navigator.userAgent)&&(window.mediaElementJsOldGetComputedStyle=window.getComputedStyle,window.getComputedStyle=function(e,t){var i=window.mediaElementJsOldGetComputedStyle(e,t);return null===i?{getPropertyValue:function(){}}:i}),window.Promise||(window.Promise=r.default),(n=window.Node||window.Element)&&n.prototype&&null===n.prototype.children&&Object.defineProperty(n.prototype,"children",{get:function(){for(var e=0,t=void 0,i=this.childNodes,n=[];t=i[e++];)1===t.nodeType&&n.push(t);return n}})},{2:2,4:4}],29:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isDropFrame=y,i.secondsToTimeCode=s,i.timeCodeToSeconds=a,i.calculateTimeFormat=l,i.convertSMPTEtoSeconds=c;var n,o=e(7),r=(n=o)&&n.__esModule?n:{default:n};function y(){return!((0<arguments.length&&void 0!==arguments[0]?arguments[0]:25)%1==0)}function s(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:25,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;e=!e||"number"!=typeof e||e<0?0:e;var r=Math.round(.066666*n),s=Math.round(n),a=24*Math.round(3600*n),l=Math.round(600*n),c=y(n)?";":":",u=void 0,d=void 0,h=void 0,p=void 0,f=Math.round(e*n);if(y(n)){f<0&&(f=a+f);var m=(f%=a)%l;f+=9*r*Math.floor(f/l),r<m&&(f+=r*Math.floor((m-r)/Math.round(60*s-r)));var g=Math.floor(f/s);u=Math.floor(Math.floor(g/60)/60),d=Math.floor(g/60)%60,h=i?g%60:(f/s%60).toFixed(o)}else u=Math.floor(e/3600)%24,d=Math.floor(e/60)%60,h=i?Math.floor(e%60):(e%60).toFixed(o);u=u<=0?0:u;var v=t||0<u?(u<10?"0"+u:u)+":":"";return v+=((d=d<=0?0:d)<10?"0"+d:d)+":",v+=""+((h=h<=0?0:h)<10?"0"+h:h),i&&(v+=(p=(p=(f%s).toFixed(0))<=0?0:p)<10?c+"0"+p:""+c+p),v}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25;if("string"!=typeof e)throw new TypeError("Time must be a string");if(0<e.indexOf(";")&&(e=e.replace(";",":")),!/\d{2}(\:\d{2}){0,3}/i.test(e))throw new TypeError("Time code must have the format `00:00:00`");var i=e.split(":"),n=void 0,o=0,r=0,s=0,a=0,l=0,c=Math.round(.066666*t),u=Math.round(t),d=3600*u,h=60*u;switch(i.length){default:case 1:s=parseInt(i[0],10);break;case 2:r=parseInt(i[0],10),s=parseInt(i[1],10);break;case 3:o=parseInt(i[0],10),r=parseInt(i[1],10),s=parseInt(i[2],10);break;case 4:o=parseInt(i[0],10),r=parseInt(i[1],10),s=parseInt(i[2],10),a=parseInt(i[3],10)}return n=y(t)?d*o+h*r+u*s+a-c*((l=60*o+r)-Math.floor(l/10)):(d*o+h*r+t*s+a)/t,parseFloat(n.toFixed(3))}function l(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:25;e=!e||"number"!=typeof e||e<0?0:e;for(var n=Math.floor(e/3600)%24,o=Math.floor(e/60)%60,r=Math.floor(e%60),s=[[Math.floor((e%1*i).toFixed(3)),"f"],[r,"s"],[o,"m"],[n,"h"]],a=t.timeFormat,l=a[1]===a[0],c=l?2:1,u=a.length<c?a[c]:":",d=a[0],h=!1,p=0,f=s.length;p<f;p++)if(~a.indexOf(s[p][1]))h=!0;else if(h){for(var m=!1,g=p;g<f;g++)if(0<s[g][0]){m=!0;break}if(!m)break;l||(a=d+a),a=s[p][1]+u+a,l&&(a=s[p][1]+a),d=s[p][1]}t.currentTimeFormat=a}function c(e){if("string"!=typeof e)throw new TypeError("Argument must be a string value");for(var t=~(e=e.replace(",",".")).indexOf(".")?e.split(".")[1].length:0,i=0,n=1,o=0,r=(e=e.split(":").reverse()).length;o<r;o++)n=1,0<o&&(n=Math.pow(60,o)),i+=Number(e[o])*n;return Number(i.toFixed(t))}r.default.Utils=r.default.Utils||{},r.default.Utils.secondsToTimeCode=s,r.default.Utils.timeCodeToSeconds=a,r.default.Utils.calculateTimeFormat=l,r.default.Utils.convertSMPTEtoSeconds=c},{7:7}]},{},[28,6,5,15,22,19,18,20,21,23,16,17,9,10,11,12,13,14]),function(n){n.version={versionStr:"2.4.0",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("0",10)};var e,t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;n.isFunction=function(e){return"function"===n.type(e)},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},n.type=function(e){return null==e?String(e):t[i.call(e)]||"object"},n.isPlainObject=function(e){if(!e||"object"!==OpenSeadragon.type(e)||e.nodeType||n.isWindow(e))return!1;if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(var i in e)t=i;return void 0===t||o.call(e,t)},n.isEmptyObject=function(e){for(var t in e)return!1;return!0},n.freezeObject=function(e){return Object.freeze?n.freezeObject=Object.freeze:n.freezeObject=function(e){return e},n.freezeObject(e)},n.supportsCanvas=(e=document.createElement("canvas"),!(!n.isFunction(e.getContext)||!e.getContext("2d"))),n.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},n.pixelDensityRatio=function(){if(n.supportsCanvas){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return Math.max(t,1)/i}return 1}()}(OpenSeadragon),function($){$.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=arguments.length,l=!1,c=1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},c=2),"object"==typeof s||OpenSeadragon.isFunction(s)||(s={}),a===c&&(s=this,--c);c<a;c++)if(null!==(e=arguments[c])||void 0!==e)for(t in e)i=s[t],s!==(n=e[t])&&(l&&n&&(OpenSeadragon.isPlainObject(n)||(o=OpenSeadragon.isArray(n)))?(o?(o=!1,r=i&&OpenSeadragon.isArray(i)?i:[]):r=i&&OpenSeadragon.isPlainObject(i)?i:{},s[t]=OpenSeadragon.extend(l,r,n)):void 0!==n&&(s[t]=n));return s};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(t,i){return function(){var e=arguments;return void 0===e&&(e=[]),i.apply(t,e)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,i,n=new $.Point;for(i=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);i;)n.x+=e.offsetLeft,n.y+=e.offsetTop,t&&(n=n.plus($.getPageScroll())),i=getOffsetParent(e=i,t="fixed"==$.getElementStyle(e).position);return n},getElementOffset:function(e){var t,i,n=(e=$.getElement(e))&&e.ownerDocument,o={top:0,left:0};return n?(t=n.documentElement,void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect()),i=n==n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow),new $.Point(o.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0),o.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var a={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==a[e])return a[e];var t=document.createElement("div").style,i=null;if(void 0!==t[e])i=e;else for(var n=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),r=0;r<n.length;r++){var s=n[r]+o;if(void 0!==t[s]){i=s;break}}return a[e]=i},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var i=e%t;return i<0&&(i+=t),i},pointInElement:function(e,t){e=$.getElement(e);var i=$.getElementOffset(e),n=$.getElementSize(e);return t.x>=i.x&&t.x<i.x+n.x&&t.y<i.y+n.y&&t.y>=i.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var i=$.getPageScroll();if(i.x!==t.x&&i.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(i=$.getPageScroll()).x!==t.x&&i.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),i=t.style;return i.background="transparent none",i.border="none",i.margin="0px",i.padding="0px",i.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),i=null;return(i=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){i.style.width=i.style.width||t.width+"px",i.style.height=i.style.height||t.height+"px",t.onload=null,t=null},t.src=e,i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",i}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,i){var n;e=$.getElement(e),i&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(n="alpha(opacity="+Math.round(100*t)+")",e.style.filter=n):e.style.filter=""},setElementTouchActionNone:function(e){void 0!==(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":void 0!==e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,i){return Array.prototype.indexOf?this.indexOf=function(e,t,i){return e.indexOf(t,i)}:this.indexOf=function(e,t,i){var n,o,r=i||0;if(!e)throw new TypeError;if(0===(o=e.length)||o<=r)return-1;for(r<0&&(r=o-Math.abs(r)),n=r;n<o;n++)if(e[n]===t)return n;return-1},this.indexOf(e,t,i)},removeClass:function(e,t){var i,n,o=[];for(i=(e=$.getElement(e)).className.split(/\s+/),n=0;n<i.length;n++)i[n]&&i[n]!==t&&o.push(i[n]);e.className=o.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,i,n){(e=$.getElement(e)).addEventListener(t,i,n)};if(window.attachEvent)return function(e,t,i,n){(e=$.getElement(e)).attachEvent("on"+t,i)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,i,n){(e=$.getElement(e)).removeEventListener(t,i,n)};if(window.detachEvent)return function(e,t,i,n){(e=$.getElement(e)).detachEvent("on"+t,i)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(i,n){var e,o=[];for(e=2;e<arguments.length;e++)o.push(arguments[e]);return function(){var e,t=o.concat([]);for(e=0;e<arguments.length;e++)t.push(arguments[e]);return n.apply(i,t)}},getUrlParameter:function(e){return URLPARAMS[e]||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,i){var n,o,r;$.isPlainObject(e)&&(t=e.success,i=e.error,n=e.withCredentials,o=e.headers,r=e.responseType||null,e=e.url);var s=$.getUrlProtocol(e),a=$.createAjaxRequest("file:"===s);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},200<=a.status&&a.status<300||0===a.status&&"http:"!==s&&"https:"!==s?t(a):($.console.log("AJAX request returned %d: %s",a.status,e),$.isFunction(i)&&i(a)))};try{if(a.open("GET",e,!0),r&&(a.responseType=r),o)for(var l in o)o.hasOwnProperty(l)&&o[l]&&a.setRequestHeader(l,o[l]);n&&(a.withCredentials=!0),a.send(null)}catch(n){var c=n.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==n.number&&-2147024891==n.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",n.name,c),a.onreadystatechange=function(){},window.XDomainRequest){var u=new XDomainRequest;if(u){u.onload=function(e){$.isFunction(t)&&t({responseText:u.responseText,status:200,statusText:"OK"})},u.onerror=function(e){$.isFunction(i)&&i({responseText:u.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{u.open("GET",e),u.send()}catch(e){$.isFunction(i)&&i(a,n)}}}else $.isFunction(i)&&i(a,n)}return a},jsonp:function(e){var i,t=e.url,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,o=e.callbackName||"openseadragon"+$.now(),r=window[o],s="$1"+o+"$2",a=e.param||"callback",l=e.callback;t=t.replace(/(\=)\?(&|$)|\?\?/i,s),t+=(/\?/.test(t)?"&":"?")+a+"="+o,window[o]=function(e){if(r)window[o]=r;else try{delete window[o]}catch(e){}l&&$.isFunction(l)&&l(e)},i=document.createElement("script"),void 0===e.async&&!1===e.async||(i.async="async"),e.scriptCharset&&(i.charset=e.scriptCharset),i.src=t,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=void 0)},n.insertBefore(i,n.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(0<=t.indexOf("Firefox")?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):0<=t.indexOf("Safari")?($.Browser.vendor=0<=t.indexOf("Chrome")?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var i,n,o,r=window.location.search.substring(1).split("&");for(o=0;o<r.length;o++)0<(n=(i=r[o]).indexOf("="))&&(URLPARAMS[i.substring(0,n)]=decodeURIComponent(i.substring(n+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&i)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return i.apply(e,arguments)};else{var n,o=[],r=[],s=0;$.requestAnimationFrame=function(e){return o.push([++s,e]),n||(n=setInterval(function(){if(o.length){var e=$.now(),t=r;for(r=o,o=t;r.length;)r.shift()[1](e)}else clearInterval(n),n=void 0},20)),s},$.cancelAnimationFrame=function(e){var t,i;for(t=0,i=o.length;t<i;t+=1)if(o[t][0]===e)return void o.splice(t,1);for(t=0,i=r.length;t<i;t+=1)if(r[t][0]===e)return void r.splice(t,1)}}}(window)}(OpenSeadragon),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.OpenSeadragon=t()}(this,function(){return OpenSeadragon}),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(OpenSeadragon),function(r){r.EventSource=function(){this.events={}},r.EventSource.prototype={addOnceHandler:function(t,i,e,n){var o=this;n=n||1;var r=0,s=function(e){++r===n&&o.removeHandler(t,s),i(e)};this.addHandler(t,s,e)},addHandler:function(e,t,i){var n=this.events[e];n||(this.events[e]=n=[]),t&&r.isFunction(t)&&(n[n.length]={handler:t,userData:i||null})},removeHandler:function(e,t){var i,n=this.events[e],o=[];if(n&&r.isArray(n)){for(i=0;i<n.length;i++)n[i].handler!==t&&o.push(n[i]);this.events[e]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var o=this.events[e];return o&&o.length?(o=1===o.length?[o[0]]:Array.apply(null,o),function(e,t){var i,n=o.length;for(i=0;i<n;i++)o[i]&&(t.eventSource=e,t.userData=o[i].userData,o[i].handler(t))}):null},raiseEvent:function(e,t){var i=this.getHandler(e);i&&(t||(t={}),i(this,t))}}}(OpenSeadragon),function(m){var l,r,c,s,n,e,u=[],g={};function o(e){var t,i=g[e.hash],n=i.activePointersLists.length;for(t=0;t<n;t++)0<i.activePointersLists[t].captureCount&&(m.removeEvent(m.MouseTracker.captureElement,"mousemove",i.mousemovecaptured,!0),m.removeEvent(m.MouseTracker.captureElement,"mouseup",i.mouseupcaptured,!0),m.removeEvent(m.MouseTracker.captureElement,m.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",i.pointermovecaptured,!0),m.removeEvent(m.MouseTracker.captureElement,m.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",i.pointerupcaptured,!0),m.removeEvent(m.MouseTracker.captureElement,"touchmove",i.touchmovecaptured,!0),m.removeEvent(m.MouseTracker.captureElement,"touchend",i.touchendcaptured,!0),i.activePointersLists[t].captureCount=0);for(t=0;t<n;t++)i.activePointersLists.pop()}function t(e){var t,i,n=g[e.hash];if(n.tracking){for(i=0;i<m.MouseTracker.subscribeEvents.length;i++)t=m.MouseTracker.subscribeEvents[i],m.removeEvent(e.element,t,n[t],!1);o(e),n.tracking=!1}}function a(e,t){var i=g[e.hash];if("pointerevent"===t)return{upName:m.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:i.pointerupcaptured,moveName:m.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:i.pointermovecaptured};if("mouse"===t)return{upName:"mouseup",upHandler:i.mouseupcaptured,moveName:"mousemove",moveHandler:i.mousemovecaptured};if("touch"===t)return{upName:"touchend",upHandler:i.touchendcaptured,moveName:"touchmove",moveHandler:i.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function d(e,t,i){var n,o=e.getActivePointersListByType(t);o.captureCount+=i||1,1===o.captureCount&&(m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?e.element.setCapture(!0):(n=a(e,m.MouseTracker.havePointerEvents?"pointerevent":t),U&&V(window.top)&&m.addEvent(window.top,n.upName,n.upHandler,!0),m.addEvent(m.MouseTracker.captureElement,n.upName,n.upHandler,!0),m.addEvent(m.MouseTracker.captureElement,n.moveName,n.moveHandler,!0)))}function h(e,t,i){var n,o=e.getActivePointersListByType(t);o.captureCount-=i||1,0===o.captureCount&&(m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?e.element.releaseCapture():(n=a(e,m.MouseTracker.havePointerEvents?"pointerevent":t),U&&V(window.top)&&m.removeEvent(window.top,n.upName,n.upHandler,!0),m.removeEvent(m.MouseTracker.captureElement,n.moveName,n.moveHandler,!0),m.removeEvent(m.MouseTracker.captureElement,n.upName,n.upHandler,!0)))}function p(e){var t;if(m.MouseTracker.unprefixedPointerEvents)t=e.pointerType;else switch(e.pointerType){case 2:t="touch";break;case 3:t="pen";break;case 4:t="mouse";break;default:t=""}return t}function f(e){return m.getMousePosition(e)}function v(e,t){return y(f(e),t)}function y(e,t){var i=m.getElementOffset(t);return e.minus(i)}function w(e,t){return new m.Point((e.x+t.x)/2,(e.y+t.y)/2)}function i(e,t){var i={target:(t=m.getEvent(t)).target||t.srcElement,type:"wheel",shiftKey:t.shiftKey||!1,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX?t.pageX:t.clientX,pageY:t.pageY?t.pageY:t.clientY,deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==m.MouseTracker.wheelEventName?i.deltaY=-t.wheelDelta/m.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=t.detail,x(e,i,t)}function x(e,t,i){var n;n=t.deltaY<0?1:-1,e.scrollHandler&&!1===e.scrollHandler({eventSource:e,pointerType:"mouse",position:v(t,e.element),scroll:n,shift:t.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(i)}function b(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function S(e,t){j(e,t,[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:f(t),currentTime:m.now()}])}function T(e,t){B(e,t,[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:f(t),currentTime:m.now()}])}function E(e){return m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?1===e?0:2===e?2:4===e?1:-1:e}function C(e,t){q(e,t=m.getEvent(t),[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:f(t),currentTime:m.now()}],E(t.button))&&h(e,"mouse")}function _(e,t){W(e,t=m.getEvent(t),[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:f(t),currentTime:m.now()}])}function P(e,t,i){var n,o=i.getLength(),r=[];if("touch"===i.type||0<i.contacts){for(n=0;n<o;n++)r.push(i.getByIndex(n));0<r.length&&(q(e,t,r,0),i.captureCount=1,h(e,i.type),B(e,t,r))}}function k(e,t){var i,n,o,r,s=t.changedTouches.length,a=[];for(i=m.now(),n=0;n<s;n++)a.push({id:t.changedTouches[n].identifier,type:"touch",currentPos:f(t.changedTouches[n]),currentTime:i});for(q(e,t,a,0)&&h(e,"touch",s),B(e,t,a),n=0;n<u.length;n++)if(u[n]!==e&&u[n].isTracking()&&b(u[n].element,e.element)){for(r=[],o=0;o<s;o++)r.push({id:t.changedTouches[o].identifier,type:"touch",currentPos:f(t.changedTouches[o]),currentTime:i});B(u[n],t,r)}m.cancelEvent(t)}function I(e,t){var i,n=t.changedTouches.length,o=[];for(i=0;i<n;i++)o.push({id:t.changedTouches[i].identifier,type:"touch",currentPos:f(t.changedTouches[i]),currentTime:m.now()});W(e,t,o),m.cancelEvent(t)}function A(e,t){t.currentTarget===t.relatedTarget||b(t.currentTarget,t.relatedTarget)||j(e,t,[{id:t.pointerId,type:p(t),isPrimary:t.isPrimary,currentPos:f(t),currentTime:m.now()}])}function R(e,t){t.currentTarget===t.relatedTarget||b(t.currentTarget,t.relatedTarget)||B(e,t,[{id:t.pointerId,type:p(t),isPrimary:t.isPrimary,currentPos:f(t),currentTime:m.now()}])}function O(e,t){var i;$(e,t,[i={id:t.pointerId,type:p(t),isPrimary:t.isPrimary,currentPos:f(t),currentTime:m.now()}],t.button)&&(m.stopEvent(t),d(e,i.type)),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler||e.pinchHandler)&&m.cancelEvent(t)}function L(e,t){N(e,t)}function N(e,t){var i;q(e,t,[i={id:t.pointerId,type:p(t),isPrimary:t.isPrimary,currentPos:f(t),currentTime:m.now()}],t.button)&&h(e,i.type)}function D(e,t){M(e,t)}function M(e,t){W(e,t,[{id:t.pointerId,type:p(t),isPrimary:t.isPrimary,currentPos:f(t),currentTime:m.now()}])}function z(e,t){var i,n,o;i=e,o=[{id:(n=t).pointerId,type:p(t)}],q(i,n,o,0),B(i,n,o)}function H(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function F(e,t){var i,n;return e.getById(t.id)?(i=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(n=e.getPrimary())||(n=e.getByIndex(0))&&(n.isPrimary=!0)):i=e.getLength(),i}function j(e,t,i){var n,o,r,s=e.getActivePointersListByType(i[0].type),a=i.length;for(n=0;n<a;n++)o=i[n],(r=s.getById(o.id))?(r.insideElement=!0,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=o.currentPos,r.currentTime=o.currentTime,o=r):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,H(s,o)),e.enterHandler&&!1===e.enterHandler({eventSource:e,pointerType:o.type,position:y(o.currentPos,e.element),buttons:s.buttons,pointers:e.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)}function B(e,t,i){var n,o,r,s=e.getActivePointersListByType(i[0].type),a=i.length;for(n=0;n<a;n++)o=i[n],(r=s.getById(o.id))&&(r.captured?(r.insideElement=!1,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=o.currentPos,r.currentTime=o.currentTime):F(s,r),o=r),e.exitHandler&&!1===e.exitHandler({eventSource:e,pointerType:o.type,position:y(o.currentPos,e.element),buttons:s.buttons,pointers:e.getActivePointerCount(),insideElementPressed:!!r&&r.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)}function $(e,t,i,n){var o,r,s,a=g[e.hash],l=e.getActivePointersListByType(i[0].type),c=i.length;void 0!==t.buttons?l.buttons=t.buttons:m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?0===n?l.buttons+=1:1===n?l.buttons+=4:2===n?l.buttons+=2:3===n?l.buttons+=8:4===n?l.buttons+=16:5===n&&(l.buttons+=32):0===n?l.buttons|=1:1===n?l.buttons|=4:2===n?l.buttons|=2:3===n?l.buttons|=8:4===n?l.buttons|=16:5===n&&(l.buttons|=32);var u=e.getActivePointersListsExceptType(i[0].type);for(o=0;o<u.length;o++)P(e,t,u[o]);if(0!==n)return e.nonPrimaryPressHandler&&!1===e.nonPrimaryPressHandler({eventSource:e,pointerType:i[0].type,position:y(i[0].currentPos,e.element),button:n,buttons:l.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),!1;for(o=0;o<c;o++)r=i[o],(s=l.getById(r.id))?(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,s.contactPos=r.currentPos,s.contactTime=r.currentTime,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=r.currentPos,s.currentTime=r.currentTime,r=s):(r.captured=!0,r.insideElementPressed=!0,r.insideElement=!0,H(l,r)),l.addContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&m.MouseTracker.gesturePointVelocityTracker.addPoint(e,r),1===l.contacts?e.pressHandler&&!1===e.pressHandler({eventSource:e,pointerType:r.type,position:y(r.contactPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===r.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t):2===l.contacts&&e.pinchHandler&&"touch"===r.type&&(a.pinchGPoints=l.asArray(),a.lastPinchDist=a.currentPinchDist=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),a.lastPinchCenter=a.currentPinchCenter=w(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos));return!0}function q(e,t,i,n){var o,r,s,a,l,c,u=g[e.hash],d=e.getActivePointersListByType(i[0].type),h=i.length,p=!1,f=!1;if(void 0!==t.buttons?d.buttons=t.buttons:m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?0===n?d.buttons-=1:1===n?d.buttons-=4:2===n?d.buttons-=2:3===n?d.buttons-=8:4===n?d.buttons-=16:5===n&&(d.buttons-=32):0===n?d.buttons^=-2:1===n?d.buttons^=-5:2===n?d.buttons^=-3:3===n?d.buttons^=-9:4===n?d.buttons^=-17:5===n&&(d.buttons^=-33),0!==n)return e.nonPrimaryReleaseHandler&&!1===e.nonPrimaryReleaseHandler({eventSource:e,pointerType:i[0].type,position:y(i[0].currentPos,e.element),button:n,buttons:d.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),P(e,t,e.getActivePointersListByType("mouse")),!1;for(s=0;s<h;s++)a=i[s],(l=d.getById(a.id))&&(l.captured&&(f=p=!(l.captured=!1)),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=a.currentPos,l.currentTime=a.currentTime,l.insideElement||F(d,l),o=l.currentPos,r=l.currentTime,f?(d.removeContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&m.MouseTracker.gesturePointVelocityTracker.removePoint(e,l),0===d.contacts?(e.releaseHandler&&!1===e.releaseHandler({eventSource:e,pointerType:l.type,position:y(o,e.element),buttons:d.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),e.dragEndHandler&&!l.currentPos.equals(l.contactPos)&&!1===e.dragEndHandler({eventSource:e,pointerType:l.type,position:y(l.currentPos,e.element),speed:l.speed,direction:l.direction,shift:t.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),(e.clickHandler||e.dblClickHandler)&&l.insideElement&&(c=r-l.contactTime<=e.clickTimeThreshold&&l.contactPos.distanceTo(o)<=e.clickDistThreshold,e.clickHandler&&!1===e.clickHandler({eventSource:e,pointerType:l.type,position:y(l.currentPos,e.element),quick:c,shift:t.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),e.dblClickHandler&&c&&(d.clicks++,1===d.clicks?(u.lastClickPos=o,u.dblClickTimeOut=setTimeout(function(){d.clicks=0},e.dblClickTimeThreshold)):2===d.clicks&&(clearTimeout(u.dblClickTimeOut),d.clicks=0,u.lastClickPos.distanceTo(o)<=e.dblClickDistThreshold&&!1===e.dblClickHandler({eventSource:e,pointerType:l.type,position:y(l.currentPos,e.element),shift:t.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),u.lastClickPos=null)))):2===d.contacts&&e.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=d.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=w(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):e.releaseHandler&&!1===e.releaseHandler({eventSource:e,pointerType:l.type,position:y(o,e.element),buttons:d.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t));return p}function W(n,o,r){var e,t,i,s,a,l=g[n.hash],c=n.getActivePointersListByType(r[0].type),u=r.length;for(void 0!==o.buttons&&(c.buttons=o.buttons),e=0;e<u;e++)t=r[e],(i=c.getById(t.id))?(t.hasOwnProperty("isPrimary")&&(i.isPrimary=t.isPrimary),i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=t.currentPos,i.currentTime=t.currentTime):(t.captured=!1,t.insideElementPressed=!1,t.insideElement=!0,H(c,t));n.stopHandler&&"mouse"===r[0].type&&(clearTimeout(n.stopTimeOut),n.stopTimeOut=setTimeout(function(){var e,t,i;e=n,t=o,i=r[0].type,e.stopHandler&&e.stopHandler({eventSource:e,pointerType:i,position:v(t,e.element),buttons:e.getActivePointersListByType(i).buttons,isTouchEvent:"touch"===i,originalEvent:t,preventDefaultAction:!1,userData:e.userData})},n.stopDelay)),0===c.contacts?n.moveHandler&&!1===n.moveHandler({eventSource:n,pointerType:r[0].type,position:y(r[0].currentPos,n.element),buttons:c.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:o,preventDefaultAction:!1,userData:n.userData})&&m.cancelEvent(o):1===c.contacts?(n.moveHandler&&(i=c.asArray()[0],!1===n.moveHandler({eventSource:n,pointerType:i.type,position:y(i.currentPos,n.element),buttons:c.buttons,isTouchEvent:"touch"===i.type,originalEvent:o,preventDefaultAction:!1,userData:n.userData})&&m.cancelEvent(o)),n.dragHandler&&(a=(i=c.asArray()[0]).currentPos.minus(i.lastPos),!1===n.dragHandler({eventSource:n,pointerType:i.type,position:y(i.currentPos,n.element),buttons:c.buttons,delta:a,speed:i.speed,direction:i.direction,shift:o.shiftKey,isTouchEvent:"touch"===i.type,originalEvent:o,preventDefaultAction:!1,userData:n.userData})&&m.cancelEvent(o))):2===c.contacts&&(n.moveHandler&&(s=c.asArray(),!1===n.moveHandler({eventSource:n,pointerType:s[0].type,position:y(w(s[0].currentPos,s[1].currentPos),n.element),buttons:c.buttons,isTouchEvent:"touch"===s[0].type,originalEvent:o,preventDefaultAction:!1,userData:n.userData})&&m.cancelEvent(o)),n.pinchHandler&&"touch"===r[0].type&&(a=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos))!=l.currentPinchDist&&(l.lastPinchDist=l.currentPinchDist,l.currentPinchDist=a,l.lastPinchCenter=l.currentPinchCenter,l.currentPinchCenter=w(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos),!1===n.pinchHandler({eventSource:n,pointerType:"touch",gesturePoints:l.pinchGPoints,lastCenter:y(l.lastPinchCenter,n.element),center:y(l.currentPinchCenter,n.element),lastDistance:l.lastPinchDist,distance:l.currentPinchDist,shift:o.shiftKey,originalEvent:o,preventDefaultAction:!1,userData:n.userData})&&m.cancelEvent(o)))}m.MouseTracker=function(e){u.push(this);var t=arguments;m.isPlainObject(e)||(e={element:t[0],clickTimeThreshold:t[1],clickDistThreshold:t[2]}),this.hash=Math.random(),this.element=m.getElement(e.element),this.clickTimeThreshold=e.clickTimeThreshold||m.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=e.clickDistThreshold||m.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=e.dblClickTimeThreshold||m.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=e.dblClickDistThreshold||m.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=e.userData||null,this.stopDelay=e.stopDelay||50,this.enterHandler=e.enterHandler||null,this.exitHandler=e.exitHandler||null,this.pressHandler=e.pressHandler||null,this.nonPrimaryPressHandler=e.nonPrimaryPressHandler||null,this.releaseHandler=e.releaseHandler||null,this.nonPrimaryReleaseHandler=e.nonPrimaryReleaseHandler||null,this.moveHandler=e.moveHandler||null,this.scrollHandler=e.scrollHandler||null,this.clickHandler=e.clickHandler||null,this.dblClickHandler=e.dblClickHandler||null,this.dragHandler=e.dragHandler||null,this.dragEndHandler=e.dragEndHandler||null,this.pinchHandler=e.pinchHandler||null,this.stopHandler=e.stopHandler||null,this.keyDownHandler=e.keyDownHandler||null,this.keyUpHandler=e.keyUpHandler||null,this.keyHandler=e.keyHandler||null,this.focusHandler=e.focusHandler||null,this.blurHandler=e.blurHandler||null;var n=this;g[this.hash]={click:function(e){var t;t=e,n.clickHandler&&m.cancelEvent(t)},dblclick:function(e){var t;t=e,n.dblClickHandler&&m.cancelEvent(t)},keydown:function(e){var t,i;i=e,(t=n).keyDownHandler&&(i=m.getEvent(i),t.keyDownHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||m.cancelEvent(i))},keyup:function(e){var t,i;i=e,(t=n).keyUpHandler&&(i=m.getEvent(i),t.keyUpHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||m.cancelEvent(i))},keypress:function(e){var t,i;i=e,(t=n).keyHandler&&(i=m.getEvent(i),t.keyHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||m.cancelEvent(i))},focus:function(e){var t,i;i=e,(t=n).focusHandler&&(i=m.getEvent(i),!1===t.focusHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&m.cancelEvent(i))},blur:function(e){var t,i;i=e,(t=n).blurHandler&&(i=m.getEvent(i),!1===t.blurHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&m.cancelEvent(i))},wheel:function(e){var t;x(n,t=e,t)},mousewheel:function(e){i(n,e)},DOMMouseScroll:function(e){i(n,e)},MozMousePixelScroll:function(e){i(n,e)},mouseenter:function(e){var t;t=e,S(n,t=m.getEvent(t))},mouseleave:function(e){var t;t=e,T(n,t=m.getEvent(t))},mouseover:function(e){var t,i;t=n,i=e,(i=m.getEvent(i)).currentTarget===i.relatedTarget||b(i.currentTarget,i.relatedTarget)||S(t,i)},mouseout:function(e){var t,i;t=n,i=e,(i=m.getEvent(i)).currentTarget===i.relatedTarget||b(i.currentTarget,i.relatedTarget)||T(t,i)},mousedown:function(e){var t,i;i=e,$(t=n,i=m.getEvent(i),[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:f(i),currentTime:m.now()}],E(i.button))&&(m.stopEvent(i),d(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&m.cancelEvent(i)},mouseup:function(e){C(n,e)},mouseupcaptured:function(e){var t;C(n,t=e),m.stopEvent(t)},mousemove:function(e){_(n,e)},mousemovecaptured:function(e){var t;_(n,t=e),m.stopEvent(t)},touchstart:function(e){!function(e,t){var i,n,o,r,s=t.changedTouches.length,a=[],l=e.getActivePointersListByType("touch");for(i=m.now(),l.getLength()>t.touches.length-s&&(m.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),P(e,t,l)),n=0;n<s;n++)a.push({id:t.changedTouches[n].identifier,type:"touch",currentPos:f(t.changedTouches[n]),currentTime:i});for(j(e,t,a),n=0;n<u.length;n++)if(u[n]!==e&&u[n].isTracking()&&b(u[n].element,e.element)){for(r=[],o=0;o<s;o++)r.push({id:t.changedTouches[o].identifier,type:"touch",currentPos:f(t.changedTouches[o]),currentTime:i});j(u[n],t,r)}$(e,t,a,0)&&(m.stopEvent(t),d(e,"touch",s)),m.cancelEvent(t)}(n,e)},touchend:function(e){k(n,e)},touchendcaptured:function(e){var t;k(n,t=e),m.stopEvent(t)},touchmove:function(e){I(n,e)},touchmovecaptured:function(e){var t;I(n,t=e),m.stopEvent(t)},touchcancel:function(e){P(n,e,n.getActivePointersListByType("touch"))},gesturestart:function(e){var t;(t=e).stopPropagation(),t.preventDefault()},gesturechange:function(e){var t;(t=e).stopPropagation(),t.preventDefault()},pointerover:function(e){A(n,e)},MSPointerOver:function(e){A(n,e)},pointerout:function(e){R(n,e)},MSPointerOut:function(e){R(n,e)},pointerdown:function(e){O(n,e)},MSPointerDown:function(e){O(n,e)},pointerup:function(e){L(n,e)},MSPointerUp:function(e){L(n,e)},pointermove:function(e){D(n,e)},MSPointerMove:function(e){D(n,e)},pointercancel:function(e){z(n,e)},MSPointerCancel:function(e){z(n,e)},pointerupcaptured:function(e){var t,i;i=e,(t=n).getActivePointersListByType(p(i)).getById(i.pointerId)&&N(t,i),m.stopEvent(i)},pointermovecaptured:function(e){var t,i;i=e,(t=n).getActivePointersListByType(p(i)).getById(i.pointerId)&&M(t,i),m.stopEvent(i)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},e.startDisabled||this.setTracking(!0)},m.MouseTracker.prototype={destroy:function(){var e;for(t(this),this.element=null,e=0;e<u.length;e++)if(u[e]===this){u.splice(e,1);break}g[this.hash]=null,delete g[this.hash]},isTracking:function(){return g[this.hash].tracking},setTracking:function(e){return e?function(e){var t,i,n=g[e.hash];if(!n.tracking){for(i=0;i<m.MouseTracker.subscribeEvents.length;i++)t=m.MouseTracker.subscribeEvents[i],m.addEvent(e.element,t,n[t],!1);o(e),n.tracking=!0}}(this):t(this),this},getActivePointersListsExceptType:function(e){for(var t=g[this.hash],i=[],n=0;n<t.activePointersLists.length;++n)t.activePointersLists[n].type!==e&&i.push(t.activePointersLists[n]);return i},getActivePointersListByType:function(e){var t,i,n=g[this.hash],o=n.activePointersLists.length;for(t=0;t<o;t++)if(n.activePointersLists[t].type===e)return n.activePointersLists[t];return i=new m.MouseTracker.GesturePointList(e),n.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=g[this.hash],i=t.activePointersLists.length,n=0;for(e=0;e<i;e++)n+=t.activePointersLists[e].getLength();return n},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},m.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<u.length;e++)u[e].isTracking()&&(u[e].setTracking(!1),u[e].setTracking(!0))},m.MouseTracker.gesturePointVelocityTracker=(l=[],c=r=0,s=function(e,t){return e.hash.toString()+t.type+t.id.toString()},n=function(){var e,t,i,n,o,r,s=l.length,a=m.now();for(n=a-c,c=a,e=0;e<s;e++)(i=(t=l[e]).gPoint).direction=Math.atan2(i.currentPos.y-t.lastPos.y,i.currentPos.x-t.lastPos.x),o=t.lastPos.distanceTo(i.currentPos),t.lastPos=i.currentPos,r=1e3*o/(n+1),i.speed=.75*r+.25*i.speed},{addPoint:function(e,t){var i=s(e,t);l.push({guid:i,gPoint:t,lastPos:t.currentPos}),1===l.length&&(c=m.now(),r=window.setInterval(n,50))},removePoint:function(e,t){var i,n=s(e,t),o=l.length;for(i=0;i<o;i++)if(l[i].guid===n){l.splice(i,1),0==--o&&window.clearInterval(r);break}}}),m.MouseTracker.captureElement=document,m.MouseTracker.wheelEventName=m.Browser.vendor==m.BROWSERS.IE&&8<m.Browser.version||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",m.MouseTracker.supportsMouseCapture=(e=document.createElement("div"),m.isFunction(e.setCapture)&&m.isFunction(e.releaseCapture)),m.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",m.MouseTracker.wheelEventName],"DOMMouseScroll"==m.MouseTracker.wheelEventName&&m.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||m.Browser.vendor!==m.BROWSERS.IE)?(m.MouseTracker.havePointerEvents=!0,m.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),m.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?m.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:m.MouseTracker.maxTouchPoints=0,m.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(m.MouseTracker.havePointerEvents=!0,m.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),m.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?m.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:m.MouseTracker.maxTouchPoints=0,m.MouseTracker.haveMouseEnter=!1):(m.MouseTracker.havePointerEvents=!1,m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?(m.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),m.MouseTracker.haveMouseEnter=!0):(m.MouseTracker.subscribeEvents.push("mouseover","mouseout"),m.MouseTracker.haveMouseEnter=!1),m.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&m.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&m.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),m.MouseTracker.mousePointerId="legacy-mouse",m.MouseTracker.maxTouchPoints=10),m.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},m.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,1<this.contacts&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var U=function(){try{return window.self!==window.top}catch(e){return!0}}();function V(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(o){o.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},o.Control=function(e,t,i){var n=e.parentNode;"number"==typeof t&&(o.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),t={anchor:t}),t.attachToViewer=void 0===t.attachToViewer||t.attachToViewer,this.autoFade=void 0===t.autoFade||t.autoFade,this.element=e,this.anchor=t.anchor,this.container=i,this.anchor==o.ControlAnchor.ABSOLUTE?(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof t.top?t.top+"px":t.top,this.wrapper.style.left="number"==typeof t.left?t.left+"px":t.left,this.wrapper.style.height="number"==typeof t.height?t.height+"px":t.height,this.wrapper.style.width="number"==typeof t.width?t.width+"px":t.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==o.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),t.attachToViewer?this.anchor==o.ControlAnchor.TOP_RIGHT||this.anchor==o.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):n.appendChild(this.wrapper)},o.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(e){this.wrapper.style.display=e?this.anchor==o.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(e){this.element[o.SIGNAL]&&o.Browser.vendor==o.BROWSERS.IE?o.setElementOpacity(this.element,e,!0):o.setElementOpacity(this.wrapper,e,!0)}}}(OpenSeadragon),function(o){function n(e,t){var i,n=e.controls;for(i=n.length-1;0<=i;i--)if(n[i].element==t)return i;return-1}o.ControlDock=function(e){var t,i,n=["topleft","topright","bottomright","bottomleft"];for(o.extend(!0,this,{id:"controldock-"+o.now()+"-"+Math.floor(1e6*Math.random()),container:o.makeNeutralElement("div"),controls:[]},e),this.container.onsubmit=function(){return!1},this.element&&(this.element=o.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<n.length;i++)t=n[i],this.controls[t]=o.makeNeutralElement("div"),this.controls[t].style.position="absolute",t.match("left")&&(this.controls[t].style.left="0px"),t.match("right")&&(this.controls[t].style.right="0px"),t.match("top")&&(this.controls[t].style.top="0px"),t.match("bottom")&&(this.controls[t].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},o.ControlDock.prototype={addControl:function(e,t){var i=null;if(!(0<=n(this,e=o.getElement(e)))){switch(t.anchor){case o.ControlAnchor.TOP_RIGHT:i=this.controls.topright,e.style.position="relative",e.style.paddingRight="0px",e.style.paddingTop="0px";break;case o.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,e.style.position="relative",e.style.paddingRight="0px",e.style.paddingBottom="0px";break;case o.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,e.style.position="relative",e.style.paddingLeft="0px",e.style.paddingBottom="0px";break;case o.ControlAnchor.TOP_LEFT:i=this.controls.topleft,e.style.position="relative",e.style.paddingLeft="0px",e.style.paddingTop="0px";break;case o.ControlAnchor.ABSOLUTE:i=this.container,e.style.margin="0px",e.style.padding="0px";break;default:case o.ControlAnchor.NONE:i=this.container,e.style.margin="0px",e.style.padding="0px"}this.controls.push(new o.Control(e,t,i)),e.style.display="inline-block"}},removeControl:function(e){var t=n(this,e=o.getElement(e));return 0<=t&&(this.controls[t].destroy(),this.controls.splice(t,1)),this},clearControls:function(){for(;0<this.controls.length;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;0<=e;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;0<=t;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(m){var d={},s=1;function h(e){return e=m.getElement(e),new m.Point(0===e.clientWidth?1:e.clientWidth,0===e.clientHeight?1:e.clientHeight)}function u(e,t){if(t instanceof m.Overlay)return t;var i=null;if(t.element)i=m.getElement(t.element);else{var n=t.id?t.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=m.getElement(t.id))||((i=document.createElement("a")).href="#/overlay/"+n),i.id=n,m.addClass(i,t.className?t.className:"openseadragon-overlay")}var o=t.location,r=t.width,s=t.height;if(!o){var a=t.x,l=t.y;if(void 0!==t.px){var c=e.viewport.imageToViewportRectangle(new m.Rect(t.px,t.py,r||0,s||0));a=c.x,l=c.y,r=void 0!==r?c.width:void 0,s=void 0!==s?c.height:void 0}o=new m.Point(a,l)}var u=t.placement;return u&&"string"===m.type(u)&&(u=m.Placement[t.placement.toUpperCase()]),new m.Overlay({element:i,location:o,placement:u,onDraw:t.onDraw,checkResize:t.checkResize,width:r,height:s,rotationMode:t.rotationMode})}function a(e,t){var i;for(i=e.length-1;0<=i;i--)if(e[i].element===t)return i;return-1}function l(e,t){return m.requestAnimationFrame(function(){t(e)})}function p(e){e.autoHideControls&&(e.controlsShouldFade=!0,e.controlsFadeBeginTime=m.now()+e.controlsFadeDelay,window.setTimeout(function(){!function n(e){m.requestAnimationFrame(function(){!function(e){var t,i;if(e.controlsShouldFade){for(t=1-(m.now()-e.controlsFadeBeginTime)/e.controlsFadeLength,t=Math.min(1,t),t=Math.max(0,t),i=e.controls.length-1;0<=i;i--)e.controls[i].autoFade&&e.controls[i].setOpacity(t);0<t&&n(e)}}(e)})}(e)},e.controlsFadeDelay))}function f(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;0<=t;t--)e.controls[t].setOpacity(1)}function g(){f(this)}function v(){p(this)}function c(e){var t={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",t),t.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return t.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return t.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return t.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return t.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function y(e){var t={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",t),t.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return t.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return t.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return t.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new m.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees-90):this.viewport.setRotation(this.viewport.degrees+90),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees+90):this.viewport.setRotation(this.viewport.degrees-90),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function w(e){var t;document.activeElement==this.canvas||this.canvas.focus(),this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",i),!i.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function x(e){var t,i={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-double-click",i),!i.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function b(e){var t,i={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",i),!i.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var n=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=n.x,this.viewport.centerSpringY.target.value+=n.y;var o=this.viewport.getBounds(),r=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=n.x,this.viewport.centerSpringY.target.value-=n.y,o.x!=r.x&&(e.delta.x=0),o.y!=r.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function S(e){if(!e.preventDefaultAction&&this.viewport){var t=this.gestureSettingsByDeviceType(e.pointerType);if(t.flickEnabled&&e.speed>=t.flickMinSpeed){var i=0;this.panHorizontal&&(i=t.flickMomentum*e.speed*Math.cos(e.direction));var n=0;this.panVertical&&(n=t.flickMomentum*e.speed*Math.sin(e.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),r=this.viewport.pointFromPixel(new m.Point(o.x-i,o.y-n));this.viewport.panTo(r,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:e.eventSource,position:e.position,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent})}function T(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function E(e){window.location!=window.parent.location&&m.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function C(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function _(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function P(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function k(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function I(e){var t,i,n;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(i=this.viewport.pointFromPixel(e.center,!0),n=this.viewport.pointFromPixel(e.lastCenter,!0).minus(i),this.panHorizontal||(n.x=0),this.panVertical||(n.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,i,!0),t.zoomToRefPoint&&this.viewport.panBy(n,!0),this.viewport.applyConstraints()),t.pinchRotate)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),r=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-r)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function A(e){var t,i,n;if((n=m.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=n,this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x),!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,e.scroll),this.viewport.zoomBy(i,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),t&&t.scrollToZoom)return!1}else if((t=this.gestureSettingsByDeviceType(e.pointerType))&&t.scrollToZoom)return!1}function R(e){d[this.hash].mouseInside=!0,f(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function O(e){e.pointers<1&&(d[this.hash].mouseInside=!1,d[this.hash].animating||p(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function L(e){!function(e){if(!e._opening){if(e.autoResize){var t=h(e.container),i=d[e.hash].prevContainerSize;if(!t.equals(i)){var n=e.viewport;if(e.preserveImageSizeOnResize){var o=i.x/t.x,r=n.getZoom()*o,s=n.getCenter();n.resize(t,!1),n.zoomTo(r,null,!0),n.panTo(s,!0)}else{var a=n.getBounds();n.resize(t,!0),n.fitBoundsWithConstraints(a,!0)}d[e.hash].prevContainerSize=t,d[e.hash].forceRedraw=!0}}var l,c=e.viewport.update(),u=e.world.update()||c;c&&e.raiseEvent("viewport-change"),e.referenceStrip&&(u=e.referenceStrip.update(e.viewport)||u),!d[e.hash].animating&&u&&(e.raiseEvent("animation-start"),f(e)),(u||d[e.hash].forceRedraw||e.world.needsDraw())&&((l=e).imageLoader.clear(),l.drawer.clear(),l.world.draw(),l.raiseEvent("update-viewport",{}),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),d[e.hash].forceRedraw=!1,u&&e.raiseEvent("animation")),d[e.hash].animating&&!u&&(e.raiseEvent("animation-finish"),d[e.hash].mouseInside||p(e)),d[e.hash].animating=u}}(e),e.isOpen()?e._updateRequestId=l(e,L):e._updateRequestId=!1}function N(e,t){return e?e+t:t}function D(){d[this.hash].lastZoomTime=m.now(),d[this.hash].zoomFactor=this.zoomPerSecond,d[this.hash].zooming=!0,n(this)}function M(){d[this.hash].lastZoomTime=m.now(),d[this.hash].zoomFactor=1/this.zoomPerSecond,d[this.hash].zooming=!0,n(this)}function z(){d[this.hash].zooming=!1}function n(e){m.requestAnimationFrame(m.delegate(e,t))}function t(){var e,t,i;d[this.hash].zooming&&this.viewport&&(t=(e=m.now())-d[this.hash].lastZoomTime,i=Math.pow(d[this.hash].zoomFactor,t/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),d[this.hash].lastZoomTime=e,n(this))}function H(){this.viewport&&(d[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function F(){this.viewport&&(d[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function j(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function B(){this.viewport&&this.viewport.goHome()}function $(){this.isFullPage()&&!m.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function q(){if(this.viewport){var e=this.viewport.getRotation();e=this.viewport.flipped?m.positiveModulo(e+90,360):m.positiveModulo(e-90,360),this.viewport.setRotation(e)}}function W(){if(this.viewport){var e=this.viewport.getRotation();e=this.viewport.flipped?m.positiveModulo(e-90,360):m.positiveModulo(e+90,360),this.viewport.setRotation(e)}}function U(){this.viewport.toggleFlip()}function V(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function G(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}m.Viewer=function(e){var t,i,n,o=arguments,r=this;if(m.isPlainObject(e)||(e={id:o[0],xmlPath:1<o.length?o[1]:void 0,prefixUrl:2<o.length?o[2]:void 0,controls:3<o.length?o[3]:void 0,overlays:4<o.length?o[4]:void 0}),e.config&&(m.extend(!0,e,e.config),delete e.config),m.extend(!0,this,{id:e.id,hash:e.hash||s++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},m.DEFAULT_SETTINGS,e),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==d[this.hash]&&m.console.warn("Hash "+this.hash+" has already been used."),d[this.hash]={fsBoundsDelta:new m.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=m.now(),m.EventSource.call(this),this.addHandler("open-failed",function(e){var t=m.getString("Errors.OpenFailed",e.eventSource,e.message);r._showMessage(t)}),m.ControlDock.call(this,e),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=m.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(i=this.canvas.style).width="100%",i.height="100%",i.overflow="hidden",i.position="absolute",i.top="0px",i.left="0px",m.setElementTouchActionNone(this.canvas),""!==e.tabIndex&&(this.canvas.tabIndex=void 0===e.tabIndex?0:e.tabIndex),this.container.className="openseadragon-container",(n=this.container.style).width="100%",n.height="100%",n.position="relative",n.overflow="hidden",n.left="0px",n.top="0px",n.textAlign="left",this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new m.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:m.delegate(this,c),keyHandler:m.delegate(this,y),clickHandler:m.delegate(this,w),dblClickHandler:m.delegate(this,x),dragHandler:m.delegate(this,b),dragEndHandler:m.delegate(this,S),enterHandler:m.delegate(this,T),exitHandler:m.delegate(this,E),pressHandler:m.delegate(this,C),releaseHandler:m.delegate(this,_),nonPrimaryPressHandler:m.delegate(this,P),nonPrimaryReleaseHandler:m.delegate(this,k),scrollHandler:m.delegate(this,A),pinchHandler:m.delegate(this,I)}),this.outerTracker=new m.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:m.delegate(this,R),exitHandler:m.delegate(this,O)}),this.toolbar&&(this.toolbar=new m.ControlDock({element:this.toolbar})),this.bindStandardControls(),d[this.hash].prevContainerSize=h(this.container),this.world=new m.World({viewer:this}),this.world.addHandler("add-item",function(e){r.source=r.world.getItemAt(0).source,d[r.hash].forceRedraw=!0,r._updateRequestId||(r._updateRequestId=l(r,L))}),this.world.addHandler("remove-item",function(e){r.world.getItemCount()?r.source=r.world.getItemAt(0).source:r.source=null,d[r.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){r.viewport&&r.viewport._setContentBounds(r.world.getHomeBounds(),r.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){r.source=r.world.getItemAt(0).source}),this.viewport=new m.Viewport({containerSize:d[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new m.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:e.timeout}),this.tileCache=new m.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new m.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=m.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(t=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(t,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(t=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(t,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new m.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),t=0;t<this.customControls.length;t++)this.addControl(this.customControls[t].id,{anchor:this.customControls[t].anchor});m.requestAnimationFrame(function(){p(r)})},m.extend(m.Viewer.prototype,m.EventSource.prototype,m.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(e){return m.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(e)},openTileSource:function(e){return m.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(e)},open:function(i,e){var o=this;if(this.close(),i)if(this.sequenceMode&&m.isArray(i))this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===e||isNaN(e)||(this.initialPage=e),this.tileSources=i,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);else if(m.isArray(i)||(i=[i]),i.length){this._opening=!0;for(var r,n=i.length,s=0,a=0,l=function(){if(s+a===n)if(s){!o._firstOpen&&o.preserveViewport||(o.viewport.goHome(!0),o.viewport.update()),o._firstOpen=!1;var e=i[0];if(e.tileSource&&(e=e.tileSource),o.overlays&&!o.preserveOverlays)for(var t=0;t<o.overlays.length;t++)o.currentOverlays[t]=u(o,o.overlays[t]);o._drawOverlays(),o._opening=!1,o.raiseEvent("open",{source:e})}else o._opening=!1,o.raiseEvent("open-failed",r)},t=function(i){m.isPlainObject(i)&&i.tileSource||(i={tileSource:i}),void 0!==i.index&&(m.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete i.index),void 0===i.collectionImmediately&&(i.collectionImmediately=!0);var n=i.success;i.success=function(e){if(s++,i.tileSource.overlays)for(var t=0;t<i.tileSource.overlays.length;t++)o.addOverlay(i.tileSource.overlays[t]);n&&n(e),l()};var t=i.error;i.error=function(e){a++,r||(r=e),t&&t(e),l()},o.addTiledImage(i)},c=0;c<i.length;c++)t(i[c]);return this}},close:function(){return d[this.hash]&&(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),d[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close")),this},destroy:function(){if(d[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(m.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),d[this.hash]=null,delete d[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?f(this):p(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return d[this.hash].fullPage},setFullPage:function(e){var t,i,n=document.body,o=n.style,r=document.documentElement.style,s=this;if(e==this.isFullPage())return this;var a={fullPage:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",a),a.preventDefaultAction)return this;if(e){for(this.elementSize=m.getElementSize(this.element),this.pageScroll=m.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=o.margin,this.docMargin=r.margin,o.margin="0",r.margin="0",this.bodyPadding=o.padding,this.docPadding=r.padding,o.padding="0",r.padding="0",this.bodyWidth=o.width,this.docWidth=r.width,o.width="100%",r.width="100%",this.bodyHeight=o.height,this.docHeight=r.height,o.height="100%",r.height="100%",this.previousBody=[],d[this.hash].prevElementParent=this.element.parentNode,d[this.hash].prevNextSibling=this.element.nextSibling,d[this.hash].prevElementWidth=this.element.style.width,d[this.hash].prevElementHeight=this.element.style.height,t=n.childNodes.length,i=0;i<t;i++)this.previousBody.push(n.childNodes[0]),n.removeChild(n.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,n.appendChild(this.toolbar.element),m.addClass(this.toolbar.element,"fullpage")),m.addClass(this.element,"fullpage"),n.appendChild(this.element),this.element.style.height=m.getWindowSize().y+"px",this.element.style.width=m.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=m.getElementSize(this.element).y-m.getElementSize(this.toolbar.element).y+"px"),d[this.hash].fullPage=!0,m.delegate(this,R)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,o.margin=this.bodyMargin,r.margin=this.docMargin,o.padding=this.bodyPadding,r.padding=this.docPadding,o.width=this.bodyWidth,r.width=this.docWidth,o.height=this.bodyHeight,r.height=this.docHeight,n.removeChild(this.element),t=this.previousBody.length,i=0;i<t;i++)n.appendChild(this.previousBody.shift());m.removeClass(this.element,"fullpage"),d[this.hash].prevElementParent.insertBefore(this.element,d[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(n.removeChild(this.toolbar.element),m.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=d[this.hash].prevElementWidth,this.element.style.height=d[this.hash].prevElementHeight;var l=0,c=function(){m.setPageScroll(s.pageScroll);var e=m.getPageScroll();++l<10&&(e.x!==s.pageScroll.x||e.y!==s.pageScroll.y)&&m.requestAnimationFrame(c)};m.requestAnimationFrame(c),d[this.hash].fullPage=!1,m.delegate(this,O)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:e}),this},setFullScreen:function(e){var t=this;if(!m.supportsFullScreen)return this.setFullPage(e);if(m.isFullScreen()===e)return this;var i={fullScreen:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(e){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var n=function(){var e=m.isFullScreen();e||(m.removeEvent(document,m.fullScreenEventName,n),m.removeEvent(document,m.fullScreenErrorEventName,n),t.setFullPage(!1),t.isFullPage()&&(t.element.style.width=t.fullPageStyleWidth,t.element.style.height=t.fullPageStyleHeight)),t.navigator&&t.viewport&&t.navigator.update(t.viewport),t.raiseEvent("full-screen",{fullScreen:e})};m.addEvent(document,m.fullScreenEventName,n),m.addEvent(document,m.fullScreenErrorEventName,n),m.requestFullScreen(document.body)}else m.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(i){m.console.assert(i,"[Viewer.addTiledImage] options is required"),m.console.assert(i.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),m.console.assert(!i.replace||-1<i.index&&i.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var o=this;i.replace&&(i.replaceItem=o.world.getItemAt(i.index)),this._hideMessage(),void 0===i.placeholderFillStyle&&(i.placeholderFillStyle=this.placeholderFillStyle),void 0===i.opacity&&(i.opacity=this.opacity),void 0===i.preload&&(i.preload=this.preload),void 0===i.compositeOperation&&(i.compositeOperation=this.compositeOperation),void 0===i.crossOriginPolicy&&(i.crossOriginPolicy=void 0!==i.tileSource.crossOriginPolicy?i.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=this.ajaxWithCredentials),void 0===i.loadTilesWithAjax&&(i.loadTilesWithAjax=this.loadTilesWithAjax),void 0===i.ajaxHeaders||null===i.ajaxHeaders?i.ajaxHeaders=this.ajaxHeaders:m.isPlainObject(i.ajaxHeaders)&&m.isPlainObject(this.ajaxHeaders)&&(i.ajaxHeaders=m.extend({},this.ajaxHeaders,i.ajaxHeaders));var n={options:i};function t(e){for(var t=0;t<o._loadQueue.length;t++)if(o._loadQueue[t]===n){o._loadQueue.splice(t,1);break}0===o._loadQueue.length&&r(n),o.raiseEvent("add-item-failed",e),i.error&&i.error(e)}function r(e){o.collectionMode&&(o.world.arrange({immediately:e.options.collectionImmediately,rows:o.collectionRows,columns:o.collectionColumns,layout:o.collectionLayout,tileSize:o.collectionTileSize,tileMargin:o.collectionTileMargin}),o.world.setAutoRefigureSizes(!0))}function s(){for(var e,t,i;o._loadQueue.length&&(e=o._loadQueue[0]).tileSource;){if(o._loadQueue.splice(0,1),e.options.replace){var n=o.world.getIndexOfItem(e.options.replaceItem);-1!=n&&(e.options.index=n),o.world.removeItem(e.options.replaceItem)}t=new m.TiledImage({viewer:o,source:e.tileSource,viewport:o.viewport,drawer:o.drawer,tileCache:o.tileCache,imageLoader:o.imageLoader,x:e.options.x,y:e.options.y,width:e.options.width,height:e.options.height,fitBounds:e.options.fitBounds,fitBoundsPlacement:e.options.fitBoundsPlacement,clip:e.options.clip,placeholderFillStyle:e.options.placeholderFillStyle,opacity:e.options.opacity,preload:e.options.preload,degrees:e.options.degrees,compositeOperation:e.options.compositeOperation,springStiffness:o.springStiffness,animationTime:o.animationTime,minZoomImageRatio:o.minZoomImageRatio,wrapHorizontal:o.wrapHorizontal,wrapVertical:o.wrapVertical,immediateRender:o.immediateRender,blendTime:o.blendTime,alwaysBlend:o.alwaysBlend,minPixelRatio:o.minPixelRatio,smoothTileEdgesMinZoom:o.smoothTileEdgesMinZoom,iOSDevice:o.iOSDevice,crossOriginPolicy:e.options.crossOriginPolicy,ajaxWithCredentials:e.options.ajaxWithCredentials,loadTilesWithAjax:e.options.loadTilesWithAjax,ajaxHeaders:e.options.ajaxHeaders,debugMode:o.debugMode}),o.collectionMode&&o.world.setAutoRefigureSizes(!1),o.world.addItem(t,{index:e.options.index}),0===o._loadQueue.length&&r(e),1!==o.world.getItemCount()||o.preserveViewport||o.viewport.goHome(!0),o.navigator&&(i=m.extend({},e.options,{replace:!1,originalTiledImage:t,tileSource:e.tileSource}),o.navigator.addTiledImage(i)),e.options.success&&e.options.success({item:t})}}m.isArray(i.tileSource)?setTimeout(function(){t({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:i.tileSource,options:i})}):(this._loadQueue.push(n),function(i,n,o,r,s){var a=i;if("string"==m.type(n))if(n.match(/^\s*<.*>\s*$/))n=m.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var e=m.parseJSON(n);n=e}catch(e){}function l(e,t){e.ready?r(e):(e.addHandler("ready",function(){r(e)}),e.addHandler("open-failed",function(e){s({message:e.message,source:t})}))}setTimeout(function(){if("string"==m.type(n))(n=new m.TileSource({url:n,crossOriginPolicy:void 0!==o.crossOriginPolicy?o.crossOriginPolicy:i.crossOriginPolicy,ajaxWithCredentials:i.ajaxWithCredentials,ajaxHeaders:i.ajaxHeaders,useCanvas:i.useCanvas,success:function(e){r(e.tileSource)}})).addHandler("open-failed",function(e){s(e)});else if(m.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===o.crossOriginPolicy&&void 0===i.crossOriginPolicy||(n.crossOriginPolicy=void 0!==o.crossOriginPolicy?o.crossOriginPolicy:i.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=i.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=i.useCanvas),m.isFunction(n.getTileUrl)){var e=new m.TileSource(n);e.getTileUrl=n.getTileUrl,r(e)}else{var t=m.TileSource.determineType(a,n);if(!t)return void s({message:"Unable to load TileSource",source:n});l(new t(t.prototype.configure.apply(a,[n])),n)}else l(n,n)})}(this,i.tileSource,i,function(e){n.tileSource=e,s()},function(e){e.options=i,t(e),s()}))},addSimpleImage:function(e){m.console.assert(e,"[Viewer.addSimpleImage] options is required"),m.console.assert(e.url,"[Viewer.addSimpleImage] options.url is required");var t=m.extend({},e,{tileSource:{type:"image",url:e.url}});delete t.url,this.addTiledImage(t)},addLayer:function(t){var i=this;m.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var e=m.extend({},t,{success:function(e){i.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){i.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(e),this},getLayerAtLevel:function(e){return m.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(e)},getLevelOfLayer:function(e){return m.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(e)},getLayersCount:function(){return m.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(e,t){return m.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(e,t)},removeLayer:function(e){return m.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(e)},forceRedraw:function(){return d[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var e=m.delegate(this,g),t=m.delegate(this,v),i=m.delegate(this,G),n=m.delegate(this,V),o=this.navImages,r=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(r=!1),this.previousButton=new m.Button({element:this.previousButton?m.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.PreviousPage"),srcRest:N(this.prefixUrl,o.previous.REST),srcGroup:N(this.prefixUrl,o.previous.GROUP),srcHover:N(this.prefixUrl,o.previous.HOVER),srcDown:N(this.prefixUrl,o.previous.DOWN),onRelease:n,onFocus:e,onBlur:t}),this.nextButton=new m.Button({element:this.nextButton?m.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.NextPage"),srcRest:N(this.prefixUrl,o.next.REST),srcGroup:N(this.prefixUrl,o.next.GROUP),srcHover:N(this.prefixUrl,o.next.HOVER),srcDown:N(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:e,onBlur:t}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),r&&(this.paging=new m.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:m.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||m.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var e=m.delegate(this,D),t=m.delegate(this,z),i=m.delegate(this,H),n=m.delegate(this,M),o=m.delegate(this,F),r=m.delegate(this,B),s=m.delegate(this,$),a=m.delegate(this,q),l=m.delegate(this,W),c=m.delegate(this,U),u=m.delegate(this,g),d=m.delegate(this,v),h=this.navImages,p=[],f=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(f=!1),this.showZoomControl&&(p.push(this.zoomInButton=new m.Button({element:this.zoomInButton?m.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.ZoomIn"),srcRest:N(this.prefixUrl,h.zoomIn.REST),srcGroup:N(this.prefixUrl,h.zoomIn.GROUP),srcHover:N(this.prefixUrl,h.zoomIn.HOVER),srcDown:N(this.prefixUrl,h.zoomIn.DOWN),onPress:e,onRelease:t,onClick:i,onEnter:e,onExit:t,onFocus:u,onBlur:d})),p.push(this.zoomOutButton=new m.Button({element:this.zoomOutButton?m.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.ZoomOut"),srcRest:N(this.prefixUrl,h.zoomOut.REST),srcGroup:N(this.prefixUrl,h.zoomOut.GROUP),srcHover:N(this.prefixUrl,h.zoomOut.HOVER),srcDown:N(this.prefixUrl,h.zoomOut.DOWN),onPress:n,onRelease:t,onClick:o,onEnter:n,onExit:t,onFocus:u,onBlur:d}))),this.showHomeControl&&p.push(this.homeButton=new m.Button({element:this.homeButton?m.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.Home"),srcRest:N(this.prefixUrl,h.home.REST),srcGroup:N(this.prefixUrl,h.home.GROUP),srcHover:N(this.prefixUrl,h.home.HOVER),srcDown:N(this.prefixUrl,h.home.DOWN),onRelease:r,onFocus:u,onBlur:d})),this.showFullPageControl&&p.push(this.fullPageButton=new m.Button({element:this.fullPageButton?m.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.FullPage"),srcRest:N(this.prefixUrl,h.fullpage.REST),srcGroup:N(this.prefixUrl,h.fullpage.GROUP),srcHover:N(this.prefixUrl,h.fullpage.HOVER),srcDown:N(this.prefixUrl,h.fullpage.DOWN),onRelease:s,onFocus:u,onBlur:d})),this.showRotationControl&&(p.push(this.rotateLeftButton=new m.Button({element:this.rotateLeftButton?m.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.RotateLeft"),srcRest:N(this.prefixUrl,h.rotateleft.REST),srcGroup:N(this.prefixUrl,h.rotateleft.GROUP),srcHover:N(this.prefixUrl,h.rotateleft.HOVER),srcDown:N(this.prefixUrl,h.rotateleft.DOWN),onRelease:a,onFocus:u,onBlur:d})),p.push(this.rotateRightButton=new m.Button({element:this.rotateRightButton?m.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.RotateRight"),srcRest:N(this.prefixUrl,h.rotateright.REST),srcGroup:N(this.prefixUrl,h.rotateright.GROUP),srcHover:N(this.prefixUrl,h.rotateright.HOVER),srcDown:N(this.prefixUrl,h.rotateright.DOWN),onRelease:l,onFocus:u,onBlur:d}))),this.showFlipControl&&p.push(this.flipButton=new m.Button({element:this.flipButton?m.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:m.getString("Tooltips.Flip"),srcRest:N(this.prefixUrl,h.flip.REST),srcGroup:N(this.prefixUrl,h.flip.GROUP),srcHover:N(this.prefixUrl,h.flip.HOVER),srcDown:N(this.prefixUrl,h.flip.DOWN),onRelease:c,onFocus:u,onBlur:d})),f&&(this.buttons=new m.ButtonGroup({buttons:p,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",m.delegate(this,j)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||m.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||m.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&0<=e&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(e,t,i,n){var o;if(o=m.isPlainObject(e)?e:{element:e,location:t,placement:i,onDraw:n},e=m.getElement(o.element),0<=a(this.currentOverlays,e))return this;var r=u(this,o);return this.currentOverlays.push(r),r.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:e,location:o.location,placement:o.placement}),this},updateOverlay:function(e,t,i){var n;return e=m.getElement(e),0<=(n=a(this.currentOverlays,e))&&(this.currentOverlays[n].update(t,i),d[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:e,location:t,placement:i})),this},removeOverlay:function(e){var t;return e=m.getElement(e),0<=(t=a(this.currentOverlays,e))&&(this.currentOverlays[t].destroy(),this.currentOverlays.splice(t,1),d[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:e})),this},clearOverlays:function(){for(;0<this.currentOverlays.length;)this.currentOverlays.pop().destroy();return d[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(e){var t;return e=m.getElement(e),0<=(t=a(this.currentOverlays,e))?this.currentOverlays[t]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(0<e?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(e){this._hideMessage();var t=m.makeNeutralElement("div");t.appendChild(document.createTextNode(e)),this.messageDiv=m.makeCenteredNode(t),m.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&1<this.tileSources.length&&(this.referenceStrip=new m.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else m.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(u){function d(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(i.x=this.viewer.viewport.getCenter(!0).x):i.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(i),this.viewer.viewport.applyConstraints()}}function h(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function p(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function f(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function m(e,t){i(e,"rotate("+t+"deg)")}function i(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}u.Navigator=function(e){var t,i,n,o,r,s,a=e.viewer,l=this;function c(e){m(l.displayRegionContainer,e),m(l.displayRegion,-e),l.viewport.setRotation(e)}e.id?(this.element=document.getElementById(e.id),e.controlOptions={anchor:u.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(e.id="navigator-"+u.now(),this.element=u.makeNeutralElement("div"),e.controlOptions={anchor:u.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:e.autoFade},e.position&&("BOTTOM_RIGHT"==e.position?e.controlOptions.anchor=u.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==e.position?e.controlOptions.anchor=u.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==e.position?e.controlOptions.anchor=u.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==e.position?e.controlOptions.anchor=u.ControlAnchor.TOP_LEFT:"ABSOLUTE"==e.position&&(e.controlOptions.anchor=u.ControlAnchor.ABSOLUTE,e.controlOptions.top=e.top,e.controlOptions.left=e.left,e.controlOptions.height=e.height,e.controlOptions.width=e.width))),this.element.id=e.id,this.element.className+=" navigator",(e=u.extend(!0,{sizeRatio:u.DEFAULT_SETTINGS.navigatorSizeRatio},e,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:e.autoResize,minZoomImageRatio:1,background:e.background,opacity:e.opacity,borderColor:e.borderColor,displayRegionColor:e.displayRegionColor})).minPixelRatio=this.minPixelRatio=a.minPixelRatio,u.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new u.Point(1,1),this.totalBorderWidths=new u.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),e.controlOptions.anchor!=u.ControlAnchor.NONE&&(n=this.element.style,o=this.borderWidth,n.margin="0px",n.border=o+"px solid "+e.borderColor,n.padding="0px",n.background=e.background,n.opacity=e.opacity,n.overflow="hidden"),this.displayRegion=u.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",r=this.displayRegion.style,s=this.borderWidth,r.position="relative",r.top="0px",r.left="0px",r.fontSize="0px",r.overflow="hidden",r.border=s+"px solid "+e.displayRegionColor,r.margin="0px",r.padding="0px",r.background="transparent",r.float="left",r.cssFloat="left",r.styleFloat="left",r.zIndex=999999999,r.cursor="default",this.displayRegionContainer=u.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",a.addControl(this.element,e.controlOptions),this._resizeWithViewer=e.controlOptions.anchor!=u.ControlAnchor.ABSOLUTE&&e.controlOptions.anchor!=u.ControlAnchor.NONE,this._resizeWithViewer&&(e.width&&e.height?(this.element.style.height="number"==typeof e.height?e.height+"px":e.height,this.element.style.width="number"==typeof e.width?e.width+"px":e.width):(t=u.getElementSize(a.element),this.element.style.height=Math.round(t.y*e.sizeRatio)+"px",this.element.style.width=Math.round(t.x*e.sizeRatio)+"px",this.oldViewerSize=t),i=u.getElementSize(this.element),this.elementArea=i.x*i.y),this.oldContainerSize=new u.Point(0,0),u.Viewer.apply(this,[e]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),e.navigatorRotate&&(c(e.viewer.viewport?e.viewer.viewport.getRotation():e.viewer.degrees||0),e.viewer.addHandler("rotate",function(e){c(e.degrees)})),this.innerTracker.destroy(),this.innerTracker=new u.MouseTracker({element:this.element,dragHandler:u.delegate(this,h),clickHandler:u.delegate(this,d),releaseHandler:u.delegate(this,p),scrollHandler:u.delegate(this,f)}),this.addHandler("reset-size",function(){l.viewport&&l.viewport.goHome(!0)}),a.world.addHandler("item-index-change",function(t){window.setTimeout(function(){var e=l.world.getItemAt(t.previousIndex);l.world.setItemIndex(e,t.newIndex)},1)}),a.world.addHandler("remove-item",function(e){var t=e.item,i=l._getMatchingItem(t);i&&l.world.removeItem(i)}),this.update(a.viewport)},u.extend(u.Navigator.prototype,u.EventSource.prototype,u.Viewer.prototype,{updateSize:function(){if(this.viewport){var e=new u.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);e.equals(this.oldContainerSize)||(this.viewport.resize(e,!0),this.viewport.goHome(!0),this.oldContainerSize=e,this.drawer.clear(),this.world.draw())}},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){i(this.displayRegion,e),i(this.canvas,e),i(this.element,e)},update:function(e){var t,i,n,o,r,s;if(t=u.getElementSize(this.viewer.element),this._resizeWithViewer&&t.x&&t.y&&!t.equals(this.oldViewerSize)&&(this.oldViewerSize=t,this.maintainSizeRatio||!this.elementArea?(i=t.x*this.sizeRatio,n=t.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(t.x/t.y)),n=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(n)+"px",this.elementArea||(this.elementArea=i*n),this.updateSize()),e&&this.viewport){o=e.getBoundsNoRotate(!0),r=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var a=this.displayRegion.style;a.display=this.world.getItemCount()?"block":"none",a.top=Math.round(r.y)+"px",a.left=Math.round(r.x)+"px";var l=Math.abs(r.x-s.x),c=Math.abs(r.y-s.y);a.width=Math.round(Math.max(l,0))+"px",a.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(e){var n=this,o=e.originalTiledImage;delete e.original;var t=u.extend({},e,{success:function(e){var t=e.item;function i(){n._matchBounds(t,o)}t._originalForNavigator=o,n._matchBounds(t,o,!0),o.addHandler("bounds-change",i),o.addHandler("clip-change",i),o.addHandler("opacity-change",function(){n._matchOpacity(t,o)}),o.addHandler("composite-operation-change",function(){n._matchCompositeOperation(t,o)})}});return u.Viewer.prototype.addTiledImage.apply(this,[t])},_getMatchingItem:function(e){for(var t,i=this.world.getItemCount(),n=0;n<i;n++)if((t=this.world.getItemAt(n))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,i){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),i),e.setWidth(n.width,i),e.setRotation(t.getRotation(),i),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(s){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};s.extend(s,{getString:function(e){var t,i=e.split("."),n=null,o=arguments,r=a;for(t=0;t<i.length-1;t++)r=r[i[t]]||{};return"string"!=typeof(n=r[i[t]])&&(s.console.log("Untranslated source string:",e),n=""),n.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<o.length?o[t]:""})},setString:function(e,t){var i,n=e.split("."),o=a;for(i=0;i<n.length-1;i++)o[n[i]]||(o[n[i]]={}),o=o[n[i]];o[n[i]]=t}})}(OpenSeadragon),function(a){a.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},plus:function(e){return new a.Point(this.x+e.x,this.y+e.y)},minus:function(e){return new a.Point(this.x-e.x,this.y-e.y)},times:function(e){return new a.Point(this.x*e,this.y*e)},divide:function(e){return new a.Point(this.x/e,this.y/e)},negate:function(){return new a.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(e){return new a.Point(e(this.x),e(this.y))},equals:function(e){return e instanceof a.Point&&this.x===e.x&&this.y===e.y},rotate:function(e,t){var i,n;if(t=t||new a.Point(0,0),e%90==0)switch(a.positiveModulo(e,360)){case 0:i=1,n=0;break;case 90:i=0,n=1;break;case 180:i=-1,n=0;break;case 270:i=0,n=-1}else{var o=e*Math.PI/180;i=Math.cos(o),n=Math.sin(o)}var r=i*(this.x-t.x)-n*(this.y-t.y)+t.x,s=n*(this.x-t.x)+i*(this.y-t.y)+t.y;return new a.Point(r,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(h){h.TileSource=function(e,t,i,n,o,r){var s,a,l=this,c=arguments;if(s=h.isPlainObject(e)?e:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},h.EventSource.call(this),h.extend(!0,this,s),!this.success)for(a=0;a<arguments.length;a++)if(h.isFunction(arguments[a])){this.success=arguments[a];break}this.success&&this.addHandler("ready",function(e){l.success(e)}),"string"==h.type(e)&&(this.url=e),this.url?(this.aspectRatio=1,this.dimensions=new h.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new h.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&h.isFunction(this.success)&&this.success(this))},h.TileSource.prototype={getTileSize:function(e){return h.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,i={};for(t=0;t<=this.maxLevel;t++)i[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return i[e]},this.getLevelScale(e)},getNumTiles:function(e){var t=this.getLevelScale(e),i=Math.ceil(t*this.dimensions.x/this.getTileWidth(e)),n=Math.ceil(t*this.dimensions.y/this.getTileHeight(e));return new h.Point(i,n)},getPixelRatio:function(e){var t=this.dimensions.times(this.getLevelScale(e)),i=1/t.x,n=1/t.y;return new h.Point(i,n)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!(1<(t=this.getNumTiles(e)).x||1<t.y);e++);return e-1},getTileAtPoint:function(e,t){var i=0<=t.x&&t.x<=1&&0<=t.y&&t.y<=1/this.aspectRatio;h.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var n=this.dimensions.x*this.getLevelScale(e),o=t.x*n,r=t.y*n,s=Math.floor(o/this.getTileWidth(e)),a=Math.floor(r/this.getTileHeight(e));return 1<=t.x&&(s=this.getNumTiles(e).x-1),t.y>=1/this.aspectRatio-1e-15&&(a=this.getNumTiles(e).y-1),new h.Point(s,a)},getTileBounds:function(e,t,i,n){var o=this.dimensions.times(this.getLevelScale(e)),r=this.getTileWidth(e),s=this.getTileHeight(e),a=0===t?0:r*t-this.tileOverlap,l=0===i?0:s*i-this.tileOverlap,c=r+(0===t?1:2)*this.tileOverlap,u=s+(0===i?1:2)*this.tileOverlap,d=1/o.x;return c=Math.min(c,o.x-a),u=Math.min(u,o.y-l),n?new h.Rect(0,0,c,u):new h.Rect(a*d,l*d,c*d,u*d)},getImageInfo:function(n){var e,i,o,r,t,s,a,l=this;n&&-1<(a=(s=(t=n.split("/"))[t.length-1]).lastIndexOf("."))&&(t[t.length-1]=s.slice(0,a)),i=function(e){"string"==typeof e&&(e=h.parseXml(e));var t=h.TileSource.determineType(l,e,n);t?(void 0===(r=t.prototype.configure.apply(l,[e,n])).ajaxWithCredentials&&(r.ajaxWithCredentials=l.ajaxWithCredentials),o=new t(r),l.ready=!0,l.raiseEvent("ready",{tileSource:o})):l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:n})},n.match(/\.js$/)?(e=n.split("/").pop().replace(".js",""),h.jsonp({url:n,async:!1,callbackName:e,callback:i})):h.makeAjaxRequest({url:n,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var t=function(t){var e,i,n=t.responseText,o=t.status;if(!t)throw new Error(h.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw e=404==(o=t.status)?"Not Found":t.statusText,new Error(h.getString("Errors.Status",o,e));if(n.match(/\s*<.*/))try{i=t.responseXML&&t.responseXML.documentElement?t.responseXML:h.parseXml(n)}catch(e){i=t.responseText}else if(n.match(/\s*[\{\[].*/))try{i=h.parseJSON(n)}catch(e){i=n}else i=n;return i}(e);i(t)},error:function(e,t){var i;try{i="HTTP "+e.status+" attempting to load TileSource"}catch(e){i=(void 0!==t&&t.toString?t.toString():"Unknown error")+" attempting to load TileSource"}l.raiseEvent("open-failed",{message:i,source:n})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,i){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,i){return{}},tileExists:function(e,t,i){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&0<=t&&0<=i&&t<n.x&&i<n.y}},h.extend(!0,h.TileSource.prototype,h.EventSource.prototype),h.TileSource.determineType=function(e,t,i){var n;for(n in OpenSeadragon)if(n.match(/.+TileSource$/)&&h.isFunction(OpenSeadragon[n])&&h.isFunction(OpenSeadragon[n].prototype.supports)&&OpenSeadragon[n].prototype.supports.call(e,t,i))return OpenSeadragon[n];h.console.error("No TileSource was able to open %s %s",i,t)}}(OpenSeadragon),function(f){function p(e,t){var i,n,o=t.Image,r=o.Url,s=o.Format,a=o.Size,l=o.DisplayRect||[],c=parseInt(a.Width,10),u=parseInt(a.Height,10),d=parseInt(o.TileSize,10),h=parseInt(o.Overlap,10),p=[];for(n=0;n<l.length;n++)i=l[n].Rect,p.push(new f.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return f.extend(!0,{width:c,height:u,tileSize:d,tileOverlap:h,minLevel:null,maxLevel:null,tilesUrl:r,fileFormat:s,displayRects:p},t)}f.DziTileSource=function(e,t,i,n,o,r,s,a,l){var c,u,d,h;if(h=f.isPlainObject(e)?e:{width:e,height:t,tileSize:i,tileOverlap:n,tilesUrl:o,fileFormat:r,displayRects:s,minLevel:a,maxLevel:l},this._levelRects={},this.tilesUrl=h.tilesUrl,this.fileFormat=h.fileFormat,this.displayRects=h.displayRects,this.displayRects)for(c=this.displayRects.length-1;0<=c;c--)for(d=(u=this.displayRects[c]).minLevel;d<=u.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(u);f.TileSource.apply(this,[h])},f.extend(f.DziTileSource.prototype,f.TileSource.prototype,{supports:function(e,t){var i;return e.Image?i=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(i=e.documentElement.namespaceURI)),-1!==(i=(i||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==i.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(e,t){var i;return i=f.isPlainObject(e)?p(this,e):function(e,t){if(!t||!t.documentElement)throw new Error(f.getString("Errors.Xml"));var i,n,o,r,s,a=t.documentElement,l=a.localName||a.tagName,c=t.documentElement.namespaceURI,u=null,d=[];if("Image"==l)try{if(void 0===(r=a.getElementsByTagName("Size")[0])&&(r=a.getElementsByTagNameNS(c,"Size")[0]),u={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:a.getAttribute("Url"),Format:a.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(a.getAttribute("Overlap"),10),TileSize:parseInt(a.getAttribute("TileSize"),10),Size:{Height:parseInt(r.getAttribute("Height"),10),Width:parseInt(r.getAttribute("Width"),10)}}},!f.imageFormatSupported(u.Image.Format))throw new Error(f.getString("Errors.ImageFormat",u.Image.Format.toUpperCase()));for(void 0===(i=a.getElementsByTagName("DisplayRect"))&&(i=a.getElementsByTagNameNS(c,"DisplayRect")[0]),s=0;s<i.length;s++)void 0===(o=(n=i[s]).getElementsByTagName("Rect")[0])&&(o=n.getElementsByTagNameNS(c,"Rect")[0]),d.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(n.getAttribute("MinLevel"),10),MaxLevel:parseInt(n.getAttribute("MaxLevel"),10)}});return d.length&&(u.Image.DisplayRect=d),p(e,u)}catch(e){throw e instanceof Error?e:new Error(f.getString("Errors.Dzi"))}else{if("Collection"==l)throw new Error(f.getString("Errors.Dzc"));if("Error"==l){var h=a.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(h)}}throw new Error(f.getString("Errors.Dzi"))}(this,e),t&&!i.tilesUrl&&(i.tilesUrl=t.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=t.search(/\.(dzi|xml|js)\?/)?i.queryParams=t.match(/\?.*/):i.queryParams=""),i},getTileUrl:function(e,t,i){return[this.tilesUrl,e,"/",t,"_",i,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,i){var n,o,r,s,a,l,c,u=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;0<=c;c--)if(!(e<(n=u[c]).minLevel||e>n.maxLevel)&&(o=this.getLevelScale(e),r=n.x*o,s=n.y*o,a=r+n.width*o,l=s+n.height*o,r=Math.floor(r/this._tileWidth),s=Math.floor(s/this._tileWidth),a=Math.ceil(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),r<=t&&t<a&&s<=i&&i<l))return!0;return!1}})}(OpenSeadragon),function(u){u.IIIFTileSource=function(e){if(u.extend(!0,this,e),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(e.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)e.tileWidth=this.tile_width,e.tileHeight=this.tile_height;else if(this.tile_width)e.tileSize=this.tile_width;else if(this.tile_height)e.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)e.tileWidth=this.tiles[0].width,e.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var t=0;t<this.tiles.length;t++)for(var i=0;i<this.tiles[t].scaleFactors.length;i++){var n=this.tiles[t].scaleFactors[i];this.scale_factors.push(n),e.tileSizePerScaleFactor[n]={width:this.tiles[t].width,height:this.tiles[t].height||this.tiles[t].width}}}else if(l=e.profile,-1==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(l[0])||-1!=l.indexOf("sizeByW")){for(var o=Math.min(this.height,this.width),r=[256,512,1024],s=[],a=0;a<r.length;a++)r[a]<=o&&s.push(r[a]);0<s.length?e.tileSize=Math.max.apply(null,s):e.tileSize=o}else this.sizes&&0<this.sizes.length?(this.emulateLegacyImagePyramid=!0,e.levels=function(e){for(var t=[],i=0;i<e.sizes.length;i++)t.push({url:e["@id"]+"/full/"+e.sizes[i].width+",/0/default.jpg",width:e.sizes[i].width,height:e.sizes[i].height});return t.sort(function(e,t){return e.width-t.width})}(this),u.extend(!0,e,{width:e.levels[e.levels.length-1].width,height:e.levels[e.levels.length-1].height,tileSize:Math.max(e.height,e.width),tileOverlap:0,minLevel:0,maxLevel:e.levels.length-1}),this.levels=e.levels):u.console.error("Nothing in the info.json to construct image pyramids from");var l;if(!e.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var c=Math.max.apply(null,this.scale_factors);e.maxLevel=Math.round(Math.log(c)*Math.LOG2E)}else e.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));u.TileSource.apply(this,[e])},u.extend(u.IIIFTileSource.prototype,u.TileSource.prototype,{supports:function(e,t){return!!(e.protocol&&"http://iiif.io/api/image"==e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"==e["@context"]||"http://iiif.io/api/image/1/context.json"==e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height||e.documentElement&&"info"==e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==e.documentElement.namespaceURI)},configure:function(e,t){if(u.isPlainObject(e))return e["@context"]||(e["@context"]="http://iiif.io/api/image/1.0/context.json",e["@id"]=t.replace("/info.json","")),e;var i=function(e){if(!e||!e.documentElement)throw new Error(u.getString("Errors.Xml"));var t=e.documentElement,i=null;if("info"==t.tagName)try{return function e(t,i,n){var o,r;if(3==t.nodeType&&n)(r=t.nodeValue.trim()).match(/^\d*$/)&&(r=Number(r)),i[n]?(u.isArray(i[n])||(i[n]=[i[n]]),i[n].push(r)):i[n]=r;else if(1==t.nodeType)for(o=0;o<t.childNodes.length;o++)e(t.childNodes[o],i,t.nodeName)}(t,i={}),i}catch(e){throw e instanceof Error?e:new Error(u.getString("Errors.IIIF"))}throw new Error(u.getString("Errors.IIIF"))}(e);return i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=t.replace("/info.xml",""),i},getTileWidth:function(e){if(this.emulateLegacyImagePyramid)return u.TileSource.prototype.getTileWidth.call(this,e);var t=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[t]?this.tileSizePerScaleFactor[t].width:this._tileWidth},getTileHeight:function(e){if(this.emulateLegacyImagePyramid)return u.TileSource.prototype.getTileHeight.call(this,e);var t=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[t]?this.tileSizePerScaleFactor[t].height:this._tileHeight},getLevelScale:function(e){if(this.emulateLegacyImagePyramid){var t=NaN;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t}return u.TileSource.prototype.getLevelScale.call(this,e)},getNumTiles:function(e){return this.emulateLegacyImagePyramid?this.getLevelScale(e)?new u.Point(1,1):new u.Point(0,0):u.TileSource.prototype.getNumTiles.call(this,e)},getTileAtPoint:function(e,t){return this.emulateLegacyImagePyramid?new u.Point(0,0):u.TileSource.prototype.getTileAtPoint.call(this,e,t)},getTileUrl:function(e,t,i){if(this.emulateLegacyImagePyramid){var n=null;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}var o,r,s,a,l,c,u,d,h,p,f,m=Math.pow(.5,this.maxLevel-e),g=Math.ceil(this.width*m),v=Math.ceil(this.height*m);return o=this.getTileWidth(e),r=this.getTileHeight(e),s=Math.ceil(o/m),a=Math.ceil(r/m),f=-1<this["@context"].indexOf("/1.0/context.json")||-1<this["@context"].indexOf("/1.1/context.json")||-1<this["@context"].indexOf("/1/context.json")?"native.jpg":"default.jpg",g<o&&v<r?(p=g+",",l="full"):(c=t*s,u=i*a,d=Math.min(s,this.width-c),h=Math.min(a,this.height-u),p=Math.ceil(d*m)+",",l=[c,u,d,h].join(",")),[this["@id"],l,p,"0",f].join("/")}})}(OpenSeadragon),function(s){s.OsmTileSource=function(e,t,i,n,o){var r;(r=s.isPlainObject(e)?e:{width:e,height:t,tileSize:i,tileOverlap:n,tilesUrl:o}).width&&r.height||(r.width=65572864,r.height=65572864),r.tileSize||(r.tileSize=256,r.tileOverlap=0),r.tilesUrl||(r.tilesUrl="http://tile.openstreetmap.org/"),r.minLevel=8,s.TileSource.apply(this,[r])},s.extend(s.OsmTileSource.prototype,s.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,i){return this.tilesUrl+(e-8)+"/"+t+"/"+i+".png"}})}(OpenSeadragon),function(c){c.TmsTileSource=function(e,t,i,n,o){var r;r=c.isPlainObject(e)?e:{width:e,height:t,tileSize:i,tileOverlap:n,tilesUrl:o};var s,a=256*Math.ceil(r.width/256),l=256*Math.ceil(r.height/256);s=l<a?a/256:l/256,r.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,r.tileSize=256,r.width=a,r.height=l,c.TileSource.apply(this,[r])},c.extend(c.TmsTileSource.prototype,c.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,i){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(n-i)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,i){return{x:Math.ceil(e/i),y:Math.ceil(t/i)}},_calculateAbsoluteTileNumber:function(e,t,i){for(var n=0,o={},r=0;r<e;r++)n+=(o=this.gridSize[r]).x*o.y;return n+((o=this.gridSize[e]).x*i+t)},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,i){var n,o=this._calculateAbsoluteTileNumber(e,t,i);return n=Math.floor(o/256),this.tilesUrl+"TileGroup"+n+"/"+e+"-"+t+"-"+i+".jpg"}})}(OpenSeadragon),function(l){function c(e,t){return t.levels}l.LegacyTileSource=function(e){var t,i,n;l.isArray(e)&&(t={type:"legacy-image-pyramid",levels:e}),t.levels=function(e){var t,i,n=[];for(i=0;i<e.length;i++)(t=e[i]).height&&t.width&&t.url?n.push({url:t.url,width:Number(t.width),height:Number(t.height)}):l.console.error("Unsupported image format: %s",t.url?t.url:"<no URL>");return n.sort(function(e,t){return e.height-t.height})}(t.levels),0<t.levels.length?(i=t.levels[t.levels.length-1].width,n=t.levels[t.levels.length-1].height):(n=i=0,l.console.error("No supported image formats found")),l.extend(!0,t,{width:i,height:n,tileSize:Math.max(n,i),tileOverlap:0,minLevel:0,maxLevel:0<t.levels.length?t.levels.length-1:0}),l.TileSource.apply(this,[t]),this.levels=t.levels},l.extend(l.LegacyTileSource.prototype,l.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(e,t){return l.isPlainObject(e)?c(this,e):function(e,t){if(!t||!t.documentElement)throw new Error(l.getString("Errors.Xml"));var i,n,o=t.documentElement,r=o.tagName,s=null,a=[];if("image"==r)try{for(s={type:o.getAttribute("type"),levels:[]},a=o.getElementsByTagName("level"),n=0;n<a.length;n++)i=a[n],s.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return c(e,s)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==r)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==r)throw new Error("Error: "+t)}throw new Error("Unknown element "+r)}(this,e)},getLevelScale:function(e){var t=NaN;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){return this.getLevelScale(e)?new l.Point(1,1):new l.Point(0,0)},getTileUrl:function(e,t,i){var n=null;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}})}(OpenSeadragon),function(a){a.ImageTileSource=function(e){e=a.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},e),a.TileSource.apply(this,[e])},a.extend(a.ImageTileSource.prototype,a.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(e){var t=this._image=new Image,i=this;this.crossOriginPolicy&&(t.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(t.useCredentials=this.ajaxWithCredentials),a.addEvent(t,"load",function(){i.width=Object.prototype.hasOwnProperty.call(t,"naturalWidth")?t.naturalWidth:t.width,i.height=Object.prototype.hasOwnProperty.call(t,"naturalHeight")?t.naturalHeight:t.height,i.aspectRatio=i.width/i.height,i.dimensions=new a.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})}),a.addEvent(t,"error",function(){i.raiseEvent("open-failed",{message:"Error loading image at "+e,source:e})}),t.src=e},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){return this.getLevelScale(e)?new a.Point(1,1):new a.Point(0,0)},getTileUrl:function(e,t,i){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n},getContext2D:function(e,t,i){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].context2D),n},_buildLevels:function(){var e=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!a.supportsCanvas||!this.useCanvas)return delete this._image,e;var t=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,n=document.createElement("canvas"),o=n.getContext("2d");if(n.width=t,n.height=i,o.drawImage(this._image,0,0,t,i),e[0].context2D=o,delete this._image,a.isCanvasTainted(n))return e;for(;2<=t&&2<=i;){t=Math.floor(t/2),i=Math.floor(i/2);var r=document.createElement("canvas"),s=r.getContext("2d");r.width=t,r.height=i,s.drawImage(n,0,0,t,i),e.splice(0,0,{context2D:s,width:t,height:i}),n=r,o=s}return e}})}(OpenSeadragon),function(o){o.TileSourceCollection=function(e,t,i,n){o.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(o){function i(e,t){var i;e.element.disabled||(t>=o.ButtonState.GROUP&&e.currentState==o.ButtonState.REST&&((i=e).shouldFade=!1,i.imgGroup&&o.setElementOpacity(i.imgGroup,1,!0),e.currentState=o.ButtonState.GROUP),t>=o.ButtonState.HOVER&&e.currentState==o.ButtonState.GROUP&&(e.imgHover&&(e.imgHover.style.visibility=""),e.currentState=o.ButtonState.HOVER),t>=o.ButtonState.DOWN&&e.currentState==o.ButtonState.HOVER&&(e.imgDown&&(e.imgDown.style.visibility=""),e.currentState=o.ButtonState.DOWN))}function n(e,t){var i;e.element.disabled||(t<=o.ButtonState.HOVER&&e.currentState==o.ButtonState.DOWN&&(e.imgDown&&(e.imgDown.style.visibility="hidden"),e.currentState=o.ButtonState.HOVER),t<=o.ButtonState.GROUP&&e.currentState==o.ButtonState.HOVER&&(e.imgHover&&(e.imgHover.style.visibility="hidden"),e.currentState=o.ButtonState.GROUP),t<=o.ButtonState.REST&&e.currentState==o.ButtonState.GROUP&&((i=e).shouldFade=!0,i.fadeBeginTime=o.now()+i.fadeDelay,window.setTimeout(function(){!function i(n){o.requestAnimationFrame(function(){var e,t;(e=n).shouldFade&&(t=1-(o.now()-e.fadeBeginTime)/e.fadeLength,t=Math.min(1,t),t=Math.max(0,t),e.imgGroup&&o.setElementOpacity(e.imgGroup,t,!0),0<t&&i(e))})}(i)},i.fadeDelay),e.currentState=o.ButtonState.REST))}o.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},o.Button=function(e){var t=this;o.EventSource.call(this),o.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},e),this.element=e.element||o.makeNeutralElement("div"),e.element||(this.imgRest=o.makeTransparentImage(this.srcRest),this.imgGroup=o.makeTransparentImage(this.srcGroup),this.imgHover=o.makeTransparentImage(this.srcHover),this.imgDown=o.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",o.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",o.Browser.vendor==o.BROWSERS.FIREFOX&&o.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=o.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new o.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){e.insideElementPressed?(i(t,o.ButtonState.DOWN),t.raiseEvent("enter",{originalEvent:e.originalEvent})):e.buttonDownAny||i(t,o.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),t.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(e){n(t,o.ButtonState.GROUP),e.insideElementPressed&&t.raiseEvent("exit",{originalEvent:e.originalEvent})},blurHandler:function(e){this.exitHandler(e),t.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(e){i(t,o.ButtonState.DOWN),t.raiseEvent("press",{originalEvent:e.originalEvent})},releaseHandler:function(e){e.insideElementPressed&&e.insideElementReleased?(n(t,o.ButtonState.HOVER),t.raiseEvent("release",{originalEvent:e.originalEvent})):e.insideElementPressed?n(t,o.ButtonState.GROUP):i(t,o.ButtonState.HOVER)},clickHandler:function(e){e.quick&&t.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(t.raiseEvent("click",{originalEvent:e.originalEvent}),t.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),n(this,o.ButtonState.REST)},o.extend(o.Button.prototype,o.EventSource.prototype,{notifyGroupEnter:function(){i(this,o.ButtonState.GROUP)},notifyGroupExit:function(){n(this,o.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,o.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,o.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(o){o.ButtonGroup=function(e){o.extend(!0,this,{buttons:[],clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},e);var t,i=this.buttons.concat([]),n=this;if(this.element=e.element||o.makeNeutralElement("div"),!e.group)for(this.label=o.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),t=0;t<i.length;t++)this.element.appendChild(i[t].element);o.setElementTouchActionNone(this.element),this.tracker=new o.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<n.buttons.length;t++)n.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<n.buttons.length;t++)n.buttons[t].notifyGroupExit()}})},o.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(C){C.Rect=function(e,t,i,n,o){var r,s;this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.width="number"==typeof i?i:0,this.height="number"==typeof n?n:0,this.degrees="number"==typeof o?o:0,this.degrees=C.positiveModulo(this.degrees,360),270<=this.degrees?(r=this.getTopRight(),this.x=r.x,this.y=r.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):180<=this.degrees?(r=this.getBottomRight(),this.x=r.x,this.y=r.y,this.degrees-=180):90<=this.degrees&&(r=this.getBottomLeft(),this.x=r.x,this.y=r.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},C.Rect.fromSummits=function(e,t,i){var n=e.distanceTo(t),o=e.distanceTo(i),r=t.minus(e),s=Math.atan(r.y/r.x);return r.x<0?s+=Math.PI:r.y<0&&(s+=2*Math.PI),new C.Rect(e.x,e.y,n,o,s/Math.PI*180)},C.Rect.prototype={clone:function(){return new C.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new C.Point(this.x,this.y)},getBottomRight:function(){return new C.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new C.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new C.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new C.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new C.Point(this.width,this.height)},equals:function(e){return e instanceof C.Rect&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height&&this.degrees===e.degrees},times:function(e){return new C.Rect(this.x*e,this.y*e,this.width*e,this.height*e,this.degrees)},translate:function(e){return new C.Rect(this.x+e.x,this.y+e.y,this.width,this.height,this.degrees)},union:function(e){var t=this.getBoundingBox(),i=e.getBoundingBox(),n=Math.min(t.x,i.x),o=Math.min(t.y,i.y),r=Math.max(t.x+t.width,i.x+i.width),s=Math.max(t.y+t.height,i.y+i.height);return new C.Rect(n,o,r-n,s-o)},intersection:function(e){var c=1e-10,t=[],i=this.getTopLeft();e.containsPoint(i,c)&&t.push(i);var n=this.getTopRight();e.containsPoint(n,c)&&t.push(n);var o=this.getBottomLeft();e.containsPoint(o,c)&&t.push(o);var r=this.getBottomRight();e.containsPoint(r,c)&&t.push(r);var s=e.getTopLeft();this.containsPoint(s,c)&&t.push(s);var a=e.getTopRight();this.containsPoint(a,c)&&t.push(a);var l=e.getBottomLeft();this.containsPoint(l,c)&&t.push(l);var u=e.getBottomRight();this.containsPoint(u,c)&&t.push(u);for(var d=this._getSegments(),h=e._getSegments(),p=0;p<d.length;p++)for(var f=d[p],m=0;m<h.length;m++){var g=h[m],v=y(f[0],f[1],g[0],g[1]);v&&t.push(v)}function y(e,t,i,n){var o=t.minus(e),r=n.minus(i),s=-r.x*o.y+o.x*r.y;if(0===s)return null;var a=(o.x*(e.y-i.y)-o.y*(e.x-i.x))/s,l=(r.x*(e.y-i.y)-r.y*(e.x-i.x))/s;return-c<=a&&a<=1-c&&-c<=l&&l<=1-c?new C.Point(e.x+l*o.x,e.y+l*o.y):null}if(0===t.length)return null;for(var w=t[0].x,x=t[0].x,b=t[0].y,S=t[0].y,T=1;T<t.length;T++){var E=t[T];E.x<w&&(w=E.x),E.x>x&&(x=E.x),E.y<b&&(b=E.y),E.y>S&&(S=E.y)}return new C.Rect(w,b,x-w,S-b)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),n=this.getBottomRight();return[[e,t],[t,n],[n,i],[i,e]]},rotate:function(e,t){if(0===(e=C.positiveModulo(e,360)))return this.clone();t=t||this.getCenter();var i=this.getTopLeft().rotate(e,t),n=this.getTopRight().rotate(e,t).minus(i);n=n.apply(function(e){return Math.abs(e)<1e-15?0:e});var o=Math.atan(n.y/n.x);return n.x<0?o+=Math.PI:n.y<0&&(o+=2*Math.PI),new C.Rect(i.x,i.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),n=this.getBottomRight(),o=Math.min(e.x,t.x,i.x,n.x),r=Math.max(e.x,t.x,i.x,n.x),s=Math.min(e.y,t.y,i.y,n.y),a=Math.max(e.y,t.y,i.y,n.y);return new C.Rect(o,s,r-o,a-s)},getIntegerBoundingBox:function(){var e=this.getBoundingBox(),t=Math.floor(e.x),i=Math.floor(e.y),n=Math.ceil(e.width+e.x-t),o=Math.ceil(e.height+e.y-i);return new C.Rect(t,i,n,o)},containsPoint:function(e,t){t=t||0;var i=this.getTopLeft(),n=this.getTopRight(),o=this.getBottomLeft(),r=n.minus(i),s=o.minus(i);return(e.x-i.x)*r.x+(e.y-i.y)*r.y>=-t&&(e.x-n.x)*r.x+(e.y-n.y)*r.y<=t&&(e.x-i.x)*s.x+(e.y-i.y)*s.y>=-t&&(e.x-o.x)*s.x+(e.y-o.y)*s.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(h){var s={};function a(e){var t=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),n=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),r=h.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?0<-e.delta.x?t>-(n-r.x)&&(this.element.style.marginLeft=t+2*e.delta.x+"px",c(this,r.x,t+2*e.delta.x)):-e.delta.x<0&&t<0&&(this.element.style.marginLeft=t+2*e.delta.x+"px",c(this,r.x,t+2*e.delta.x)):0<-e.delta.y?i>-(o-r.y)&&(this.element.style.marginTop=i+2*e.delta.y+"px",c(this,r.y,i+2*e.delta.y)):-e.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*e.delta.y+"px",c(this,r.y,i+2*e.delta.y))),!1}function l(e){var t=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),n=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),r=h.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?0<e.scroll?t>-(n-r.x)&&(this.element.style.marginLeft=t-60*e.scroll+"px",c(this,r.x,t-60*e.scroll)):e.scroll<0&&t<0&&(this.element.style.marginLeft=t-60*e.scroll+"px",c(this,r.x,t-60*e.scroll)):e.scroll<0?i>r.y-o&&(this.element.style.marginTop=i+60*e.scroll+"px",c(this,r.y,i+60*e.scroll)):0<e.scroll&&i<0&&(this.element.style.marginTop=i+60*e.scroll+"px",c(this,r.y,i+60*e.scroll))),!1}function c(e,t,i){var n,o,r,s,a,l,c;for(n="horizontal"==e.scroll?e.panelWidth:e.panelHeight,o=Math.ceil(t/n)+5,l=o=(o=(r=Math.ceil((Math.abs(i)+t)/n)+1)-o)<0?0:o;l<r&&l<e.panels.length;l++)if(!(c=e.panels[l]).activePanel){var u,d=e.viewer.tileSources[l];u=d.referenceStripThumbnailUrl?{type:"image",url:d.referenceStripThumbnailUrl}:d,(s=new h.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:e.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=h.makeNeutralElement("div"),s.displayRegion.id=c.id+"-displayregion",s.displayRegion.className="displayregion",(a=s.displayRegion.style).position="relative",a.top="0px",a.left="0px",a.fontSize="0px",a.overflow="hidden",a.float="left",a.cssFloat="left",a.styleFloat="left",a.zIndex=999999999,a.cursor="default",a.width=e.panelWidth-4+"px",a.height=e.panelHeight-4+"px",s.displayRegion.innerTracker=new h.MouseTracker({element:s.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(s.displayRegion),e.miniViewers[c.id]=s,c.activePanel=!0}}function u(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function d(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="-"+h.getElementSize(t).y/2+"px":t.style.marginLeft="-"+h.getElementSize(t).x/2+"px",!1}function p(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return l.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function f(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return l.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return l.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}h.ReferenceStrip=function(e){var t,i,n,r=e.viewer,o=h.getElementSize(r.element);for(e.id||(e.id="referencestrip-"+h.now(),this.element=h.makeNeutralElement("div"),this.element.id=e.id,this.element.className="referencestrip"),e=h.extend(!0,{sizeRatio:h.DEFAULT_SETTINGS.referenceStripSizeRatio,position:h.DEFAULT_SETTINGS.referenceStripPosition,scroll:h.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:h.DEFAULT_SETTINGS.clickTimeThreshold},e,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),h.extend(this,e),s[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(i=this.element.style).marginTop="0px",i.marginRight="0px",i.marginBottom="0px",i.marginLeft="0px",i.left="0px",i.bottom="0px",i.border="0px",i.background="#000",i.position="relative",h.setElementTouchActionNone(this.element),h.setElementOpacity(this.element,.8),this.viewer=r,this.innerTracker=new h.MouseTracker({element:this.element,dragHandler:h.delegate(this,a),scrollHandler:h.delegate(this,l),enterHandler:h.delegate(this,u),exitHandler:h.delegate(this,d),keyDownHandler:h.delegate(this,p),keyHandler:h.delegate(this,f)}),e.width&&e.height?(this.element.style.width=e.width+"px",this.element.style.height=e.height+"px",r.addControl(this.element,{anchor:h.ControlAnchor.BOTTOM_LEFT})):"horizontal"==e.scroll?(this.element.style.width=o.x*e.sizeRatio*r.tileSources.length+12*r.tileSources.length+"px",this.element.style.height=o.y*e.sizeRatio+"px",r.addControl(this.element,{anchor:h.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=o.y*e.sizeRatio*r.tileSources.length+12*r.tileSources.length+"px",this.element.style.width=o.x*e.sizeRatio+"px",r.addControl(this.element,{anchor:h.ControlAnchor.TOP_LEFT})),this.panelWidth=o.x*this.sizeRatio+8,this.panelHeight=o.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},n=0;n<r.tileSources.length;n++)(t=h.makeNeutralElement("div")).id=this.element.id+"-"+n,t.style.width=this.panelWidth+"px",t.style.height=this.panelHeight+"px",t.style.display="inline",t.style.float="left",t.style.cssFloat="left",t.style.styleFloat="left",t.style.padding="2px",h.setElementTouchActionNone(t),t.innerTracker=new h.MouseTracker({element:t,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(e){e.eventSource.dragging=h.now()},releaseHandler:function(e){var t=e.eventSource,i=t.element.id,n=Number(i.split("-")[2]),o=h.now();e.insideElementPressed&&e.insideElementReleased&&t.dragging&&o-t.dragging<t.clickTimeThreshold&&(t.dragging=null,r.goToPage(n))}}),this.element.appendChild(t),t.activePanel=!1,this.panels.push(t);c(this,"vertical"==this.scroll?o.y:o.x,0),this.setFocus(0)},h.extend(h.ReferenceStrip.prototype,h.EventSource.prototype,h.Viewer.prototype,{setFocus:function(e){var t,i=h.getElement(this.element.id+"-"+e),n=h.getElementSize(this.viewer.canvas),o=Number(this.element.style.width.replace("px","")),r=Number(this.element.style.height.replace("px","")),s=-Number(this.element.style.marginLeft.replace("px","")),a=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(t=Number(e)*(this.panelWidth+3))>s+n.x-this.panelWidth?(t=Math.min(t,o-n.x),this.element.style.marginLeft=-t+"px",c(this,n.x,-t)):t<s&&(t=Math.max(0,t-n.x/2),this.element.style.marginLeft=-t+"px",c(this,n.x,-t)):(t=Number(e)*(this.panelHeight+3))>a+n.y-this.panelHeight?(t=Math.min(t,r-n.y),this.element.style.marginTop=-t+"px",c(this,n.y,-t)):t<a&&(t=Math.max(0,t-n.y/2),this.element.style.marginTop=-t+"px",c(this,n.y,-t)),this.currentPage=e,u.call(this,{eventSource:this.innerTracker}))},update:function(){return!!s[this.id].animating&&(h.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(s){s.DisplayRect=function(e,t,i,n,o,r){s.Rect.apply(this,[e,t,i,n]),this.minLevel=o,this.maxLevel=r},s.extend(s.DisplayRect.prototype,s.Rect.prototype)}(OpenSeadragon),function(s){s.Spring=function(e){var t=arguments;"object"!=typeof e&&(e={initial:t.length&&"number"==typeof t[0]?t[0]:void 0,springStiffness:1<t.length?t[1].springStiffness:5,animationTime:1<t.length?t[1].animationTime:1.5}),s.console.assert("number"==typeof e.springStiffness&&0!==e.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),s.console.assert("number"==typeof e.animationTime&&0<=e.animationTime,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),e.exponential&&(this._exponential=!0,delete e.exponential),s.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:s.now()},s.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},s.Spring.prototype={resetTo:function(e){s.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=s.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(e){s.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=e,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(e){this.start.value+=e,this.target.value+=e,this._exponential&&(s.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(e){this._exponential=e,this._exponential&&(s.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var e,t;this.current.time=s.now(),this._exponential?(e=this.start._logValue,t=this.target._logValue):(e=this.start.value,t=this.target.value);var i,n,o=this.current.time>=this.target.time?t:e+(t-e)*(i=this.springStiffness,n=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(i*-n))/(1-Math.exp(-i))),r=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,r!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(t){function i(e){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},e),this.image=null}i.prototype={errorMsg:null,start:function(){var r=this,e=this.abort;this.image=new Image,this.image.onload=function(){r.finish(!0)},this.image.onabort=this.image.onerror=function(){r.errorMsg="Image load aborted",r.finish(!1)},this.jobId=window.setTimeout(function(){r.errorMsg="Image load exceeded timeout",r.finish(!1)},this.timeout),this.loadWithAjax?(this.request=t.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(t){var i;try{i=new window.Blob([t.response])}catch(e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===e.name&&n){var o=new n;o.append(t.response),i=o.getBlob()}}0===i.size&&(r.errorMsg="Empty image response.",r.finish(!1));var e=(window.URL||window.webkitURL).createObjectURL(i);r.image.src=e},error:function(e){r.errorMsg="Image load aborted - XHR error",r.finish(!1)}}),this.abort=function(){r.request.abort(),"function"==typeof e&&e()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(e){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},e)},t.ImageLoader.prototype={addJob:function(o){var r=this,e=new i({src:o.src,loadWithAjax:o.loadWithAjax,ajaxHeaders:o.loadWithAjax?o.ajaxHeaders:null,crossOriginPolicy:o.crossOriginPolicy,ajaxWithCredentials:o.ajaxWithCredentials,callback:function(e){var t,i,n;t=r,i=e,n=o.callback,t.jobsInProgress--,(!t.jobLimit||t.jobsInProgress<t.jobLimit)&&0<t.jobQueue.length&&(t.jobQueue.shift().start(),t.jobsInProgress++),n(i.image,i.errorMsg,i.request)},abort:o.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(e.start(),this.jobsInProgress++):this.jobQueue.push(e)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(c){c.Tile=function(e,t,i,n,o,r,s,a,l,c){this.level=e,this.x=t,this.y=i,this.bounds=n,this.sourceBounds=c,this.exists=o,this.url=r,this.context2D=s,this.loadWithAjax=a,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},c.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(e){this.cacheImageRecord?this.loaded?(this.element||(this.element=c.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=e&&e.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",c.setElementOpacity(this.element,this.opacity)):c.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):c.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(e,t,i,n){var o,r,s,a=this.position.times(c.pixelDensityRatio),l=this.size.times(c.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(e.save(),e.globalAlpha=this.opacity,"number"==typeof i&&1!==i&&(a=a.times(i),l=l.times(i)),n instanceof c.Point&&(a=a.plus(n)),1===e.globalAlpha&&this._hasTransparencyChannel()&&e.clearRect(a.x,a.y,l.x,l.y),t({context:e,tile:this,rendered:o}),this.sourceBounds?(r=Math.min(this.sourceBounds.width,o.canvas.width),s=Math.min(this.sourceBounds.height,o.canvas.height)):(r=o.canvas.width,s=o.canvas.height),e.drawImage(o.canvas,0,0,r,s,a.x,a.y,l.x,l.y),e.restore()):c.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):c.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var e;if(this.cacheImageRecord)e=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return c.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;e=this.context2D}return e.canvas.width/(this.size.x*c.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(e,t,i){var n=Math.max(1,Math.ceil((i.x-t.x)/2)),o=Math.max(1,Math.ceil((i.y-t.y)/2));return new c.Point(n,o).minus(this.position.times(c.pixelDensityRatio).times(e||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(u){u.OverlayPlacement=u.Placement,u.OverlayRotationMode=u.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),u.Overlay=function(e,t,i){var n;n=u.isPlainObject(e)?e:{element:e,location:t,placement:i},this.element=n.element,this.style=n.element.style,this._init(n)},u.Overlay.prototype={_init:function(e){this.location=e.location,this.placement=void 0===e.placement?u.Placement.TOP_LEFT:e.placement,this.onDraw=e.onDraw,this.checkResize=void 0===e.checkResize||e.checkResize,this.width=void 0===e.width?null:e.width,this.height=void 0===e.height?null:e.height,this.rotationMode=e.rotationMode||u.OverlayRotationMode.EXACT,this.location instanceof u.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=u.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new u.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(e,t){var i=u.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?e.x-=t.x/2:i.isRight&&(e.x-=t.x),i.isVerticallyCentered?e.y-=t.y/2:i.isBottom&&(e.y-=t.y))},destroy:function(){var e=this.element,t=this.style;e.parentNode&&(e.parentNode.removeChild(e),e.prevElementParent&&(t.display="none",document.body.appendChild(e))),this.onDraw=null,t.top="",t.left="",t.position="",null!==this.width&&(t.width=""),null!==this.height&&(t.height="");var i=u.getCssPropertyWithVendorPrefix("transformOrigin"),n=u.getCssPropertyWithVendorPrefix("transform");i&&n&&(t[i]="",t[n]="")},drawHTML:function(e,t){var i=this.element;i.parentNode!==e&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,e.appendChild(i),this.style.position="absolute",this.size=u.getElementSize(i));var n=this._getOverlayPositionAndSize(t),o=n.position,r=this.size=n.size,s=n.rotate;if(this.onDraw)this.onDraw(o,r,this.element);else{var a=this.style;a.left=o.x+"px",a.top=o.y+"px",null!==this.width&&(a.width=r.x+"px"),null!==this.height&&(a.height=r.y+"px");var l=u.getCssPropertyWithVendorPrefix("transformOrigin"),c=u.getCssPropertyWithVendorPrefix("transform");l&&c&&(s?(a[l]=this._getTransformOrigin(),a[c]="rotate("+s+"deg)"):(a[l]="",a[c]="")),"none"!==a.display&&(a.display="block")}},_getOverlayPositionAndSize:function(e){var t=e.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(e);this.adjust(t,i);var n=0;if(e.degrees&&this.rotationMode!==u.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===u.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new u.Rect(t.x,t.y,i.x,i.y),r=this._getBoundingBox(o,e.degrees);t=r.getTopLeft(),i=r.getSize()}else n=e.degrees;return{position:t,size:i,rotate:n}},_getSizeInPixels:function(e){var t=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var n=e.deltaPixelsFromPointsNoRotate(new u.Point(this.width||0,this.height||0),!0);null!==this.width&&(t=n.x),null!==this.height&&(i=n.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=u.getElementSize(this.element);null===this.width&&(t=o.x),null===this.height&&(i=o.y)}return new u.Point(t,i)},_getBoundingBox:function(e,t){var i=this._getPlacementPoint(e);return e.rotate(t,i).getBoundingBox()},_getPlacementPoint:function(e){var t=new u.Point(e.x,e.y),i=u.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?t.x+=e.width/2:i.isRight&&(t.x+=e.width),i.isVerticallyCentered?t.y+=e.height/2:i.isBottom&&(t.y+=e.height)),t},_getTransformOrigin:function(){var e="",t=u.Placement.properties[this.placement];return t&&(t.isLeft?e="left":t.isRight&&(e="right"),t.isTop?e+=" top":t.isBottom&&(e+=" bottom")),e},update:function(e,t){var i=u.isPlainObject(e)?e:{location:e,placement:t};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(e){u.console.assert(e,"A viewport must now be passed to Overlay.getBounds.");var t=this.width,i=this.height;if(null===t||null===i){var n=e.deltaPointsFromPixelsNoRotate(this.size,!0);null===t&&(t=n.x),null===i&&(i=n.y)}var o=this.location.clone();return this.adjust(o,new u.Point(t,i)),this._adjustBoundsForRotation(e,new u.Rect(o.x,o.y,t,i))},_adjustBoundsForRotation:function(e,t){if(!e||0===e.degrees||this.rotationMode===u.OverlayRotationMode.EXACT)return t;if(this.rotationMode===u.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return t;var i=this._getOverlayPositionAndSize(e);return e.viewerElementToViewportRectangle(new u.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return t.rotate(-e.degrees,this._getPlacementPoint(t))}}}(OpenSeadragon),function(d){d.Drawer=function(e){d.console.assert(e.viewer,"[Drawer] options.viewer is required");var t=arguments;if(d.isPlainObject(e)||(e={source:t[0],viewport:t[1],element:t[2]}),d.console.assert(e.viewport,"[Drawer] options.viewport is required"),d.console.assert(e.element,"[Drawer] options.element is required"),e.source&&d.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=e.viewer,this.viewport=e.viewport,this.debugGridColor="string"==typeof e.debugGridColor?[e.debugGridColor]:e.debugGridColor||d.DEFAULT_SETTINGS.debugGridColor,e.opacity&&d.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=d.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=d.getElement(e.element),this.canvas=d.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",d.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},d.Drawer.prototype={addOverlay:function(e,t,i,n){return d.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(e,t,i,n),this},updateOverlay:function(e,t,i){return d.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(e,t,i),this},removeOverlay:function(e){return d.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(e),this},clearOverlays:function(){return d.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(e){d.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var t=this.viewer.world,i=0;i<t.getItemCount();i++)t.getItemAt(i).setOpacity(e);return this},getOpacity:function(){d.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var e=this.viewer.world,t=0,i=0;i<e.getItemCount();i++){var n=e.getItemAt(i).getOpacity();t<n&&(t=n)}return t},needsUpdate:function(){return d.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return d.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return d.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return d.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var i=this._getContext(e);if(t)i.clearRect(t.x,t.y,t.width,t.height);else{var n=i.canvas;i.clearRect(0,0,n.width,n.height)}}},viewportToDrawerRectangle:function(e){var t=this.viewport.pixelFromPointNoRotate(e.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(e.getSize(),!0);return new d.Rect(t.x*d.pixelDensityRatio,t.y*d.pixelDensityRatio,i.x*d.pixelDensityRatio,i.y*d.pixelDensityRatio)},drawTile:function(e,t,i,n,o){if(d.console.assert(e,"[Drawer.drawTile] tile is required"),d.console.assert(t,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var r=this._getContext(i);n=n||1,e.drawCanvas(r,t,n,o)}else e.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var i=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=i.x,this.sketchCanvas.height=i.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var n=this;this.viewer.addHandler("rotate",function e(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler("rotate",e);var t=n._calculateSketchCanvasSize();n.sketchCanvas.width=t.x,n.sketchCanvas.height=t.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()}},drawRectangle:function(e,t,i){if(this.useCanvas){var n=this._getContext(i);n.save(),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height),n.restore()}},blendSketch:function(e,t,i,n){var o=e;if(d.isPlainObject(o)||(o={opacity:e,scale:t,translate:i,compositeOperation:n}),this.useCanvas&&this.sketchCanvas){e=o.opacity,n=o.compositeOperation;var r=o.bounds;if(this.context.save(),this.context.globalAlpha=e,n&&(this.context.globalCompositeOperation=n),r)r.x<0&&(r.width+=r.x,r.x=0),r.x+r.width>this.canvas.width&&(r.width=this.canvas.width-r.x),r.y<0&&(r.height+=r.y,r.y=0),r.y+r.height>this.canvas.height&&(r.height=this.canvas.height-r.y),this.context.drawImage(this.sketchCanvas,r.x,r.y,r.width,r.height,r.x,r.y,r.width,r.height);else{t=o.scale||1;var s=(i=o.translate)instanceof d.Point?i:new d.Point(0,0),a=0,l=0;if(i){var c=this.sketchCanvas.width-this.canvas.width,u=this.sketchCanvas.height-this.canvas.height;a=Math.round(c/2),l=Math.round(u/2)}this.context.drawImage(this.sketchCanvas,s.x-a*t,s.y-l*t,(this.canvas.width+2*a)*t,(this.canvas.height+2*l)*t,-a,-l,this.canvas.width+2*a,this.canvas.height+2*l)}this.context.restore()}},drawDebugInfo:function(e,t,i,n){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(n)%this.debugGridColor.length,r=this.context;r.save(),r.lineWidth=2*d.pixelDensityRatio,r.font="small-caps bold "+13*d.pixelDensityRatio+"px arial",r.strokeStyle=this.debugGridColor[o],r.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees?this._offsetForRotation({degrees:this.viewport.degrees}):this.viewer.viewport.flipped&&this._flip(),n.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:n.getRotation(!0),point:n.viewport.pixelFromPointNoRotate(n._getRotationPoint(!0),!0)}),r.strokeRect(e.position.x*d.pixelDensityRatio,e.position.y*d.pixelDensityRatio,e.size.x*d.pixelDensityRatio,e.size.y*d.pixelDensityRatio);var s=(e.position.x+e.size.x/2)*d.pixelDensityRatio,a=(e.position.y+e.size.y/2)*d.pixelDensityRatio;r.translate(s,a),r.rotate(Math.PI/180*-this.viewport.degrees),r.translate(-s,-a),0===e.x&&0===e.y&&(r.fillText("Zoom: "+this.viewport.getZoom(),e.position.x*d.pixelDensityRatio,(e.position.y-30)*d.pixelDensityRatio),r.fillText("Pan: "+this.viewport.getBounds().toString(),e.position.x*d.pixelDensityRatio,(e.position.y-20)*d.pixelDensityRatio)),r.fillText("Level: "+e.level,(e.position.x+10)*d.pixelDensityRatio,(e.position.y+20)*d.pixelDensityRatio),r.fillText("Column: "+e.x,(e.position.x+10)*d.pixelDensityRatio,(e.position.y+30)*d.pixelDensityRatio),r.fillText("Row: "+e.y,(e.position.x+10)*d.pixelDensityRatio,(e.position.y+40)*d.pixelDensityRatio),r.fillText("Order: "+i+" of "+t,(e.position.x+10)*d.pixelDensityRatio,(e.position.y+50)*d.pixelDensityRatio),r.fillText("Size: "+e.size.toString(),(e.position.x+10)*d.pixelDensityRatio,(e.position.y+60)*d.pixelDensityRatio),r.fillText("Position: "+e.position.toString(),(e.position.x+10)*d.pixelDensityRatio,(e.position.y+70)*d.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),n.getRotation(!0)%360!=0&&this._restoreRotationChanges(),r.restore()}},debugRect:function(e){if(this.useCanvas){var t=this.context;t.save(),t.lineWidth=2*d.pixelDensityRatio,t.strokeStyle=this.debugGridColor[0],t.fillStyle=this.debugGridColor[0],t.strokeRect(e.x*d.pixelDensityRatio,e.y*d.pixelDensityRatio,e.width*d.pixelDensityRatio,e.height*d.pixelDensityRatio),t.restore()}},getCanvasSize:function(e){var t=this._getContext(e).canvas;return new d.Point(t.width,t.height)},getCanvasCenter:function(){return new d.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(e){var t=e.point?e.point.times(d.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.save(),i.translate(t.x,t.y),this.viewer.viewport.flipped?(i.rotate(Math.PI/180*-e.degrees),i.scale(-1,1)):i.rotate(Math.PI/180*e.degrees),i.translate(-t.x,-t.y)},_flip:function(e){var t=(e=e||{}).point?e.point.times(d.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.translate(t.x,0),i.scale(-1,1),i.translate(-t.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var e=d.pixelDensityRatio,t=this.viewport.getContainerSize();return{x:t.x*e,y:t.y*e}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(p){p.Viewport=function(e){var t=arguments;t.length&&t[0]instanceof p.Point&&(e={containerSize:t[0],contentSize:t[1],config:t[2]}),e.config&&(p.extend(!0,e,e.config),delete e.config),this._margins=p.extend({left:0,top:0,right:0,bottom:0},e.margins||{}),delete e.margins,p.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:p.DEFAULT_SETTINGS.springStiffness,animationTime:p.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:p.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:p.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:p.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:p.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:p.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:p.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:p.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:p.DEFAULT_SETTINGS.maxZoomLevel,degrees:p.DEFAULT_SETTINGS.degrees,flipped:p.DEFAULT_SETTINGS.flipped,homeFillsViewer:p.DEFAULT_SETTINGS.homeFillsViewer},e),this._updateContainerInnerSize(),this.centerSpringX=new p.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new p.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new p.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new p.Rect(0,0,1,1),1),this.goHome(!0),this.update()},p.Viewport.prototype={resetContentSize:function(e){return p.console.assert(e,"[Viewport.resetContentSize] contentSize is required"),p.console.assert(e instanceof p.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),p.console.assert(0<e.x,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),p.console.assert(0<e.y,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new p.Rect(0,0,1,e.y/e.x),e.x),this},setHomeBounds:function(e,t){p.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(e,t)},_setContentBounds:function(e,t){p.console.assert(e,"[Viewport._setContentBounds] bounds is required"),p.console.assert(e instanceof p.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),p.console.assert(0<e.width,"[Viewport._setContentBounds] bounds.width must be greater than 0"),p.console.assert(0<e.height,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=e.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(t),this._contentBounds=e.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(t),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:t,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?1<=e?e:1:1<=e?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var e=this._contentBounds.getCenter(),t=1/this.getHomeZoom(),i=t/this.getAspectRatio();return new p.Rect(e.x-t/2,e.y-i/2,t,i)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new p.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return p.extend({},this._margins)},setMargins:function(e){p.console.assert("object"===p.type(e),"[Viewport.setMargins] margins must be an object"),this._margins=p.extend({left:0,top:0,right:0,bottom:0},e),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(e){var t=this.getCenter(e),i=1/this.getZoom(e),n=i/this.getAspectRatio();return new p.Rect(t.x-i/2,t.y-n/2,i,n)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),i=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/i,t.y-=this._margins.top/i,t.width+=(this._margins.left+this._margins.right)/i,t.height+=(this._margins.top+this._margins.bottom)/i,t},getCenter:function(e){var t,i,n,o,r,s,a=new p.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new p.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return e?a:this.zoomPoint?(t=this.pixelFromPoint(this.zoomPoint,!0),o=(n=1/(i=this.getZoom()))/this.getAspectRatio(),r=new p.Rect(a.x-n/2,a.y-o/2,n,o),s=this._pixelFromPoint(this.zoomPoint,r).minus(t).divide(this._containerInnerSize.x*i),l.plus(s)):l},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=new p.Rect(e.x,e.y,e.width,e.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*t.width,n=t.x+t.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,r=this._contentBoundsNoRotate.x-n+i,s=o-t.x-i;i>this._contentBoundsNoRotate.width?t.x+=(r+s)/2:s<0?t.x+=s:0<r&&(t.x+=r)}if(this.wrapVertical);else{var a=this.visibilityRatio*t.height,l=t.y+t.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,u=this._contentBoundsNoRotate.y-l+a,d=c-t.y-a;a>this._contentBoundsNoRotate.height?t.y+=(u+d)/2:d<0?t.y+=d:0<u&&(t.y+=u)}return t},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),i=this._applyZoomConstraints(t);t!==i&&this.zoomTo(i,this.zoomPoint,e);var n=this.getBoundsNoRotate(),o=this._applyBoundaryConstraints(n);return this._raiseConstraintsEvent(e),(n.x!==o.x||n.y!==o.y||e)&&this.fitBounds(o.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(e,t){var i=(t=t||{}).immediately||!1,n=t.constraints||!1,o=this.getAspectRatio(),r=e.getCenter(),s=new p.Rect(e.x,e.y,e.width,e.height,e.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=r.x-s.width/2,s.y=r.y-s.height/2;var a=1/s.width;if(n){var l=s.getAspectRatio(),c=this._applyZoomConstraints(a);a!==c&&(a=c,s.width=1/a,s.x=r.x-s.width/2,s.height=s.width/l,s.y=r.y-s.height/2),r=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(r,!0),this.zoomTo(a,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var u=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(a/d-1)<1e-8)return this.zoomTo(a,!0),this.panTo(r,i);var h=(s=s.rotate(-this.getRotation())).getTopLeft().times(a).minus(u.getTopLeft().times(d)).divide(a-d);return this.zoomTo(a,h,i)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(e){var t=new p.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(t,e)},fitHorizontally:function(e){var t=new p.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(t,e)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(e,t){var i=new p.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(e),t)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,i){return this.zoomTo(this.zoomSpring.target.value*e,t,i)},zoomTo:function(e,t,i){var n=this;return this.zoomPoint=t instanceof p.Point&&!isNaN(t.x)&&!isNaN(t.y)?t:null,i?this._adjustCenterSpringsForZoomPoint(function(){n.zoomSpring.resetTo(e)}):this.zoomSpring.springTo(e),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:e,refPoint:t,immediately:i}),this},setRotation:function(e){return this.viewer&&this.viewer.drawer.canRotate()&&(this.degrees=p.positiveModulo(e,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e})),this},getRotation:function(){return this.degrees},resize:function(e,t){var i,n=this.getBoundsNoRotate(),o=n;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(i=e.x/this.containerSize.x,o.width=n.width*i,o.height=o.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(o,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new p.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var i=this.pixelFromPoint(this.zoomPoint,!0).minus(t),n=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(e,t){return e.minus(t.getTopLeft()).times(this._containerInnerSize.x/t.width).plus(new p.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(e,t){var i=this.getBoundsNoRotate(t);return e.minus(new p.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(e,t){var i=this._contentBoundsNoRotate.width;return new p.Point(e*this._contentSizeNoRotate.x/i,t*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(e,t){if(e instanceof p.Point)return this.viewportToImageCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(1<i)p.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(e,t,!0)}return this._viewportToImageDelta(e-this._contentBoundsNoRotate.x,t-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(e,t){var i=this._contentBoundsNoRotate.width;return new p.Point(e/this._contentSizeNoRotate.x*i,t/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(e,t){if(e instanceof p.Point)return this.imageToViewportCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(1<i)p.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(e,t,!0)}var n=this._imageToViewportDelta(e,t);return n.x+=this._contentBoundsNoRotate.x,n.y+=this._contentBoundsNoRotate.y,n},imageToViewportRectangle:function(e,t,i,n){var o=e;if(o instanceof p.Rect||(o=new p.Rect(e,t,i,n)),this.viewer){var r=this.viewer.world.getItemCount();if(1<r)p.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===r)return this.viewer.world.getItemAt(0).imageToViewportRectangle(e,t,i,n,!0)}var s=this.imageToViewportCoordinates(o.x,o.y),a=this._imageToViewportDelta(o.width,o.height);return new p.Rect(s.x,s.y,a.x,a.y,o.degrees)},viewportToImageRectangle:function(e,t,i,n){var o=e;if(o instanceof p.Rect||(o=new p.Rect(e,t,i,n)),this.viewer){var r=this.viewer.world.getItemCount();if(1<r)p.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===r)return this.viewer.world.getItemAt(0).viewportToImageRectangle(e,t,i,n,!0)}var s=this.viewportToImageCoordinates(o.x,o.y),a=this._viewportToImageDelta(o.width,o.height);return new p.Rect(s.x,s.y,a.x,a.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){p.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var t=e.minus(p.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return p.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(e).plus(p.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(e){return p.Rect.fromSummits(this.pointFromPixel(e.getTopLeft(),!0),this.pointFromPixel(e.getTopRight(),!0),this.pointFromPixel(e.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(e){return p.Rect.fromSummits(this.pixelFromPoint(e.getTopLeft(),!0),this.pixelFromPoint(e.getTopRight(),!0),this.pixelFromPoint(e.getBottomLeft(),!0))},windowToViewportCoordinates:function(e){p.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var t=e.minus(p.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(t)},viewportToWindowCoordinates:function(e){return p.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(e).plus(p.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){if(this.viewer){var t=this.viewer.world.getItemCount();if(1<t)p.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===t)return this.viewer.world.getItemAt(0).viewportToImageZoom(e)}var i=this._contentSizeNoRotate.x;return e*(this._containerInnerSize.x/i*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(e){if(this.viewer){var t=this.viewer.world.getItemCount();if(1<t)p.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===t)return this.viewer.world.getItemAt(0).imageToViewportZoom(e)}return e*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this}}}(OpenSeadragon),function(z){function y(e,t,i,n,o,r,s,a,l){var c=s.getBoundingBox().getTopLeft(),u=s.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:n,opacity:o,visibility:r,drawArea:s,topleft:c,bottomright:u,currenttime:a,best:l}),b(e.coverage,n),b(e.loadingCoverage,n);for(var d=e._getCornerTiles(n,c,u),h=d.topLeft,p=d.bottomRight,f=e.source.getNumTiles(n),m=e.viewport.pixelFromPoint(e.viewport.getCenter()),g=h.x;g<=p.x;g++)for(var v=h.y;v<=p.y;v++){if(!e.wrapHorizontal&&!e.wrapVertical){var y=e.source.getTileBounds(n,g,v);if(null===s.intersection(y))continue}l=w(e,i,t,g,v,n,o,r,m,f,a,l)}return l}function w(e,t,i,n,o,r,s,a,l,c,u,d){var h,p,f,m,g,v,y,w,x,b,S,T,E,C,_,P,k,I,A,R=(h=n,p=o,f=r,g=(m=e).source,v=e.tilesMatrix,y=u,w=c,x=e._worldWidthCurrent,b=e._worldHeightCurrent,v[f]||(v[f]={}),v[f][h]||(v[f][h]={}),v[f][h][p]||(S=(w.x+h%w.x)%w.x,T=(w.y+p%w.y)%w.y,E=g.getTileBounds(f,S,T),C=g.getTileBounds(f,S,T,!0),_=g.tileExists(f,S,T),P=g.getTileUrl(f,S,T),m.loadTilesWithAjax?(k=g.getTileAjaxHeaders(f,S,T),z.isPlainObject(m.ajaxHeaders)&&(k=z.extend({},m.ajaxHeaders,k))):k=null,I=g.getContext2D?g.getContext2D(f,S,T):void 0,E.x+=(h-S)/w.x,E.y+=b/x*((p-T)/w.y),A=new z.Tile(f,h,p,E,_,P,I,m.loadTilesWithAjax,k,C),S===w.x-1&&(A.isRightMost=!0),T===w.y-1&&(A.isBottomMost=!0),v[f][h][p]=A),(A=v[f][h][p]).lastTouchTime=y,A),O=i;e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:R}),j(e.coverage,r,n,o,!1);var L,N,D=R.loaded||R.loading||F(e.loadingCoverage,r,n,o);if(j(e.loadingCoverage,r,n,o,D),!R.exists)return d;if(t&&!O&&(F(e.coverage,r,n,o)?j(e.coverage,r,n,o,!0):O=!0),!O)return d;if(function(e,t,i,n,o,r){var s=e.bounds.getTopLeft();s.x*=r._scaleSpring.current.value,s.y*=r._scaleSpring.current.value,s.x+=r._xSpring.current.value,s.y+=r._ySpring.current.value;var a=e.bounds.getSize();a.x*=r._scaleSpring.current.value,a.y*=r._scaleSpring.current.value;var l=i.pixelFromPointNoRotate(s,!0),c=i.pixelFromPointNoRotate(s,!1),u=i.deltaPixelsFromPointsNoRotate(a,!0),d=i.deltaPixelsFromPointsNoRotate(a,!1),h=c.plus(d.divide(2)),p=n.squaredDistanceTo(h);t||(u=u.plus(new z.Point(1,1))),e.isRightMost&&r.wrapHorizontal&&(u.x+=.75),e.isBottomMost&&r.wrapVertical&&(u.y+=.75),e.position=l,e.size=u,e.squaredDistance=p,e.visibility=o}(R,e.source.tileOverlap,e.viewport,l,a,e),!R.loaded)if(R.context2D)H(e,R);else{var M=e._tileCache.getImageRecord(R.cacheKey);M&&H(e,R,M.getImage())}return R.loaded?function(e,t,i,n,o,r,s){var a,l,c=1e3*e.blendTime;if(t.blendStart||(t.blendStart=s),a=s-t.blendStart,l=c?Math.min(1,a/c):1,e.alwaysBlend&&(l*=r),t.opacity=l,e.lastDrawn.push(t),1==l)j(e.coverage,o,i,n,!0),e._hasOpaqueTile=!0;else if(a<c)return!0;return!1}(e,R,n,o,r,s,u)&&(e._needsDraw=!0):R.loading?e._tilesLoading++:D||(N=R,d=(L=d)?N.visibility>L.visibility?N:N.visibility==L.visibility&&N.squaredDistance<L.squaredDistance?N:L:N),d}function H(e,t,i,n,o){var r=0;function s(){return r++,a}function a(){0==--r&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:i,tile:t,cutoff:n,tiledImage:e}),e._needsDraw=!0)}e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:o,image:i,getCompletionCallback:s}),s()()}function x(e,t,i,n){var o,r,s,a;if(!e[t])return!1;if(void 0===i||void 0===n){for(s in o=e[t])if(o.hasOwnProperty(s))for(a in r=o[s])if(r.hasOwnProperty(a)&&!r[a])return!1;return!0}return void 0===e[t][i]||void 0===e[t][i][n]||!0===e[t][i][n]}function F(e,t,i,n){return void 0===i||void 0===n?x(e,t+1):x(e,t+1,2*i,2*n)&&x(e,t+1,2*i,2*n+1)&&x(e,t+1,2*i+1,2*n)&&x(e,t+1,2*i+1,2*n+1)}function j(e,t,i,n,o){e[t]?(e[t][i]||(e[t][i]={}),e[t][i][n]=o):z.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",t)}function b(e,t){e[t]={}}z.TiledImage=function(e){var t=this;z.console.assert(e.tileCache,"[TiledImage] options.tileCache is required"),z.console.assert(e.drawer,"[TiledImage] options.drawer is required"),z.console.assert(e.viewer,"[TiledImage] options.viewer is required"),z.console.assert(e.imageLoader,"[TiledImage] options.imageLoader is required"),z.console.assert(e.source,"[TiledImage] options.source is required"),z.console.assert(!e.clip||e.clip instanceof z.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),z.EventSource.call(this),this._tileCache=e.tileCache,delete e.tileCache,this._drawer=e.drawer,delete e.drawer,this._imageLoader=e.imageLoader,delete e.imageLoader,e.clip instanceof z.Rect&&(this._clip=e.clip.clone()),delete e.clip;var i=e.x||0;delete e.x;var n=e.y||0;delete e.y,this.normHeight=e.source.dimensions.y/e.source.dimensions.x,this.contentAspectX=e.source.dimensions.x/e.source.dimensions.y;var o=1;e.width?(o=e.width,delete e.width,e.height&&(z.console.error("specifying both width and height to a tiledImage is not supported"),delete e.height)):e.height&&(o=e.height/this.normHeight,delete e.height);var r=e.fitBounds;delete e.fitBounds;var s=e.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete e.fitBoundsPlacement;var a=e.degrees||0;delete e.degrees,z.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:z.DEFAULT_SETTINGS.springStiffness,animationTime:z.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:z.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:z.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:z.DEFAULT_SETTINGS.wrapVertical,immediateRender:z.DEFAULT_SETTINGS.immediateRender,blendTime:z.DEFAULT_SETTINGS.blendTime,alwaysBlend:z.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:z.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:z.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:z.DEFAULT_SETTINGS.iOSDevice,debugMode:z.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:z.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:z.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:z.DEFAULT_SETTINGS.placeholderFillStyle,opacity:z.DEFAULT_SETTINGS.opacity,preload:z.DEFAULT_SETTINGS.preload,compositeOperation:z.DEFAULT_SETTINGS.compositeOperation},e),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new z.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new z.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new z.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new z.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),r&&this.fitBounds(r,s,!0),this._drawingHandler=function(e){t.viewer.raiseEvent("tile-drawing",z.extend({tiledImage:t},e))}},z.extend(z.TiledImage.prototype,z.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=z.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),i=this._scaleSpring.update(),n=this._degreesSpring.update();return!!(e||t||i||n)&&(this._updateForScale(),this._needsDraw=!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(e){return e?new z.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new z.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return z.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(e){var t=this.getBoundsNoRotate(e);if(this._clip){var i=(e?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,n=this._clip.times(i);t=new z.Rect(t.x+n.x,t.y+n.y,n.width,n.height)}return t.rotate(this.getRotation(e),this._getRotationPoint(e))},getContentSize:function(){return new z.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(e,t,i){var n=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new z.Point(e*(this.source.dimensions.x/n),t*(this.source.dimensions.y*this.contentAspectX/n))},viewportToImageCoordinates:function(e,t,i){var n;return e instanceof z.Point?(i=t,n=e):n=new z.Point(e,t),n=n.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(n.x-this._xSpring.current.value,n.y-this._ySpring.current.value):this._viewportToImageDelta(n.x-this._xSpring.target.value,n.y-this._ySpring.target.value)},_imageToViewportDelta:function(e,t,i){var n=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new z.Point(e/this.source.dimensions.x*n,t/this.source.dimensions.y/this.contentAspectX*n)},imageToViewportCoordinates:function(e,t,i){e instanceof z.Point&&(i=t,t=e.y,e=e.x);var n=this._imageToViewportDelta(e,t);return i?(n.x+=this._xSpring.current.value,n.y+=this._ySpring.current.value):(n.x+=this._xSpring.target.value,n.y+=this._ySpring.target.value),n.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(e,t,i,n,o){var r=e;r instanceof z.Rect?o=t:r=new z.Rect(e,t,i,n);var s=this.imageToViewportCoordinates(r.getTopLeft(),o),a=this._imageToViewportDelta(r.width,r.height,o);return new z.Rect(s.x,s.y,a.x,a.y,r.degrees+this.getRotation(o))},viewportToImageRectangle:function(e,t,i,n,o){var r=e;e instanceof z.Rect?o=t:r=new z.Rect(e,t,i,n);var s=this.viewportToImageCoordinates(r.getTopLeft(),o),a=this._viewportToImageDelta(r.width,r.height,o);return new z.Rect(s.x,s.y,a.x,a.y,r.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(e){var t=this._scaleSpring.current.value;return e=e.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new z.Rect((e.x-this._xSpring.current.value)/t,(e.y-this._ySpring.current.value)/t,e.width/t,e.height/t,e.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var i=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(i&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(i)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}i||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(e,t,i){t=t||z.Placement.CENTER;var n=z.Placement.properties[t],o=this.contentAspectX,r=0,s=0,a=1,l=1;if(this._clip&&(o=this._clip.getAspectRatio(),a=this._clip.width/this.source.dimensions.x,l=this._clip.height/this.source.dimensions.y,e.getAspectRatio()>o?(r=this._clip.x/this._clip.height*e.height,s=this._clip.y/this._clip.height*e.height):(r=this._clip.x/this._clip.width*e.width,s=this._clip.y/this._clip.width*e.width)),e.getAspectRatio()>o){var c=e.height/l,u=0;n.isHorizontallyCentered?u=(e.width-e.height*o)/2:n.isRight&&(u=e.width-e.height*o),this.setPosition(new z.Point(e.x-r+u,e.y-s),i),this.setHeight(c,i)}else{var d=e.width/a,h=0;n.isVerticallyCentered?h=(e.height-e.width/o)/2:n.isBottom&&(h=e.height-e.width/o),this.setPosition(new z.Point(e.x-r,e.y-s+h),i),this.setWidth(d,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(e){z.console.assert(!e||e instanceof z.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),e instanceof z.Rect?this._clip=e.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var i=this._scaleSpring.target.value===e;if(t){if(i&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(i)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}i||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,i=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return i=Math.max(i,this.source.minLevel||0),{lowestLevel:e=Math.min(e,i),highestLevel:i}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};0<this.lastDrawn.length;)this.lastDrawn.pop().beingDrawn=!1;var e=this.viewport,t=this._viewportToTiledImageRectangle(e.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var i=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(t=t.intersection(i)))return}for(var n,o,r,s=this._getLevelsInterval(),a=s.lowestLevel,l=s.highestLevel,c=null,u=!1,d=z.now(),h=l;a<=h;h--){var p=!1,f=e.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!0).x*this._scaleSpring.current.value;if(h===a||!u&&f>=this.minPixelRatio)u=p=!0;else if(!u)continue;var m=e.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!1).x*this._scaleSpring.current.value,g=e.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,v=this.immediateRender?1:g;if(c=y(this,u,p,h,Math.min(1,(f-.5)/.5),v/Math.abs(v-m),t,d,c),x(this.coverage,h))break}!function(e,t){if(0!==e.opacity&&(0!==t.length||e.placeholderFillStyle)){var i,n,o,r=t[0];r&&(i=e.opacity<1||e.compositeOperation&&"source-over"!==e.compositeOperation||!e._isBottomItem()&&r._hasTransparencyChannel());var s,a=e.viewport.getZoom(!0),l=e.viewportToImageZoom(a);1<t.length&&l>e.smoothTileEdgesMinZoom&&!e.iOSDevice&&e.getRotation(!0)%360==0&&z.supportsCanvas&&(i=!0,n=r.getScaleForEdgeSmoothing(),o=r.getTranslationForEdgeSmoothing(n,e._drawer.getCanvasSize(!1),e._drawer.getCanvasSize(!0))),i&&(n||(s=e.viewport.viewportToViewerElementRectangle(e.getClippedBounds(!0)).getIntegerBoundingBox().times(z.pixelDensityRatio)),e._drawer._clear(!0,s)),n||(0!==e.viewport.degrees?e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:i}):e._drawer.viewer.viewport.flipped&&e._drawer._flip({}),e.getRotation(!0)%360!=0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:i}));var c=!1;if(e._clip){e._drawer.saveContext(i);var u=e.imageToViewportRectangle(e._clip,!0);u=u.rotate(-e.getRotation(!0),e._getRotationPoint(!0));var d=e._drawer.viewportToDrawerRectangle(u);n&&(d=d.times(n)),o&&(d=d.translate(o)),e._drawer.setClip(d,i),c=!0}if(e.placeholderFillStyle&&!1===e._hasOpaqueTile){var h=e._drawer.viewportToDrawerRectangle(e.getBounds(!0));n&&(h=h.times(n)),o&&(h=h.translate(o));var p;p="function"==typeof e.placeholderFillStyle?e.placeholderFillStyle(e,e._drawer.context):e.placeholderFillStyle,e._drawer.drawRectangle(h,p,i)}for(var f=t.length-1;0<=f;f--)r=t[f],e._drawer.drawTile(r,e._drawingHandler,i,n,o),r.beingDrawn=!0,e.viewer&&e.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:r});c&&e._drawer.restoreContext(i),n||(e.getRotation(!0)%360!=0&&e._drawer._restoreRotationChanges(i),0!==e.viewport.degrees?e._drawer._restoreRotationChanges(i):e._drawer.viewer.viewport.flipped&&e._drawer._flip({})),i&&(n&&(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:!1}),e.getRotation(!0)%360!=0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:!1})),e._drawer.blendSketch({opacity:e.opacity,scale:n,translate:o,compositeOperation:e.compositeOperation,bounds:s}),n&&(e.getRotation(!0)%360!=0&&e._drawer._restoreRotationChanges(!1),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(!1))),function(e,t){if(e.debugMode)for(var i=t.length-1;0<=i;i--){var n=t[i];try{e._drawer.drawDebugInfo(n,t.length,i,e)}catch(e){z.console.error(e)}}}(e,t)}}(this,this.lastDrawn),c&&!c.context2D?(n=this,r=d,(o=c).loading=!0,n._imageLoader.addJob({src:o.url,loadWithAjax:o.loadWithAjax,ajaxHeaders:o.ajaxHeaders,crossOriginPolicy:n.crossOriginPolicy,ajaxWithCredentials:n.ajaxWithCredentials,callback:function(e,t,i){!function(t,i,e,n,o,r){if(!n)return z.console.log("Tile %s failed to load: %s - error: %s",i,i.url,o),t.viewer.raiseEvent("tile-load-failed",{tile:i,tiledImage:t,time:e,message:o,tileRequest:r}),i.loading=!1,i.exists=!1;if(e<t.lastResetTime)return z.console.log("Ignoring tile %s loaded before reset: %s",i,i.url),i.loading=!1;var s=function(){var e=t.source.getClosestLevel();H(t,i,n,e,r)};t._midDraw?window.setTimeout(s,1):s()}(n,o,r,e,t,i)},abort:function(){o.loading=!1}}),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(e,t,i){var n,o,r,s;this.wrapHorizontal?(n=z.positiveModulo(t.x,1),o=z.positiveModulo(i.x,1)):(n=Math.max(0,t.x),o=Math.min(1,i.x));var a=1/this.source.aspectRatio;this.wrapVertical?(r=z.positiveModulo(t.y,a),s=z.positiveModulo(i.y,a)):(r=Math.max(0,t.y),s=Math.min(a,i.y));var l=this.source.getTileAtPoint(e,new z.Point(n,r)),c=this.source.getTileAtPoint(e,new z.Point(o,s)),u=this.source.getNumTiles(e);return this.wrapHorizontal&&(l.x+=u.x*Math.floor(t.x),c.x+=u.x*Math.floor(i.x)),this.wrapVertical&&(l.y+=u.y*Math.floor(t.y/a),c.y+=u.y*Math.floor(i.y/a)),{topLeft:l,bottomRight:c}}})}(OpenSeadragon),function(f){var m=function(e){f.console.assert(e,"[ImageRecord] options is required"),f.console.assert(e.image,"[ImageRecord] options.image is required"),this._image=e.image,this._tiles=[]};m.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(e){f.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=e},addTile:function(e){f.console.assert(e,"[ImageRecord.addTile] tile is required"),this._tiles.push(e)},removeTile:function(e){for(var t=0;t<this._tiles.length;t++)if(this._tiles[t]===e)return void this._tiles.splice(t,1);f.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",e)},getTileCount:function(){return this._tiles.length}},f.TileCache=function(e){e=e||{},this._maxImageCacheCount=e.maxImageCacheCount||f.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},f.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(e){f.console.assert(e,"[TileCache.cacheTile] options is required"),f.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),f.console.assert(e.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),f.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var t=e.cutoff||0,i=this._tilesLoaded.length,n=this._imagesLoaded[e.tile.cacheKey];if(n||(f.console.assert(e.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),n=this._imagesLoaded[e.tile.cacheKey]=new m({image:e.image}),this._imagesLoadedCount++),n.addTile(e.tile),e.tile.cacheImageRecord=n,this._imagesLoadedCount>this._maxImageCacheCount){for(var o,r,s,a,l,c,u=null,d=-1,h=null,p=this._tilesLoaded.length-1;0<=p;p--)(o=(c=this._tilesLoaded[p]).tile).level<=t||o.beingDrawn||(u?(a=o.lastTouchTime,r=u.lastTouchTime,l=o.level,s=u.level,(a<r||a==r&&s<l)&&(u=o,d=p,h=c)):(u=o,d=p,h=c));u&&0<=d&&(this._unloadTile(h),i=d)}this._tilesLoaded[i]=new function(e){f.console.assert(e,"[TileCache.cacheTile] options is required"),f.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),f.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=e.tile,this.tiledImage=e.tiledImage}({tile:e.tile,tiledImage:e.tiledImage})},clearTilesFor:function(e){var t;f.console.assert(e,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(t=this._tilesLoaded[i]).tiledImage===e&&(this._unloadTile(t),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(e){return f.console.assert(e,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[e]},_unloadTile:function(e){f.console.assert(e,"[TileCache._unloadTile] tileRecord is required");var t=e.tile,i=e.tiledImage;t.unload(),t.cacheImageRecord=null;var n=this._imagesLoaded[t.cacheKey];n.removeTile(t),n.getTileCount()||(n.destroy(),delete this._imagesLoaded[t.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:t,tiledImage:i})}}}(OpenSeadragon),function(g){g.World=function(e){var t=this;g.console.assert(e.viewer,"[World] options.viewer is required"),g.EventSource.call(this),this.viewer=e.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){t._autoRefigureSizes?t._figureSizes():t._needsSizesFigured=!0},this._figureSizes()},g.extend(g.World.prototype,g.EventSource.prototype,{addItem:function(e,t){if(g.console.assert(e,"[World.addItem] item is required"),g.console.assert(e instanceof g.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(t=t||{}).index){var i=Math.max(0,Math.min(this._items.length,t.index));this._items.splice(i,0,e)}else this._items.push(e);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,e.addHandler("bounds-change",this._delegatedFigureSizes),e.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:e})},getItemAt:function(e){return g.console.assert(void 0!==e,"[World.getItemAt] index is required"),this._items[e]},getIndexOfItem:function(e){return g.console.assert(e,"[World.getIndexOfItem] item is required"),g.indexOf(this._items,e)},getItemCount:function(){return this._items.length},setItemIndex:function(e,t){g.console.assert(e,"[World.setItemIndex] item is required"),g.console.assert(void 0!==t,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(e);if(t>=this._items.length)throw new Error("Index bigger than number of layers.");t!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(t,0,e),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:e,previousIndex:i,newIndex:t}))},removeItem:function(e){g.console.assert(e,"[World.removeItem] item is required");var t=g.indexOf(this._items,e);-1!==t&&(e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy(),this._items.splice(t,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(e))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var i=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<i.length;t++)e=i[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){(this._autoRefigureSizes=e)&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(e){var t,i=(e=e||{}).immediately||!1,n=e.layout||g.DEFAULT_SETTINGS.collectionLayout,o=e.rows||g.DEFAULT_SETTINGS.collectionRows,r=e.columns||g.DEFAULT_SETTINGS.collectionColumns,s=e.tileSize||g.DEFAULT_SETTINGS.collectionTileSize,a=s+(e.tileMargin||g.DEFAULT_SETTINGS.collectionTileMargin);t=!e.rows&&r?r:Math.ceil(this._items.length/o);var l,c,u,d,h,p=0,f=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%t==0&&("horizontal"===n?(f+=a,p=0):(p+=a,f=0)),d=(u=(c=(l=this._items[m]).getBounds()).width>c.height?s:s*(c.width/c.height))*(c.height/c.width),h=new g.Point(p+(s-u)/2,f+(s-d)/2),l.setPosition(h,i),l.setWidth(u,i),"horizontal"===n?p+=a:f+=a;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var e=this._homeBounds?this._homeBounds.clone():null,t=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var n=this._items[0],o=n.getBounds();this._contentFactor=n.getContentSize().x/o.width;for(var r=n.getClippedBounds().getBoundingBox(),s=r.x,a=r.y,l=r.x+r.width,c=r.y+r.height,u=1;u<this._items.length;u++)o=(n=this._items[u]).getBounds(),this._contentFactor=Math.max(this._contentFactor,n.getContentSize().x/o.width),r=n.getClippedBounds().getBoundingBox(),s=Math.min(s,r.x),a=Math.min(a,r.y),l=Math.max(l,r.x+r.width),c=Math.max(c,r.y+r.height);this._homeBounds=new g.Rect(s,a,l-s,c-a),this._contentSize=new g.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new g.Rect(0,0,1,1),this._contentSize=new g.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(e)&&this._contentSize.equals(t)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon),function(t,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("jquery")):t.jQueryBridget=i(t,t.jQuery)}(window,function(e,t){"use strict";var d=Array.prototype.slice,i=e.console,h=void 0===i?function(){}:function(e){i.error(e)};function n(c,o,u){(u=u||t||e.jQuery)&&(o.prototype.option||(o.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[c]=function(e){if("string"==typeof e){var t=d.call(arguments,1);return s=t,l="$()."+c+'("'+(r=e)+'")',(i=this).each(function(e,t){var i=u.data(t,c);if(i){var n=i[r];if(n&&"_"!=r.charAt(0)){var o=n.apply(i,s);a=void 0===a?o:a}else h(l+" is not a valid method")}else h(c+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:i}var i,r,s,a,l,n;return n=e,this.each(function(e,t){var i=u.data(t,c);i?(i.option(n),i._init()):(i=new o(t,n),u.data(t,c,i))}),this},r(u))}function r(e){!e||e&&e.bridget||(e.bridget=n)}return r(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var i=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i]+"MatchesSelector";if(e[n])return n}}();return function(e,t){return e[i](t)}}),function(t,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("desandro-matches-selector")):t.fizzyUIUtils=i(t,t.matchesSelector)}(window,function(c,r){var u={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;u.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},u.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},u.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},u.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},u.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.filterFindElements=function(e,n){e=u.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(n){r(e,n)&&o.push(e);for(var t=e.querySelectorAll(n),i=0;i<t.length;i++)o.push(t[i])}else o.push(e)}),o},u.debounceMethod=function(e,t,n){n=n||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,t),delete i[r]},n)}},u.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},u.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var d=c.console;return u.htmlInit=function(a,l){u.docReady(function(){var e=u.toDashed(l),o="data-"+e,t=document.querySelectorAll("["+o+"]"),i=document.querySelectorAll(".js-"+e),n=u.makeArray(t).concat(u.makeArray(i)),r=o+"-options",s=c.jQuery;n.forEach(function(t){var e,i=t.getAttribute(o)||t.getAttribute(r);try{e=i&&JSON.parse(i)}catch(e){return void(d&&d.error("Error parsing "+o+" on "+t.className+": "+e))}var n=new a(t,e);s&&s.data(t,l,n)})})},u}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("ev-emitter"),require("fizzy-ui-utils")):i.InfiniteScroll=n(i,i.EvEmitter,i.fizzyUIUtils)}(window,function(t,e,o){var s=t.jQuery,r={};function a(e,t){var i=o.getQueryElement(e);if(i){if((e=i).infiniteScrollGUID){var n=r[e.infiniteScrollGUID];return n.option(t),n}this.element=e,this.options=o.extend({},a.defaults),this.option(t),s&&(this.$element=s(this.element)),this.create()}else console.error("Bad element for InfiniteScroll: "+(i||e))}a.defaults={},a.create={},a.destroy={};var i=a.prototype;o.extend(i,e.prototype);var n=0;i.create=function(){var e=this.guid=++n;if(this.element.infiniteScrollGUID=e,(r[e]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var t in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),a.create)a.create[t].call(this);else console.error("Disabling InfiniteScroll")},i.option=function(e){o.extend(this.options,e)},i.callOnInit=function(){var e=this.options.onInit;e&&e.call(this,this)},i.dispatchEvent=function(e,t,i){this.log(e,i);var n=t?[t].concat(i):i;if(this.emitEvent(e,n),s&&this.$element){var o=e+=".infiniteScroll";if(t){var r=s.Event(t);r.type=e,o=r}this.$element.trigger(o,i)}};var l={initialized:function(e){return"on "+e},request:function(e){return"URL: "+e},load:function(e,t){return(e.title||"")+". URL: "+t},error:function(e,t){return e+". URL: "+t},append:function(e,t,i){return i.length+" items. URL: "+t},last:function(e,t){return"URL: "+t},history:function(e,t){return"URL: "+t},pageIndex:function(e,t){return"current page determined to be: "+e+" from "+t}};i.log=function(e,t){if(this.options.debug){var i="[InfiniteScroll] "+e,n=l[e];n&&(i+=". "+n.apply(this,t)),console.log(i)}},i.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},i.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:o.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e}else this.scroller=t},i.updateGetPath=function(){var e=this.options.path;if(e){var t=typeof e;if("function"!=t)"string"==t&&e.match("{{#}}")?this.updateGetPathTemplate(e):this.updateGetPathSelector(e);else this.getPath=e}else console.error("InfiniteScroll path option required. Set as: "+e)},i.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace("{{#}}","(\\d\\d?\\d?)"),i=new RegExp(e),n=location.href.match(i);n&&(this.pageIndex=parseInt(n[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var c=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return i.updateGetPathSelector=function(e){var t=document.querySelector(e);if(t){for(var i,n,o=t.getAttribute("href"),r=0;o&&r<c.length;r++){n=c[r];var s=o.match(n);if(s){i=s.slice(1);break}}i?(this.isPathSelector=!0,this.getPath=function(){var e=this.pageIndex+1;return i[0]+e+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,this.log("pageIndex",[this.pageIndex,"next link"])):console.error("InfiniteScroll unable to parse next link href: "+o)}else console.error("Bad InfiniteScroll path option. Next link not found: "+e)},i.updateGetAbsolutePath=function(){var e=this.getPath();if(e.match(/^http/)||e.match(/^\//))this.getAbsolutePath=this.getPath;else{var t=location.pathname,i=t.substring(0,t.lastIndexOf("/"));this.getAbsolutePath=function(){return i+"/"+this.getPath()}}},a.create.hideNav=function(){var e=o.getQueryElement(this.options.hideNav);e&&(e.style.display="none",this.nav=e)},a.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},i.destroy=function(){for(var e in this.allOff(),a.destroy)a.destroy[e].call(this);delete this.element.infiniteScrollGUID,delete r[this.guid],s&&this.$element&&s.removeData(this.element,"infiniteScroll")},a.throttle=function(n,o){var r,s;return o=o||200,function(){var e=+new Date,t=arguments,i=function(){r=e,n.apply(this,t)}.bind(this);r&&e<r+o?(clearTimeout(s),s=setTimeout(i,o)):i()}},a.data=function(e){var t=(e=o.getQueryElement(e))&&e.infiniteScrollGUID;return t&&r[t]},a.setJQuery=function(e){s=e},o.htmlInit(a,"infinite-scroll"),i._init=function(){},s&&s.bridget&&s.bridget("infiniteScroll",a),a}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("./core")):i(t,t.InfiniteScroll)}(window,function(n,o){var e=o.prototype;function s(e){for(var t=document.createDocumentFragment(),i=0;e&&i<e.length;i++)t.appendChild(e[i]);return t}function r(e,t){for(var i=e.attributes,n=0;n<i.length;n++){var o=i[n];t.setAttribute(o.name,o.value)}}return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},e.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},e.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var t=this.getAbsolutePath();this.isLoading=!0;var i,e,n,o,r,s=function(e){this.onPageLoad(e,t)}.bind(this),a=function(e){this.onPageError(e,t)}.bind(this);i=t,e=this.options.responseType,n=s,o=a,(r=new XMLHttpRequest).open("GET",i,!0),r.responseType=e||"",r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onload=function(){if(200==r.status)n(r.response);else{var e=new Error(r.statusText);o(e)}},r.onerror=function(){var e=new Error("Network error requesting "+i);o(e)},r.send(),this.dispatchEvent("request",null,[t])}},e.onPageLoad=function(e,t){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[e,t]),this.appendNextPage(e,t),e},e.appendNextPage=function(e,t){var i=this.options.append;if("document"==this.options.responseType&&i){var n=e.querySelectorAll(i),o=s(n),r=function(){this.appendItems(n,o),this.isLoading=!1,this.dispatchEvent("append",null,[e,t,n])}.bind(this);this.options.outlayer?this.appendOutlayerItems(o,r):r()}},e.appendItems=function(e,t){e&&e.length&&(function(e){for(var t=e.querySelectorAll("script"),i=0;i<t.length;i++){var n=t[i],o=document.createElement("script");r(n,o),o.innerHTML=n.innerHTML,n.parentNode.replaceChild(o,n)}}(t=t||s(e)),this.element.appendChild(t))},e.appendOutlayerItems=function(e,t){var i=o.imagesLoaded||n.imagesLoaded;if(!i)return console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1);i(e,t)},e.onAppendOutlayer=function(e,t,i){this.options.outlayer.appended(i)},e.checkLastPage=function(e,t){var i=this.options.checkLastPage;if(i){var n,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(e,t);if("string"==typeof i?n=i:this.isPathSelector&&(n=o),n&&e.querySelector)e.querySelector(n)||this.lastPageReached(e,t)}},e.lastPageReached=function(e,t){this.canLoad=!1,this.dispatchEvent("last",null,[e,t])},e.onPageError=function(e,t){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[e,t]),e},o.create.prefill=function(){if(this.options.prefill){var e=this.options.append;e?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+e)}},e.prefill=function(){var e=this.getPrefillDistance();this.isPrefilling=0<=e,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},e.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},e.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(i,e,t){var n=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var e=this.options.scrollThreshold;(e||0===e)&&this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(e){var t=e?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.pageScrollHandler),i[t]("resize",this.resizeHandler)},n.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(i.pageYOffset+this.windowHeight)},n.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},n.onResize=function(){this.updateMeasurements()},t.debounceMethod(e,"onResize",150),e}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(n,e,t){var i=e.prototype;e.defaults.history="replace";var r=document.createElement("a");return e.create.history=function(){this.options.history&&(r.href=this.getAbsolutePath(),(r.origin||r.protocol+"//"+r.host)==location.origin?this.options.append?this.createHistoryAppend():this.createHistoryPageLoad():console.error("[InfiniteScroll] cannot set history with different origin: "+r.origin+" on "+location.origin+" . History behavior disabled."))},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(e){var t=e?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.scrollHistoryHandler),n[t]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=i.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(e,t,i){if(i&&i.length){var n=i[0],o=this.getElementScrollY(n);r.href=t,this.scrollPages.push({top:o,path:r.href,title:e.title})}},i.getElementScrollY=function(e){return this.options.elementScroll?this.getElementElementScrollY(e):this.getElementWindowScrollY(e)},i.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+n.pageYOffset},i.getElementElementScrollY=function(e){return e.offsetTop-this.top},i.onScrollHistory=function(){for(var e,t,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;e=n,t=o}e!=this.scrollPageIndex&&(this.scrollPageIndex=e,this.setHistory(t.title,t.path))},t.debounceMethod(e,"onScrollHistory",150),i.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:n.pageYOffset+this.windowHeight/2},i.setHistory=function(e,t){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,e,t),this.options.historyTitle&&(document.title=e),this.dispatchEvent("history",null,[e,t]))},i.onUnload=function(){var e=this.scrollPageIndex;if(0!==e){var t=this.scrollPages[e],i=n.pageYOffset-t.top+this.top;this.destroyHistory(),scrollTo(0,i)}},i.onPageLoadHistory=function(e,t){this.setHistory(e.title,t)},e}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(e,t,i){function n(e,t){this.element=e,this.infScroll=t,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),t.on("request",this.disable.bind(this)),t.on("load",this.enable.bind(this)),t.on("error",this.hide.bind(this)),t.on("last",this.hide.bind(this))}return t.create.button=function(){var e=i.getQueryElement(this.options.button);e&&(this.button=new n(e,this))},t.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(e){e.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},t.Button=n,t}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype;function o(e){s(e,"none")}function r(e){s(e,"block")}function s(e,t){e&&(e.style.display=t)}return t.create.status=function(){var e=i.getQueryElement(this.options.status);e&&(this.statusElement=e,this.statusEventElements={request:e.querySelector(".infinite-scroll-request"),error:e.querySelector(".infinite-scroll-error"),last:e.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},n.bindHideStatus=function(e){var t=this.options.append?"append":"load";this[e](t,this.hideAllStatus)},n.showRequestStatus=function(){this.showStatus("request")},n.showErrorStatus=function(){this.showStatus("error")},n.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},n.showStatus=function(e){r(this.statusElement),this.hideStatusEventElements(),r(this.statusEventElements[e])},n.hideAllStatus=function(){o(this.statusElement),this.hideStatusEventElements()},n.hideStatusEventElements=function(){for(var e in this.statusEventElements){o(this.statusEventElements[e])}},t}),function(e,t){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}(window,function(e){return e}),function(t,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("ev-emitter")):t.imagesLoaded=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var r=t.jQuery,s=t.console;function a(e,t){for(var i in t)e[i]=t[i];return e}var l=Array.prototype.slice;function c(e,t,i){if(!(this instanceof c))return new c(e,t,i);var n,o=e;("string"==typeof e&&(o=document.querySelectorAll(e)),o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=a({},this.options),"function"==typeof t?i=t:a(this.options,t),i&&this.on("always",i),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(o||e))}(c.prototype=Object.create(e.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};function i(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}return c.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},c.prototype.addImage=function(e){var t=new i(e);this.images.push(t)},c.prototype.addBackground=function(e,t){var i=new n(e,t);this.images.push(i)},c.prototype.check=function(){var n=this;function t(e,t,i){setTimeout(function(){n.progress(e,t,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},c.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+i,e,t)},c.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(i.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},i.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},c.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new c(this,e,t).jqDeferred.promise(r(this))})},c.makeJQueryPlugin(),c}),function(){function e(){}var t=e.prototype,i=this,n=i.EventEmitter;function r(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}t.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},t.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},t.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},t.addListener=function(e,t){var i,n=this.getListenersAsObject(e),o="object"==typeof t;for(i in n)n.hasOwnProperty(i)&&-1===r(n[i],t)&&n[i].push(o?t:{listener:t,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var i,n,o=this.getListenersAsObject(e);for(n in o)o.hasOwnProperty(n)&&-1!==(i=r(o[n],t))&&o[n].splice(i,1);return this},t.off=o("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,i){var n,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},t.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(e,t){var i,n,o,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)!0===(i=r[o][n]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},t.trigger=o("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=n,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(i){var e=document.documentElement,t=function(){};function n(e){var t=i.event;return t.target=t.target||t.srcElement||e,t}e.addEventListener?t=function(e,t,i){e.addEventListener(t,i,!1)}:e.attachEvent&&(t=function(t,e,i){t[e+i]=i.handleEvent?function(){var e=n(t);i.handleEvent.call(i,e)}:function(){var e=n(t);i.call(t,e)},t.attachEvent("on"+e,t[e+i])});var o=function(){};e.removeEventListener?o=function(e,t,i){e.removeEventListener(t,i,!1)}:e.detachEvent&&(o=function(t,i,n){t.detachEvent("on"+i,t[i+n]);try{delete t[i+n]}catch(e){t[i+n]=void 0}});var r={bind:t,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):i.eventie=r}(this),function(i,n){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return n(i,e,t)}):"object"==typeof exports?module.exports=n(i,require("wolfy87-eventemitter"),require("eventie")):i.imagesLoaded=n(i,i.EventEmitter,i.eventie)}(window,function(e,t,i){var o=e.jQuery,s=e.console,a=void 0!==s;function r(e,t){for(var i in t)e[i]=t[i];return e}var l=Object.prototype.toString;function c(e){var t,i=[];if(t=e,"[object Array]"===l.call(t))i=e;else if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++)i.push(e[n]);else i.push(e);return i}function u(e,t,i){if(!(this instanceof u))return new u(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=c(e),this.options=r({},this.options),"function"==typeof t?i=t:r(this.options,t),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var n=this;setTimeout(function(){n.check()})}function n(e){this.img=e}(u.prototype=new t).options={},u.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;r<s;r++){var a=o[r];this.addImage(a)}}},u.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},u.prototype.check=function(){var i=this,n=0,o=this.images.length;if(this.hasAnyBroken=!1,o)for(var e=0;e<o;e++){var t=this.images[e];t.on("confirm",r),t.check()}else this.complete();function r(e,t){return i.options.debug&&a&&s.log("confirm",e,t),i.progress(e),++n===o&&i.complete(),!0}},u.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},u.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var i=this;setTimeout(function(){if(i.emit(t,i),i.emit("always",i),i.jqDeferred){var e=i.hasAnyBroken?"reject":"resolve";i.jqDeferred[e](i)}})},o&&(o.fn.imagesLoaded=function(e,t){return new u(this,e,t).jqDeferred.promise(o(this))}),(n.prototype=new t).check=function(){var e=d[this.img.src]||new h(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var i=this;e.on("confirm",function(e,t){return i.confirm(e.isLoaded,t),!0}),e.check()}},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var d={};function h(e){this.src=e,d[e]=this}return(h.prototype=new t).check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},h.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},h.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},h.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},h.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},h.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},u}),function(n){var o="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,i){o.Backbone=n(o,i,e,t)});else if("undefined"!=typeof exports){var e,t=require("underscore");try{e=require("jquery")}catch(e){}n(o,exports,t,e)}else o.Backbone=n(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)}(function(e,l,x,t){var i=e.Backbone,r=Array.prototype.slice;l.VERSION="1.2.3",l.$=t,l.noConflict=function(){return e.Backbone=i,this},l.emulateHTTP=!1,l.emulateJSON=!1;var n=function(i,e,n){x.each(e,function(e,t){x[t]&&(i.prototype[t]=function(e,n,o){switch(e){case 1:return function(){return x[n](this[o])};case 2:return function(e){return x[n](this[o],e)};case 3:return function(e,t){return x[n](this[o],s(e,this),t)};case 4:return function(e,t,i){return x[n](this[o],s(e,this),t,i)};default:return function(){var e=r.call(arguments);return e.unshift(this[o]),x[n].apply(x,e)}}}(e,t,n))})},s=function(t,e){return x.isFunction(t)?t:x.isObject(t)&&!e._isModel(t)?o(t):x.isString(t)?function(e){return e.get(t)}:t},o=function(e){var t=x.matches(e);return function(e){return t(e.attributes)}},a=l.Events={},c=/\s+/,u=function(e,t,i,n,o){var r,s=0;if(i&&"object"==typeof i){void 0!==n&&"context"in o&&void 0===o.context&&(o.context=n);for(r=x.keys(i);s<r.length;s++)t=u(e,t,r[s],i[r[s]],o)}else if(i&&c.test(i))for(r=i.split(c);s<r.length;s++)t=e(t,r[s],n,o);else t=e(t,i,n,o);return t};a.on=function(e,t,i){return d(this,e,t,i)};var d=function(e,t,i,n,o){(e._events=u(h,e._events||{},t,i,{context:n,ctx:e,listening:o}),o)&&((e._listeners||(e._listeners={}))[o.id]=o);return e};a.listenTo=function(e,t,i){if(!e)return this;var n=e._listenId||(e._listenId=x.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),r=o[n];if(!r){var s=this._listenId||(this._listenId=x.uniqueId("l"));r=o[n]={obj:e,objId:n,id:s,listeningTo:o,count:0}}return d(e,t,i,this,r),this};var h=function(e,t,i,n){if(i){var o=e[t]||(e[t]=[]),r=n.context,s=n.ctx,a=n.listening;a&&a.count++,o.push({callback:i,context:r,ctx:r||s,listening:a})}return e};a.off=function(e,t,i){return this._events&&(this._events=u(p,this._events,e,t,{context:i,listeners:this._listeners})),this},a.stopListening=function(e,t,i){var n=this._listeningTo;if(!n)return this;for(var o=e?[e._listenId]:x.keys(n),r=0;r<o.length;r++){var s=n[o[r]];if(!s)break;s.obj.off(t,i,this)}return x.isEmpty(n)&&(this._listeningTo=void 0),this};var p=function(e,t,i,n){if(e){var o,r=0,s=n.context,a=n.listeners;if(t||i||s){for(var l=t?[t]:x.keys(e);r<l.length;r++){var c=e[t=l[r]];if(!c)break;for(var u=[],d=0;d<c.length;d++){var h=c[d];i&&i!==h.callback&&i!==h.callback._callback||s&&s!==h.context?u.push(h):(o=h.listening)&&0==--o.count&&(delete a[o.id],delete o.listeningTo[o.objId])}u.length?e[t]=u:delete e[t]}return x.size(e)?e:void 0}for(var p=x.keys(a);r<p.length;r++)delete a[(o=a[p[r]]).id],delete o.listeningTo[o.objId]}};a.once=function(e,t,i){var n=u(f,{},e,t,x.bind(this.off,this));return this.on(n,void 0,i)},a.listenToOnce=function(e,t,i){var n=u(f,{},t,i,x.bind(this.stopListening,this,e));return this.listenTo(e,n)};var f=function(e,t,i,n){if(i){var o=e[t]=x.once(function(){n(t,o),i.apply(this,arguments)});o._callback=i}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),i=Array(t),n=0;n<t;n++)i[n]=arguments[n+1];return u(m,this._events,e,void 0,i),this};var m=function(e,t,i,n){if(e){var o=e[t],r=e.all;o&&r&&(r=r.slice()),o&&g(o,n),r&&g(r,[t].concat(n))}return e},g=function(e,t){var i,n=-1,o=e.length,r=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++n<o;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<o;)(i=e[n]).callback.call(i.ctx,r);return;case 2:for(;++n<o;)(i=e[n]).callback.call(i.ctx,r,s);return;case 3:for(;++n<o;)(i=e[n]).callback.call(i.ctx,r,s,a);return;default:for(;++n<o;)(i=e[n]).callback.apply(i.ctx,t);return}};a.bind=a.on,a.unbind=a.off,x.extend(l,a);var v=l.Model=function(e,t){var i=e||{};t||(t={}),this.cid=x.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=x.defaults({},i,x.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};x.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return x.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return x.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!x.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var n;if("object"==typeof e?(n=e,i=t):(n={})[e]=t,i||(i={}),!this._validate(n,i))return!1;var o=i.unset,r=i.silent,s=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=x.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,u=this._previousAttributes;for(var d in n)t=n[d],x.isEqual(l[d],t)||s.push(d),x.isEqual(u[d],t)?delete c[d]:c[d]=t,o?delete l[d]:l[d]=t;if(this.id=this.get(this.idAttribute),!r){s.length&&(this._pending=i);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,l[s[h]],i)}if(a)return this;if(!r)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,x.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,x.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!x.isEmpty(this.changed):x.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&x.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var n in e){var o=e[n];x.isEqual(t[n],o)||(i[n]=o)}return!!x.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return x.clone(this._previousAttributes)},fetch:function(i){i=x.extend({parse:!0},i);var n=this,o=i.success;return i.success=function(e){var t=i.parse?n.parse(e,i):e;if(!n.set(t,i))return!1;o&&o.call(i.context,n,e,i),n.trigger("sync",n,e,i)},z(this,i),this.sync("read",this,i)},save:function(e,t,i){var n;null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t;var o=(i=x.extend({validate:!0,parse:!0},i)).wait;if(n&&!o){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;var r=this,s=i.success,a=this.attributes;i.success=function(e){r.attributes=a;var t=i.parse?r.parse(e,i):e;if(o&&(t=x.extend({},n,t)),t&&!r.set(t,i))return!1;s&&s.call(i.context,r,e,i),r.trigger("sync",r,e,i)},z(this,i),n&&o&&(this.attributes=x.extend({},a,n));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=n);var c=this.sync(l,this,i);return this.attributes=a,c},destroy:function(t){t=t?x.clone(t):{};var i=this,n=t.success,o=t.wait,r=function(){i.stopListening(),i.trigger("destroy",i,i.collection,t)},e=!(t.success=function(e){o&&r(),n&&n.call(t.context,i,e,t),i.isNew()||i.trigger("sync",i,e,t)});return this.isNew()?x.defer(t.success):(z(this,t),e=this.sync("delete",this,t)),o||r(),e},url:function(){var e=x.result(this,"urlRoot")||x.result(this.collection,"url")||M();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},x.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=x.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,x.extend(t,{validationError:i})),!1)}});n(v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=l.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,x.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},S=function(e,t,i){i=Math.min(Math.max(i,0),e.length);for(var n=Array(e.length-i),o=t.length,r=0;r<n.length;r++)n[r]=e[r+i];for(r=0;r<o;r++)e[r+i]=t[r];for(r=0;r<n.length;r++)e[r+o+i]=n[r]};x.extend(y.prototype,a,{model:v,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return l.sync.apply(this,arguments)},add:function(e,t){return this.set(e,x.extend({merge:!1},t,w))},remove:function(e,t){t=x.extend({},t);var i=!x.isArray(e);e=i?[e]:x.clone(e);var n=this._removeModels(e,t);return!t.silent&&n&&this.trigger("update",this,t),i?n[0]:n},set:function(e,t){if(null!=e){(t=x.defaults({},t,b)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!x.isArray(e);e=i?[e]:e.slice();var n=t.at;null!=n&&(n=+n),n<0&&(n+=this.length+1);for(var o,r=[],s=[],a=[],l={},c=t.add,u=t.merge,d=t.remove,h=!1,p=this.comparator&&null==n&&!1!==t.sort,f=x.isString(this.comparator)?this.comparator:null,m=0;m<e.length;m++){o=e[m];var g=this.get(o);if(g){if(u&&o!==g){var v=this._isModel(o)?o.attributes:o;t.parse&&(v=g.parse(v,t)),g.set(v,t),p&&!h&&(h=g.hasChanged(f))}l[g.cid]||(l[g.cid]=!0,r.push(g)),e[m]=g}else c&&(o=e[m]=this._prepareModel(o,t))&&(s.push(o),this._addReference(o,t),l[o.cid]=!0,r.push(o))}if(d){for(m=0;m<this.length;m++)l[(o=this.models[m]).cid]||a.push(o);a.length&&this._removeModels(a,t)}var y=!1,w=!p&&c&&d;if(r.length&&w?(y=this.length!=r.length||x.some(this.models,function(e,t){return e!==r[t]}),this.models.length=0,S(this.models,r,0),this.length=this.models.length):s.length&&(p&&(h=!0),S(this.models,s,null==n?this.length:n),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(m=0;m<s.length;m++)null!=n&&(t.index=n+m),(o=s[m]).trigger("add",o,this,t);(h||y)&&this.trigger("sort",this,t),(s.length||a.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?x.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,x.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,x.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,x.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return x.isFunction(t)&&(t=x.bind(t,this)),1===i||x.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return x.invoke(this.models,"get",e)},fetch:function(i){var n=(i=x.extend({parse:!0},i)).success,o=this;return i.success=function(e){var t=i.reset?"reset":"set";o[t](e,i),n&&n.call(i.context,o,e,i),o.trigger("sync",o,e,i)},z(this,i),this.sync("read",this,i)},create:function(e,t){var n=(t=t?x.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;n||this.add(e,t);var o=this,r=t.success;return t.success=function(e,t,i){n&&o.add(e,i),r&&r.call(i.context,e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;var i=new(((t=t?x.clone(t):{}).collection=this).model)(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var i=[],n=0;n<e.length;n++){var o=this.get(e[n]);if(o){var r=this.indexOf(o);this.models.splice(r,1),this.length--,t.silent||(t.index=r,o.trigger("remove",o,this,t)),i.push(o),this._removeReference(o,t)}}return!!i.length&&i},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var i=this.modelId(e.attributes);null!=i&&(this._byId[i]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var i=this.modelId(e.attributes);null!=i&&delete this._byId[i],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if("add"!==e&&"remove"!==e||i===this){if("destroy"===e&&this.remove(t,n),"change"===e){var o=this.modelId(t.previousAttributes()),r=this.modelId(t.attributes);o!==r&&(null!=o&&delete this._byId[o],null!=r&&(this._byId[r]=t))}this.trigger.apply(this,arguments)}}});n(y,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var T=l.View=function(e){this.cid=x.uniqueId("view"),x.extend(this,x.pick(e,C)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];x.extend(T.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof l.$?e:l.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=x.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(x.isFunction(i)||(i=this[i]),i){var n=t.match(E);this.delegate(n[1],n[2],x.bind(i,this))}}return this},delegate:function(e,t,i){return this.$el.on(e+".delegateEvents"+this.cid,t,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,i){return this.$el.off(e+".delegateEvents"+this.cid,t,i),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(x.result(this,"el"));else{var e=x.extend({},x.result(this,"attributes"));this.id&&(e.id=x.result(this,"id")),this.className&&(e.class=x.result(this,"className")),this.setElement(this._createElement(x.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),l.sync=function(e,t,n){var i=_[e];x.defaults(n||(n={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var o={type:i,dataType:"json"};if(n.url||(o.url=x.result(t,"url")||M()),null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",n.emulateJSON&&(o.data._method=i);var r=n.beforeSend;n.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),r)return r.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var s=n.error;n.error=function(e,t,i){n.textStatus=t,n.errorThrown=i,s&&s.call(n.context,e,t,i)};var a=n.xhr=l.ajax(x.extend(o,n));return t.trigger("request",t,a,n),a};var _={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var P=l.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,A=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;x.extend(P.prototype,a,{initialize:function(){},route:function(i,n,o){x.isRegExp(i)||(i=this._routeToRegExp(i)),x.isFunction(n)&&(o=n,n=""),o||(o=this[n]);var r=this;return l.history.route(i,function(e){var t=r._extractParameters(i,e);!1!==r.execute(o,t,n)&&(r.trigger.apply(r,["route:"+n].concat(t)),r.trigger("route",n,t),l.history.trigger("route",r,n,t))}),this},execute:function(e,t,i){e&&e.apply(this,t)},navigate:function(e,t){return l.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes){this.routes=x.result(this,"routes");for(var e,t=x.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(R,"\\$&").replace(k,"(?:$1)?").replace(I,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return x.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var O=l.History=function(){this.handlers=[],this.checkUrl=x.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,D=/#.*$/;O.started=!1,x.extend(O.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(L,"")},start:function(e){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=x.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,n=i.insertBefore(this.iframe,i.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),x.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(e,t){if(!O.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var i=this.root;""!==e&&"?"!==e.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+e;if(e=this.decodeFragment(e.replace(D,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),l.history=new O;v.extend=y.extend=P.extend=T.extend=O.extend=function(e,t){var i,n=this;i=e&&x.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},x.extend(i,n,t);var o=function(){this.constructor=i};return o.prototype=n.prototype,i.prototype=new o,e&&x.extend(i.prototype,e),i.__super__=n.prototype,i};var M=function(){throw new Error('A "url" property or function must be specified')},z=function(t,i){var n=i.error;i.error=function(e){n&&n.call(i.context,t,e,i),t.trigger("error",t,e,i)}};return l}),function(t,i){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(e){return t.Bloodhound=i(e)}):"object"==typeof exports?module.exports=i(require("jquery")):t.Bloodhound=i(jQuery)}(this,function(p){var f=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:p.isArray,isFunction:p.isFunction,isObject:p.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof p},toStr:function(e){return f.isUndefined(e)||null===e?"":e+""},bind:p.proxy,each:function(e,i){p.each(e,function(e,t){return i(t,e)})},map:p.map,filter:p.grep,every:function(i,n){var o=!0;return i?(p.each(i,function(e,t){if(!(o=n.call(null,t,e,i)))return!1}),!!o):o},some:function(i,n){var o=!1;return i?(p.each(i,function(e,t){if(o=n.call(null,t,e,i))return!1}),!!o):o},mixin:p.extend,identity:function(e){return e},clone:function(e){return p.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return p.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(o,r,s){var a,l;return function(){var e,t,i=this,n=arguments;return e=function(){a=null,s||(l=o.apply(i,n))},t=s&&!a,clearTimeout(a),a=setTimeout(e,r),t&&(l=o.apply(i,n)),l}},throttle:function(i,n){var o,r,s,a,l,c;return l=0,c=function(){l=new Date,s=null,a=i.apply(o,r)},function(){var e=new Date,t=n-(e-l);return o=this,r=arguments,t<=0?(clearTimeout(s),s=null,l=e,a=i.apply(o,r)):s||(s=setTimeout(c,t)),a}},stringify:function(e){return f.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i=function(){"use strict";return{nonword:t,whitespace:e,obj:{nonword:i(t),whitespace:i(e)}};function e(e){return(e=f.toStr(e))?e.split(/\s+/):[]}function t(e){return(e=f.toStr(e))?e.split(/\W+/):[]}function i(n){return function(e){return e=f.isArray(e)?e:[].slice.call(arguments,0),function(t){var i=[];return f.each(e,function(e){i=i.concat(n(f.toStr(t[e])))}),i}}}}(),n=function(){"use strict";function e(e){this.maxSize=f.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=p.noop)}function t(){this.head=this.tail=null}function o(e,t){this.key=e,this.val=t,this.prev=this.next=null}return f.mixin(e.prototype,{set:function(e,t){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new o(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new t}}),f.mixin(t.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),t=function(){"use strict";var r;try{(r=window.localStorage).setItem("~~~","!"),r.removeItem("~~~")}catch(e){r=null}function e(e,t){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+f.escapeRegExChars(this.prefix)),this.ls=t||r,!this.ls&&this._noop()}return f.mixin(e.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=f.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),i(this.ls.getItem(this._prefix(e)))},set:function(e,t,i){return f.isNumber(i)?this._safeSet(this._ttlKey(e),o(n()+i)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),o(t))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=function(e){var t,i,n=[],o=r.length;for(t=0;t<o;t++)(i=r.key(t)).match(e)&&n.push(i.replace(e,""));return n}(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var t=i(this.ls.getItem(this._ttlKey(e)));return!!(f.isNumber(t)&&n()>t)}}),e;function n(){return(new Date).getTime()}function o(e){return JSON.stringify(f.isUndefined(e)?null:e)}function i(e){return p.parseJSON(e)}}(),o=function(){"use strict";var a=0,l={},c=6,t=new n(10);function e(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new n(0):t}return e.setMaxPendingRequests=function(e){c=e},e.resetCache=function(){t.reset()},f.mixin(e.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+p.param(e.data||{})},_get:function(e,t){var i,n,o=this;function r(e){t(null,e),o._cache.set(i,e)}function s(){t(!0)}i=this._fingerprint(e),this.cancelled||i!==this.lastReq||((n=l[i])?n.done(r).fail(s):a<c?(a++,l[i]=this._send(e).done(r).fail(s).always(function(){a--,delete l[i],o.onDeckRequestArgs&&(o._get.apply(o,o.onDeckRequestArgs),o.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t){var i,n;t=t||p.noop,e=f.isString(e)?{url:e}:e||{},n=this._fingerprint(e),this.cancelled=!1,this.lastReq=n,(i=this._cache.get(n))?t(null,i):this._get(e,t)},cancel:function(){this.cancelled=!0}}),e}(),r=window.SearchIndex=function(){"use strict";var a="c",l="i";function e(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||p.error("datumTokenizer and queryTokenizer are both required"),this.identify=e.identify||f.stringify,this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}return f.mixin(e.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var r=this;e=f.isArray(e)?e:[e],f.each(e,function(e){var o,t;r.datums[o=r.identify(e)]=e,t=i(r.datumTokenizer(e)),f.each(t,function(e){var t,i,n;for(t=r.trie,i=e.split("");n=i.shift();)(t=t[a][n]||(t[a][n]=s()))[l].push(o)})})},get:function(e){var t=this;return f.map(e,function(e){return t.datums[e]})},search:function(e){var t,r,s=this;return t=i(this.queryTokenizer(e)),f.each(t,function(e){var t,i,n,o;if(r&&0===r.length)return!1;for(t=s.trie,i=e.split("");t&&(n=i.shift());)t=t[a][n];if(!t||0!==i.length)return!(r=[]);o=t[l].slice(0),r=r?function(e,t){var i=0,n=0,o=[];e=e.sort(),t=t.sort();var r=e.length,s=t.length;for(;i<r&&n<s;)e[i]<t[n]?i++:(e[i]>t[n]||(o.push(e[i]),i++),n++);return o}(r,o):o}),r?f.map(function(e){for(var t={},i=[],n=0,o=e.length;n<o;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}(r),function(e){return s.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),e;function i(e){return e=f.filter(e,function(e){return!!e}),e=f.map(e,function(e){return e.toLowerCase()})}function s(){var e={};return e[l]=[],e[a]={},e}}(),s=function(){"use strict";var i;function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new t(e.cacheKey)}return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},f.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(i.data,e,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(i.data),t.protocol=this.storage.get(i.protocol),t.thumbprint=this.storage.get(i.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(t){var e,i=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,i.transform(e))}))},clear:function(){return this.storage.clear(),this}}),e}(),a=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new o({cache:e.cache,limiter:e.limiter,transport:e.transport})}return f.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,i){var t,n=this;if(i)return e=e||"",t=this.prepare(e,this._settings()),this.transport.get(t,function(e,t){i(e?[]:n.transform(t))})},cancelLastRequest:function(){this.transport.cancel()}}),e}(),l=function(){"use strict";return function(e){var t,i;return t={initialize:!0,identify:f.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(e=f.mixin(t,e||{})).datumTokenizer&&p.error("datumTokenizer is required"),!e.queryTokenizer&&p.error("queryTokenizer is required"),i=e.sorter,e.sorter=i?function(e){return e.sort(i)}:f.identity,e.local=f.isFunction(e.local)?e.local():e.local,e.prefetch=function(e){var t;if(!e)return null;return t={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:f.identity,transform:f.identity,transport:null},e=f.isString(e)?{url:e}:e,!(e=f.mixin(t,e)).url&&p.error("prefetch requires url to be set"),e.transform=e.filter||e.transform,e.cacheKey=e.cacheKey||e.url,e.thumbprint="0.11.1"+e.thumbprint,e.transport=e.transport?h(e.transport):p.ajax,e}(e.prefetch),e.remote=function(e){var t;if(!e)return;return t={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:f.identity,transport:null},e=f.isString(e)?{url:e}:e,!(e=f.mixin(t,e)).url&&p.error("remote requires url to be set"),e.transform=e.filter||e.transform,e.prepare=(l=e,c=l.prepare,u=l.replace,d=l.wildcard,c||(c=u?function(e,t){return t.url=u(t.url,e),t}:l.wildcard?function(e,t){return t.url=t.url.replace(d,encodeURIComponent(e)),t}:function(e,t){return t})),e.limiter=(i=e,n=i.limiter,o=i.rateLimitBy,r=i.rateLimitWait,n||(n=/^throttle$/i.test(o)?(a=r,function(e){return f.throttle(e,a)}):(s=r,function(e){return f.debounce(e,s)})),n),e.transport=e.transport?h(e.transport):p.ajax,delete e.replace,delete e.wildcard,delete e.rateLimitBy,delete e.rateLimitWait,e;var i,n,o,r,s,a;var l,c,u,d}(e.remote),e};function h(i){return function(e){var t=p.Deferred();return i(e,function(e){f.defer(function(){t.resolve(e)})},function(e){f.defer(function(){t.reject(e)})}),t}}}();return function(){"use strict";var e;function t(e){e=l(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new a(e.remote):null,this.prefetch=e.prefetch?new s(e.prefetch):null,this.index=new r({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}return e=window&&window.Bloodhound,t.noConflict=function(){return window&&(window.Bloodhound=e),t},t.tokenizers=i,f.mixin(t.prototype,{__ttAdapter:function(){var n=this;return this.remote?function(e,t,i){return n.search(e,t,i)}:function(e,t){return n.search(e,t)}},_loadPrefetch:function(){var i,e,n=this;return i=p.Deferred(),this.prefetch?(e=this.prefetch.fromCache())?(this.index.bootstrap(e),i.resolve()):this.prefetch.fromNetwork(function(e,t){if(e)return i.reject();n.add(t),n.prefetch.store(n.index.serialize()),i.resolve()}):i.resolve(),i.promise()},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){e.add(e.local)}),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=f.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,t,n){var o,r=this;return o=this.sorter(this.index.search(e)),t(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(e,function(e){var i=[];f.each(e,function(t){!f.some(o,function(e){return r.identify(t)===r.identify(e)})&&i.push(t)}),n&&n(i)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),t}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(w){var x=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:w.isArray,isFunction:w.isFunction,isObject:w.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof w},toStr:function(e){return x.isUndefined(e)||null===e?"":e+""},bind:w.proxy,each:function(e,i){w.each(e,function(e,t){return i(t,e)})},map:w.map,filter:w.grep,every:function(i,n){var o=!0;return i?(w.each(i,function(e,t){if(!(o=n.call(null,t,e,i)))return!1}),!!o):o},some:function(i,n){var o=!1;return i?(w.each(i,function(e,t){if(o=n.call(null,t,e,i))return!1}),!!o):o},mixin:w.extend,identity:function(e){return e},clone:function(e){return w.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return w.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(o,r,s){var a,l;return function(){var e,t,i=this,n=arguments;return e=function(){a=null,s||(l=o.apply(i,n))},t=s&&!a,clearTimeout(a),a=setTimeout(e,r),t&&(l=o.apply(i,n)),l}},throttle:function(i,n){var o,r,s,a,l,c;return l=0,c=function(){l=new Date,s=null,a=i.apply(o,r)},function(){var e=new Date,t=n-(e-l);return o=this,r=arguments,t<=0?(clearTimeout(s),s=null,l=e,a=i.apply(o,r)):s||(s=setTimeout(c,t)),a}},stringify:function(e){return x.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i=function(){"use strict";var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(e){var t,i;return i=x.mixin({},a,e),{css:(t={css:(s={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}},x.isMsie()&&x.mixin(s.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),s),classes:i,html:(r=i,{wrapper:'<span class="'+r.wrapper+'"></span>',menu:'<div class="'+r.menu+'"></div>'}),selectors:(n=i,o={},x.each(n,function(e,t){o[t]="."+e}),o)}).css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(e){x.mixin(e,t)}};var n,o;var r;var s}}(),b=function(){"use strict";var i;function e(e){e&&e.el||w.error("EventBus initialized without el"),this.$el=w(e.el)}return"typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},x.mixin(e.prototype,{_trigger:function(e,t){var i;return i=w.Event("typeahead:"+e),(t=t||[]).unshift(i),this.$el.trigger.apply(this.$el,t),i},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=i[e])&&this._trigger(t,[].slice.call(arguments,1))}}),e}(),t=function(){"use strict";var a=/\s+/,s=function(){var e;e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)};return e}();return{onSync:function(e,t,i){return n.call(this,"sync",e,t,i)},onAsync:function(e,t,i){return n.call(this,"async",e,t,i)},off:function(e){var t;if(!this._callbacks)return this;e=e.split(a);for(;t=e.shift();)delete this._callbacks[t];return this},trigger:function(e){var t,i,n,o,r;if(!this._callbacks)return this;e=e.split(a),n=[].slice.call(arguments,1);for(;(t=e.shift())&&(i=this._callbacks[t]);)o=l(i.sync,this,[t].concat(n)),r=l(i.async,this,[t].concat(n)),o()&&s(r);return this}};function n(e,t,i,n){var o,r,s;if(!i)return this;for(t=t.split(a),i=n?(s=n,(r=i).bind?r.bind(s):function(){r.apply(s,[].slice.call(arguments,0))}):i,this._callbacks=this._callbacks||{};o=t.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][e].push(i);return this}function l(n,o,r){return function(){for(var e,t=0,i=n.length;!e&&t<i;t+=1)e=!1===n[t].apply(o,r);return!e}}}(),l=function(s){"use strict";var e={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){var r;(o=x.mixin({},e,o)).node&&o.pattern&&(o.pattern=x.isArray(o.pattern)?o.pattern:[o.pattern],r=function(e,t,i){for(var n,o=[],r=0,s=e.length;r<s;r++)o.push(x.escapeRegExChars(e[r]));return n=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",t?new RegExp(n):new RegExp(n,"i")}(o.pattern,o.caseSensitive,o.wordsOnly),function e(t,i){var n;for(var o=0;o<t.childNodes.length;o++)3===(n=t.childNodes[o]).nodeType?o+=i(n)?1:0:e(n,i)}(o.node,function(e){var t,i,n;(t=r.exec(e.data))&&(n=s.createElement(o.tagName),o.className&&(n.className=o.className),(i=e.splitText(t.index)).splitText(t[0].length),n.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(n,i));return!!t}))}}(window.document),S=function(){"use strict";var r;function s(e,t){var i;(e=e||{}).input||w.error("input is missing"),t.mixin(this),this.$hint=w(e.hint),this.$input=w(e.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(i=this.$input,w('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:i.css("font-family"),fontSize:i.css("font-size"),fontStyle:i.css("font-style"),fontVariant:i.css("font-variant"),fontWeight:i.css("font-weight"),wordSpacing:i.css("word-spacing"),letterSpacing:i.css("letter-spacing"),textIndent:i.css("text-indent"),textRendering:i.css("text-rendering"),textTransform:i.css("text-transform")}).insertAfter(i)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=x.noop)}return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},s.normalizeQuery=function(e){return x.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},x.mixin(s.prototype,t,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=r[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var i;switch(e){case"up":case"down":i=!n(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!n(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var i,n,o,r;o=e,r=this.query,n=!!(i=s.normalizeQuery(o)===s.normalizeQuery(r))&&this.query.length!==e.length,this.query=e,t||i?!t&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,t,i,n,o=this;return e=x.bind(this._onBlur,this),t=x.bind(this._onFocus,this),i=x.bind(this._onKeydown,this),n=x.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",t).on("keydown.tt",i),!x.isMsie()||9<x.isMsie()?this.$input.on("input.tt",n):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){r[e.which||e.keyCode]||x.defer(x.bind(o._onInput,o,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i;i=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,i;return e=this.$input.val().length,t=this.$input[0].selectionStart,x.isNumber(t)?t===e:!document.selection||((i=document.selection.createRange()).moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=w("<div>")}}),s;function n(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}(),o=function(){"use strict";var s,a;function e(e,t){var i,n,o,r;(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||w.error("missing source"),e.node||w.error("missing node"),e.name&&(i=e.name,!/^[_a-zA-Z0-9-]+$/.test(i))&&w.error("invalid dataset name: "+e.name),t.mixin(this),this.highlight=!!e.highlight,this.name=e.name||a(),this.limit=e.limit||5,this.displayFn=(n=(n=e.display||e.displayKey)||x.stringify,x.isFunction(n)?n:function(e){return e[n]}),this.templates=(o=e.templates,r=this.displayFn,{notFound:o.notFound&&x.templatify(o.notFound),pending:o.pending&&x.templatify(o.pending),header:o.header&&x.templatify(o.header),footer:o.footer&&x.templatify(o.footer),suggestion:o.suggestion||function(e){return w("<div>").text(r(e))}}),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=x.isUndefined(e.async)?2<this.source.length:!!e.async,this._resetLastSuggestion(),this.$el=w(e.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return s={val:"tt-selectable-display",obj:"tt-selectable-object"},a=x.getIdGenerator(),e.extractData=function(e){var t=w(e);return t.data(s.obj)?{val:t.data(s.val)||"",obj:t.data(s.obj)||null}:null},x.mixin(e.prototype,t,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var i;i=this._getSuggestionsFragment(e,t),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var i,n;n=(i=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,e){var o,r=this;return o=document.createDocumentFragment(),x.each(e,function(e){var t,i;i=r._injectQuery(n,e),t=w(r.templates.suggestion(i)).data(s.obj,e).data(s.val,r.displayFn(e)).addClass(r.classes.suggestion+" "+r.classes.selectable),o.appendChild(t[0])}),this.highlight&&l({className:this.classes.highlight,node:o,pattern:n}),w(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=w()},_injectQuery:function(e,t){return x.isObject(t)?x.mixin({_query:e},t):t},update:function(t){var i=this,n=!1,o=!1,r=0;function e(e){o||(o=!0,e=(e||[]).slice(0,i.limit),r=e.length,i._overwrite(t,e),r<i.limit&&i.async&&i.trigger("asyncRequested",t))}this.cancel(),this.cancel=function(){n=!0,i.cancel=w.noop,i.async&&i.trigger("asyncCanceled",t)},this.source(t,e,function(e){e=e||[],!n&&r<i.limit&&(i.cancel=w.noop,r+=e.length,i._append(t,e.slice(0,i.limit-r)),i.async&&i.trigger("asyncReceived",t))}),!o&&e([])},cancel:w.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=w("<div>")}}),e}(),T=function(){"use strict";function e(e,i){var n=this;(e=e||{}).node||w.error("node is required"),i.mixin(this),this.$node=w(e.node),this.query=null,this.datasets=x.map(e.datasets,function(e){var t=n.$node.find(e.node).first();return e.node=t.length?t:w("<div>").appendTo(n.$node),new o(e,i)})}return x.mixin(e.prototype,t,{_onSelectableClick:function(e){this.trigger("selectableClicked",w(e.currentTarget))},_onRendered:function(e,t,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return x.every(this.datasets,function(e){return e.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,i,n,o;i=(t=e.position().top)+e.outerHeight(!0),n=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(n+t):o<i&&this.$node.scrollTop(n+(i-o))},bind:function(){var e,t=this;return e=x.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),x.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,i,n;return i=this.getActiveSelectable(),t=this._getSelectables(),-1===(n=(n=((n=(i?t.index(i):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:n)?null:t.eq(n)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?o.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(t){var e=t!==this.query;return e&&(this.query=t,x.each(this.datasets,function(e){e.update(t)})),e},empty:function(){x.each(this.datasets,function(e){e.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=w("<div>"),x.each(this.datasets,function(e){e.destroy()})}}),e}(),E=function(){"use strict";var t=T.prototype;function e(){T.apply(this,[].slice.call(arguments,0))}return x.mixin(e.prototype,T.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),C=function(){"use strict";function e(e,t){var i,n,o,r,s,a,l,c,u,d,h;(e=e||{}).input||w.error("missing input"),e.menu||w.error("missing menu"),e.eventBus||w.error("missing event bus"),t.mixin(this),this.eventBus=e.eventBus,this.minLength=x.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),i=p(this,"activate","open","_onFocused"),n=p(this,"deactivate","_onBlurred"),o=p(this,"isActive","isOpen","_onEnterKeyed"),r=p(this,"isActive","isOpen","_onTabKeyed"),s=p(this,"isActive","_onEscKeyed"),a=p(this,"isActive","open","_onUpKeyed"),l=p(this,"isActive","open","_onDownKeyed"),c=p(this,"isActive","isOpen","_onLeftKeyed"),u=p(this,"isActive","isOpen","_onRightKeyed"),d=p(this,"_openIfActive","_onQueryChanged"),h=p(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",i,this).onSync("blurred",n,this).onSync("enterKeyed",o,this).onSync("tabKeyed",r,this).onSync("escKeyed",s,this).onSync("upKeyed",a,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",u,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}return x.mixin(e.prototype,{_hacks:function(){var o,r;o=this.input.$input||w("<div>"),r=this.menu.$node||w("<div>"),o.on("blur.tt",function(e){var t,i,n;t=document.activeElement,i=r.is(t),n=0<r.has(t).length,x.isMsie()&&(i||n)&&(e.preventDefault(),e.stopImmediatePropagation(),x.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,t)},_onAsyncRequested:function(e,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(e,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(e,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=x.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,t,i,n,o,r;e=this.menu.getTopSelectable(),t=this.menu.getSelectableData(e),i=this.input.getInputValue(),!t||x.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(n=S.normalizeQuery(i),o=x.escapeRegExChars(n),(r=new RegExp("^(?:"+o+")(.+$)","i").exec(t.val))&&this.input.setHint(i+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(x.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,i;return t=this.input.getQuery(),!(!((i=this.menu.getSelectableData(e))&&t!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(e){var t,i,n,o;return t=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),o=(n=this.menu.getSelectableData(i))?n.obj:null,!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",o)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),e;function p(i){var e=[].slice.call(arguments,1);return function(){var t=[].slice.call(arguments);x.each(e,function(e){return i[e].apply(i,t)})}}}();!function(){"use strict";var e,v,t;function n(e,i){e.each(function(){var e,t=w(this);(e=t.data(v.typeahead))&&i(e,t)})}function y(e){var t;return(t=x.isJQuery(e)||x.isElement(e)?w(e).first():[]).length?t:null}e=w.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},t={initialize:function(f,m){var g;return m=x.isArray(m)?m:[].slice.call(arguments,1),g=i((f=f||{}).classNames),this.each(function(){var e,t,i,n,o,r,s,a,l,c,u;x.each(m,function(e){e.highlight=!!f.highlight}),e=w(this),t=w(g.html.wrapper),i=y(f.hint),n=y(f.menu),o=!1!==f.hint&&!i,r=!1!==f.menu&&!n,o&&(d=e,h=g,i=d.clone().addClass(h.classes.hint).removeData().css(h.css.hint).css((p=d,{backgroundAttachment:p.css("background-attachment"),backgroundClip:p.css("background-clip"),backgroundColor:p.css("background-color"),backgroundImage:p.css("background-image"),backgroundOrigin:p.css("background-origin"),backgroundPosition:p.css("background-position"),backgroundRepeat:p.css("background-repeat"),backgroundSize:p.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})),r&&(n=w(g.html.menu).css(g.css.menu)),i&&i.val(""),e=function(e,t){e.data(v.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}(e,g),(o||r)&&(t.css(g.css.wrapper),e.css(o?g.css.input:g.css.inputWithNoHint),e.wrap(t).parent().prepend(o?i:null).append(r?n:null));var d,h,p;u=r?E:T,s=new b({el:e}),a=new S({hint:i,input:e},g),l=new u({node:n,datasets:m},g),c=new C({input:a,menu:l,eventBus:s,minLength:f.minLength},g),e.data(v.www,g),e.data(v.typeahead,c)})},isEnabled:function(){var t;return n(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return n(this,function(e){e.enable()}),this},disable:function(){return n(this,function(e){e.disable()}),this},isActive:function(){var t;return n(this.first(),function(e){t=e.isActive()}),t},activate:function(){return n(this,function(e){e.activate()}),this},deactivate:function(){return n(this,function(e){e.deactivate()}),this},isOpen:function(){var t;return n(this.first(),function(e){t=e.isOpen()}),t},open:function(){return n(this,function(e){e.open()}),this},close:function(){return n(this,function(e){e.close()}),this},select:function(e){var t=!1,i=w(e);return n(this.first(),function(e){t=e.select(i)}),t},autocomplete:function(e){var t=!1,i=w(e);return n(this.first(),function(e){t=e.autocomplete(i)}),t},moveCursor:function(t){var i=!1;return n(this.first(),function(e){i=e.moveCursor(t)}),i},val:function(t){var i;return arguments.length?(n(this,function(e){e.setVal(t)}),this):(n(this.first(),function(e){i=e.getVal()}),i)},destroy:function(){return n(this,function(e,t){var i,n,o;n=(i=t).data(v.www),o=i.parent().filter(n.selectors.wrapper),x.each(i.data(v.attrs),function(e,t){x.isUndefined(e)?i.removeAttr(t):i.attr(t,e)}),i.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(n.classes.input),o.length&&(i.detach().insertAfter(o),o.remove()),e.destroy()}),this}},w.fn.typeahead=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)},w.fn.typeahead.noConflict=function(){return w.fn.typeahead=e,this}}()}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){var t,i,s={version:"0.2.0"},a=s.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function l(e,t,i){return e<t?t:i<e?i:e}function c(e){return 100*(-1+e)}s.configure=function(e){var t,i;for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&(a[t]=i);return this},s.status=null,s.set=function(t){var e=s.isStarted();t=l(t,a.minimum,1),s.status=1===t?null:t;var i=s.render(!e),n=i.querySelector(a.barSelector),o=a.speed,r=a.easing;return i.offsetWidth,u(function(e){""===a.positionUsing&&(a.positionUsing=s.getPositioningCSS()),d(n,function(e,t,i){var n;n="translate3d"===a.positionUsing?{transform:"translate3d("+c(e)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+c(e)+"%,0)"}:{"margin-left":c(e)+"%"};return n.transition="all "+t+"ms "+i,n}(t,o,r)),1===t?(d(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){d(i,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){s.remove(),e()},o)},o)):setTimeout(e,o)}),this},s.isStarted=function(){return"number"==typeof s.status},s.start=function(){s.status||s.set(0);var e=function(){setTimeout(function(){s.status&&(s.trickle(),e())},a.trickleSpeed)};return a.trickle&&e(),this},s.done=function(e){return e||s.status?s.inc(.3+.5*Math.random()).set(1):this},s.inc=function(e){var t=s.status;return t?("number"!=typeof e&&(e=(1-t)*l(Math.random()*t,.1,.95)),t=l(t+e,0,.994),s.set(t)):s.start()},s.trickle=function(){return s.inc(Math.random()*a.trickleRate)},i=t=0,s.promise=function(e){return e&&"resolved"!==e.state()&&(0===i&&s.start(),t++,i++,e.always(function(){0==--i?(t=0,s.done()):s.set((t-i)/t)})),this},s.render=function(e){if(s.isRendered())return document.getElementById("nprogress");h(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=a.template;var i,n=t.querySelector(a.barSelector),o=e?"-100":c(s.status||0),r=document.querySelector(a.parent);return d(n,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),a.showSpinner||(i=t.querySelector(a.spinnerSelector))&&p(i),r!=document.body&&h(r,"nprogress-custom-parent"),r.appendChild(t),t},s.remove=function(){n(document.documentElement,"nprogress-busy"),n(document.querySelector(a.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&p(e)},s.isRendered=function(){return!!document.getElementById("nprogress")},s.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var u=function(){var t=[];function i(){var e=t.shift();e&&e(i)}return function(e){t.push(e),1==t.length&&i()}}(),d=function(){var r=["Webkit","O","Moz","ms"],t={};function n(e){return e=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}),t[e]||(t[e]=function(e){var t=document.body.style;if(e in t)return e;for(var i,n=r.length,o=e.charAt(0).toUpperCase()+e.slice(1);n--;)if((i=r[n]+o)in t)return i;return e}(e))}function s(e,t,i){t=n(t),e.style[t]=i}return function(e,t){var i,n,o=arguments;if(2==o.length)for(i in t)void 0!==(n=t[i])&&t.hasOwnProperty(i)&&s(e,i,n);else s(e,o[1],o[2])}}();function o(e,t){return 0<=("string"==typeof e?e:r(e)).indexOf(" "+t+" ")}function h(e,t){var i=r(e),n=i+t;o(i,t)||(e.className=n.substring(1))}function n(e,t){var i,n=r(e);o(e,t)&&(i=n.replace(" "+t+" "," "),e.className=i.substring(1,i.length-1))}function r(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function p(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return s}),function(v,e){if(!v.fn.dotdotdot){v.fn.dotdotdot=function(e){if(0==this.length)return v.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){v(this).dotdotdot(e)});var o=this,r=o.contents();o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,t){switch(o.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof s.height){case"number":s.maxHeight=s.height;break;case"function":s.maxHeight=s.height.call(o[0]);break;default:s.maxHeight=function(e){for(var t=e.innerHeight(),i=["paddingTop","paddingBottom"],n=0,o=i.length;n<o;n++){var r=parseInt(e.css(i[n]),10);isNaN(r)&&(r=0),t-=r}return t}(o)}s.maxHeight+=s.tolerance,void 0!==t&&(("string"==typeof t||"nodeType"in t&&1===t.nodeType)&&(t=v("<div />").append(t).contents()),t instanceof v&&(r=t)),(c=o.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(r.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var i=!1,n=!1;return a.afterElement&&((i=a.afterElement.clone(!0)).show(),a.afterElement.detach()),y(c,s)&&(n="children"==s.wrap?function(e,t,i){var n=e.children(),o=!1;e.empty();for(var r=0,s=n.length;r<s;r++){var a=n.eq(r);if(e.append(a),i&&e.append(i),y(e,t)){a.remove(),o=!0;break}i&&i.detach()}return o}(c,s,i):function t(i,n,o,r,s){var a=!1;i.contents().detach().each(function(){var e=v(this);if(void 0===this)return!0;if(e.is("script, .dotdotdot-keep"))i.append(e);else{if(a)return!0;i.append(e),!s||e.is(r.after)||e.find(r.after).length||i[i.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](s),y(o,r)&&(a=3==this.nodeType?function(e,t,i,n,o){var r=e[0];if(!r)return!1;var s=b(r),a=-1!==s.indexOf(" ")?" ":"ã",l="letter"==n.wrap?"":a,c=s.split(l),u=-1,d=-1,h=0,p=c.length-1;n.fallbackToLetter&&0==h&&0==p&&(l="",c=s.split(l),p=c.length-1);for(;h<=p&&(0!=h||0!=p);){var f=Math.floor((h+p)/2);if(f==d)break;d=f,x(r,c.slice(0,d+1).join(l)+n.ellipsis),i.children().each(function(){v(this).toggle().toggle()}),y(i,n)?(p=d,n.fallbackToLetter&&0==h&&0==p&&(l="",c=c[0].split(l),d=u=-1,h=0,p=c.length-1)):h=u=d}if(-1==u||1==c.length&&0==c[0].length){var m=e.parent();e.detach();var g=o&&o.closest(m).length?o.length:0;m.contents().length>g?r=S(m.contents().eq(-1-g),t):(r=S(m,t,!0),g||m.detach()),r&&(s=w(b(r),n),x(r,s),g&&o&&v(r).parent().append(o))}else s=w(c.slice(0,u+1).join(l),n),x(r,s);return!0}(e,n,o,r,s):t(e,n,o,r,s)),a||s&&s.detach()}});n.addClass("is-truncated");return a}(c,o,c,s,i)),c.replaceWith(c.contents()),c=null,v.isFunction(s.callback)&&s.callback.call(o[0],n,r),a.isTruncated=n}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],a.isTruncated),a.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],r),r}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(r).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==s.watch){var e=v(window),t=e.width(),i=e.height();e.bind("resize.dot"+a.dotId,function(){t==e.width()&&i==e.height()&&s.windowResizeFix||(t=e.width(),i=e.height(),l&&clearInterval(l),l=setTimeout(function(){o.trigger("update.dot")},100))})}else n=u(o),l=setInterval(function(){if(o.is(":visible")){var e=u(o);n.width==e.width&&n.height==e.height||(o.trigger("update.dot"),n=e)}},500);return o},o.unwatch=function(){return v(window).unbind("resize.dot"+a.dotId),l&&clearInterval(l),o};var s=v.extend(!0,{},v.fn.dotdotdot.defaults,e),a={},n={},l=null,c=null;return s.lastCharacter.remove instanceof Array||(s.lastCharacter.remove=v.fn.dotdotdot.defaultArrays.lastCharacter.remove),s.lastCharacter.noEllipsis instanceof Array||(s.lastCharacter.noEllipsis=v.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),a.afterElement=function(e,t){if(!e)return!1;if("string"==typeof e)return!!(e=v(e,t)).length&&e;return!!e.jquery&&e}(s.after,o),a.isTruncated=!1,a.dotId=t++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),s.watch&&o.watch(),o},v.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},v.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","ã",",",";",".","!","?"],noEllipsis:[]}},v.fn.dotdotdot.debug=function(e){};var t=1,i=v.fn.html;v.fn.html=function(e){return null!=e&&!v.isFunction(e)&&this.data("dotdotdot")?this.trigger("update",[e]):i.apply(this,arguments)};var n=v.fn.text;v.fn.text=function(e){return null!=e&&!v.isFunction(e)&&this.data("dotdotdot")?(e=v("<div />").text(e).html(),this.trigger("update",[e])):n.apply(this,arguments)}}function y(e,t){return e.innerHeight()>t.maxHeight}function w(e,t){for(;-1<v.inArray(e.slice(-1),t.lastCharacter.remove);)e=e.slice(0,-1);return v.inArray(e.slice(-1),t.lastCharacter.noEllipsis)<0&&(e+=t.ellipsis),e}function u(e){return{width:e.innerWidth(),height:e.innerHeight()}}function x(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function b(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function r(e){for(;(e=e.previousSibling)&&1!==e.nodeType&&3!==e.nodeType;);return e}function S(e,t,i){var n,o=e&&e[0];if(o){if(!i){if(3===o.nodeType)return o;if(v.trim(e.text()))return S(e.contents().last(),t)}for(n=r(o);!n;){if((e=e.parent()).is(t)||!e.length)return!1;n=r(e[0])}if(n)return S(v(n),t)}return!1}}(jQuery),function(t,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("jquery")):t.jQueryBridget=i(t,t.jQuery)}(window,function(e,t){"use strict";var d=Array.prototype.slice,i=e.console,h=void 0===i?function(){}:function(e){i.error(e)};function n(c,o,u){(u=u||t||e.jQuery)&&(o.prototype.option||(o.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[c]=function(e){if("string"==typeof e){var t=d.call(arguments,1);return s=t,l="$()."+c+'("'+(r=e)+'")',(i=this).each(function(e,t){var i=u.data(t,c);if(i){var n=i[r];if(n&&"_"!=r.charAt(0)){var o=n.apply(i,s);a=void 0===a?o:a}else h(l+" is not a valid method")}else h(c+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:i}var i,r,s,a,l,n;return n=e,this.each(function(e,t){var i=u.data(t,c);i?(i.option(n),i._init()):(i=new o(t,n),u.data(t,c,i))}),this},r(u))}function r(e){!e||e&&e.bridget||(e.bridget=n)}return r(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function v(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var i="undefined"==typeof console?function(){}:function(e){console.error(e)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],w=y.length;function x(e){var t=getComputedStyle(e);return t||i("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var b,S=!1;function T(e){if(function(){if(!S){S=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var i=x(e);b=200==Math.round(v(i.width)),T.isBoxSizeOuter=b,t.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=x(e);if("none"==t.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<w;t++)e[y[t]]=0;return e}();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var n=i.isBorderBox="border-box"==t.boxSizing,o=0;o<w;o++){var r=y[o],s=t[r],a=parseFloat(s);i[r]=isNaN(a)?0:a}var l=i.paddingLeft+i.paddingRight,c=i.paddingTop+i.paddingBottom,u=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,p=i.borderTopWidth+i.borderBottomWidth,f=n&&b,m=v(t.width);!1!==m&&(i.width=m+(f?0:l+h));var g=v(t.height);return!1!==g&&(i.height=g+(f?0:c+p)),i.innerWidth=i.width-(l+h),i.innerHeight=i.height-(c+p),i.outerWidth=i.width+u,i.outerHeight=i.height+d,i}}return T}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var i=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i]+"MatchesSelector";if(e[n])return n}}();return function(e,t){return e[i](t)}}),function(t,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("desandro-matches-selector")):t.fizzyUIUtils=i(t,t.matchesSelector)}(window,function(c,r){var u={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;u.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},u.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},u.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},u.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},u.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.filterFindElements=function(e,n){e=u.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(n){r(e,n)&&o.push(e);for(var t=e.querySelectorAll(n),i=0;i<t.length;i++)o.push(t[i])}else o.push(e)}),o},u.debounceMethod=function(e,t,n){n=n||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,t),delete i[r]},n)}},u.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},u.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var d=c.console;return u.htmlInit=function(a,l){u.docReady(function(){var e=u.toDashed(l),o="data-"+e,t=document.querySelectorAll("["+o+"]"),i=document.querySelectorAll(".js-"+e),n=u.makeArray(t).concat(u.makeArray(i)),r=o+"-options",s=c.jQuery;n.forEach(function(t){var e,i=t.getAttribute(o)||t.getAttribute(r);try{e=i&&JSON.parse(i)}catch(e){return void(d&&d.error("Error parsing "+o+" on "+t.className+": "+e))}var n=new a(t,e);s&&s.data(t,l,n)})})},u}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",o="string"==typeof i.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],s={transform:o,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(e.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var i in e){t[s[i]||i]=e[i]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=e[t?"left":"right"],o=e[i?"top":"bottom"],r=parseFloat(n),s=parseFloat(o),a=this.layout.size;-1!=n.indexOf("%")&&(r=r/100*a.width),-1!=o.indexOf("%")&&(s=s/100*a.height),r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=t?a.paddingLeft:a.paddingRight,s-=i?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=s},l.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+e[o];t[r]=this.getXValue(a),t[s]="";var l=n?"paddingTop":"paddingBottom",c=n?"top":"bottom",u=n?"bottom":"top",d=this.position.y+e[l];t[c]=this.getYValue(d),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var r=e-i,s=t-n,a={};a.transform=this.getTranslate(r,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+o.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=u[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(o,r){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,i,n){return r(o,e,t,i,n)}):"object"==typeof module&&module.exports?module.exports=r(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=r(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(e,t,o,r,n){"use strict";var s=e.console,a=e.jQuery,i=function(){},l=0,c={};function u(e,t){var i=r.getQueryElement(e);if(i){this.element=i,a&&(this.$element=a(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var n=++l;this.element.outlayerGUID=n,(c[n]=this)._create(),this._getOption("initLayout")&&this.layout()}else s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||e))}u.namespace="outlayer",u.Item=n,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=u.prototype;function h(e){function t(){e.apply(this,arguments)}return(t.prototype=Object.create(e.prototype)).constructor=t}r.extend(d,t.prototype),d.option=function(e){r.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],o=0;o<t.length;o++){var r=new i(t[o],this);n.push(r)}return n},d._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(e){return e.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=o(this.element)},d._getMeasurement=function(e,t){var i,n=this.options[e];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[e]=i?o(i)[t]:n):this[e]=0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},d._layoutItems=function(e,i){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){var t=this._getItemLayoutPosition(e);t.item=e,t.isInstant=i||e.isLayoutInstant,n.push(t)},this),this._processLayoutQueue(n)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],n=t&&t[2];if(!i.length)return 0;i=parseFloat(i);var o=p[n]||1;return i*o}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,i,n,o){n?e.goTo(t,i):(e.stagger(o*this.stagger),e.moveTo(t,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=i,d._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(t,e){var i=this;function n(){i.dispatchEvent(t+"Complete",null,[e])}var o=e.length;if(e&&o){var r=0;e.forEach(function(e){e.once(t,s)})}else n();function s(){++r==o&&n()}},d.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),a)if(this.$element=this.$element||a(this.element),t){var o=a.Event(t);o.type=e,this.$element.trigger(o,i)}else this.$element.trigger(e,i)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){r.removeFrom(this.stamps,e),this.unignore(e)},this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=i,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,n=o(e);return{left:t.left-i.left-n.marginLeft,top:t.top-i.top-n.marginTop,right:i.right-t.right-n.marginRight,bottom:i.bottom-t.bottom-n.marginBottom}},d.handleEvent=r.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},r.debounceMethod(u,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=o(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var i=this.updateStagger();e.forEach(function(e,t){e.stagger(t*i),e.reveal()})}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var i=this.updateStagger();e.forEach(function(e,t){e.stagger(t*i),e.hide()})}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},d.getItems=function(e){e=r.makeArray(e);var i=[];return e.forEach(function(e){var t=this.getItem(e);t&&i.push(t)},this),i},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),r.removeFrom(this.items,e)},this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var i=h(u);return i.defaults=r.extend({},u.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},u.compatOptions),i.namespace=e,i.data=u.data,i.Item=h(n),r.htmlInit(i,e),a&&a.bridget&&a.bridget(e,i),i};var p={ms:1,s:1e3};return u.Item=n,u}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/item",["outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}var i=t.prototype=Object.create(e.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var i in e){var n=t[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(t,i){"use strict";function n(e){(this.isotope=e)&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}var o=n.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(e){o[e]=function(){return i.prototype[e].apply(this.isotope,arguments)}}),o.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},o._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(e,t){var i=e+t,n="outer"+t;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+t]}},o.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},o.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(e,t){function i(){n.apply(this,arguments)}return(i.prototype=Object.create(o)).constructor=i,t&&(i.options=t),n.modes[i.prototype.namespace=e]=i},n}),function(e,t){"function"==typeof define&&define.amd?define("masonry-layout/masonry",["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,c){var t=e.create("masonry");t.compatOptions.fitWidth="isFitWidth";var i=t.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&c(t).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,o=n/i,r=i-n%i;o=Math[r&&r<1?"round":"floor"](o),this.cols=Math.max(o,1)},i.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,t=c(e);this.containerWidth=t&&t.innerWidth},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),o={x:this.columnWidth*n.col,y:n.y},r=n.y+e.size.outerHeight,s=i+n.col,a=n.col;a<s;a++)this.colYs[a]=r;return o},i._getTopColPosition=function(e){var t=this._getTopColGroup(e),i=Math.min.apply(Math,t);return{col:t.indexOf(i),y:i}},i._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;n<i;n++)t[n]=this._getColGroupY(n,e);return t},i._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var i=this.colYs.slice(e,e+t);return Math.max.apply(Math,i)},i._getHorizontalColPosition=function(e,t){var i=this.horizontalColIndex%this.cols;i=1<e&&i+e>this.cols?0:i;var n=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=n?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}},i._manageStamp=function(e){var t=c(e),i=this._getElementOffset(e),n=this._getOption("originLeft")?i.left:i.right,o=n+t.outerWidth,r=Math.floor(n/this.columnWidth);r=Math.max(0,r);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this._getOption("originTop")?i.top:i.bottom)+t.outerHeight,l=r;l<=s;l++)this.colYs[l]=Math.max(a,this.colYs[l])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/masonry",["../layout-mode","masonry-layout/masonry"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";var i=e.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in t.prototype)o[r]||(n[r]=t.prototype[r]);var s=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=n._getOption;return n._getOption=function(e){return"fitWidth"==e?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows"),i=t.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,n},i._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0}),i=t.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=e.size.outerHeight,{x:t,y:i}},i._getContainerSize=function(){return{height:this.y}},t}),function(s,a){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope-layout/js/item","isotope-layout/js/layout-mode","isotope-layout/js/layout-modes/masonry","isotope-layout/js/layout-modes/fit-rows","isotope-layout/js/layout-modes/vertical"],function(e,t,i,n,o,r){return a(s,e,t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=a(s,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope-layout/js/item"),require("isotope-layout/js/layout-mode"),require("isotope-layout/js/layout-modes/masonry"),require("isotope-layout/js/layout-modes/fit-rows"),require("isotope-layout/js/layout-modes/vertical")):s.Isotope=a(s,s.Outlayer,s.getSize,s.matchesSelector,s.fizzyUIUtils,s.Isotope.Item,s.Isotope.LayoutMode)}(window,function(e,i,t,n,r,o,s){var a=e.jQuery,l=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},c=i.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=o,c.LayoutMode=s;var u=c.prototype;u._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),i.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],s.modes)this._initLayoutMode(e)},u.reloadItems=function(){this.itemGUID=0,i.prototype.reloadItems.call(this)},u._itemize=function(){for(var e=i.prototype._itemize.apply(this,arguments),t=0;t<e.length;t++){e[t].id=this.itemGUID++}return this._updateItemsSortData(e),e},u._initLayoutMode=function(e){var t=s.modes[e],i=this.options[e]||{};this.options[e]=t.options?r.extend(t.options,i):i,this.modes[e]=new t(this)},u.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},u._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},u.arrange=function(e){this.option(e),this._getIsInstant();var t=this._filter(this.items);this.filteredItems=t.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[t]):this._hideReveal(t),this._sort(),this._layout()},u._init=u.arrange,u._hideReveal=function(e){this.reveal(e.needReveal),this.hide(e.needHide)},u._getIsInstant=function(){var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;return this._isInstant=t},u._bindArrangeComplete=function(){var e,t,i,n=this;function o(){e&&t&&i&&n.dispatchEvent("arrangeComplete",null,[n.filteredItems])}this.once("layoutComplete",function(){e=!0,o()}),this.once("hideComplete",function(){t=!0,o()}),this.once("revealComplete",function(){i=!0,o()})},u._filter=function(e){var t=this.options.filter;t=t||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(t),s=0;s<e.length;s++){var a=e[s];if(!a.isIgnored){var l=r(a);l&&i.push(a),l&&a.isHidden?n.push(a):l||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},u._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},u.updateSortData=function(e){var t;e?(e=r.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},u._getSorters=function(){var e=this.options.getSortData;for(var t in e){var i=e[t];this._sorters[t]=d(i)}},u._updateItemsSortData=function(e){for(var t=e&&e.length,i=0;t&&i<t;i++){e[i].updateSortData()}};var d=function(e){if("string"!=typeof e)return e;var t,i,n=l(e).split(" "),o=n[0],r=o.match(/^\[(.+)\]$/),s=(t=r&&r[1],i=o,t?function(e){return e.getAttribute(t)}:function(e){var t=e.querySelector(i);return t&&t.textContent}),a=c.sortDataParsers[n[1]];return e=a?function(e){return e&&a(s(e))}:function(e){return e&&s(e)}};c.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},u._sort=function(){if(this.options.sortBy){var e=r.makeArray(this.options.sortBy);this._getIsSameSortBy(e)||(this.sortHistory=e.concat(this.sortHistory));var l,c,t=(l=this.sortHistory,c=this.options.sortAscending,function(e,t){for(var i=0;i<l.length;i++){var n=l[i],o=e.sortData[n],r=t.sortData[n];if(r<o||o<r){var s=void 0!==c[n]?c[n]:c,a=s?1:-1;return(r<o?1:-1)*a}}return 0});this.filteredItems.sort(t)}},u._getIsSameSortBy=function(e){for(var t=0;t<e.length;t++)if(e[t]!=this.sortHistory[t])return!1;return!0},u._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},u._resetLayout=function(){i.prototype._resetLayout.call(this),this._mode()._resetLayout()},u._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},u._manageStamp=function(e){this._mode()._manageStamp(e)},u._getContainerSize=function(){return this._mode()._getContainerSize()},u.needsResizeLayout=function(){return this._mode().needsResizeLayout()},u.appended=function(e){var t=this.addItems(e);if(t.length){var i=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(i)}},u.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=t.concat(this.items)}},u._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},u.insert=function(e){var t=this.addItems(e);if(t.length){var i,n,o=t.length;for(i=0;i<o;i++)n=t[i],this.element.appendChild(n.element);var r=this._filter(t).matches;for(i=0;i<o;i++)t[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<o;i++)delete t[i].isLayoutInstant;this.reveal(r)}};var h=u.remove;return u.remove=function(e){e=r.makeArray(e);var t=this.getItems(e);h.call(this,e);for(var i=t&&t.length,n=0;i&&n<i;n++){var o=t[n];r.removeFrom(this.filteredItems,o)}},u.shuffle=function(){for(var e=0;e<this.items.length;e++){this.items[e].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},u._noTransition=function(e,t){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.apply(this,t);return this.options.transitionDuration=i,n},u.getFilteredItemElements=function(){return this.filteredItems.map(function(e){return e.element})},c});